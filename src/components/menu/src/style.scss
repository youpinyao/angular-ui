@import "../../../scss/constant";
@import "../../../scss/mixin";

/* 顶部菜单样式 */
.nav {
  float: left;
  position: relative;
  > ul {
    float: left;
    li {
      float: left;
      font-size: $font18;
      opacity: 0.5;
      line-height: $headerHeight;
      text-align: center;
      padding: 0px 30px;
      @include transition(opacity 300ms ease);
      a {
        color: $white;
        position: relative;
        display: inline-block;

        &:after {
          @include transition();
          @include transform(scale(0));
          opacity: 0;
          content: "";
          display: block;
          height: 4px;
          width: 100%;
          background-color: $primary;
          position: absolute;
          left: 0px;
          bottom: 0px;
        }
      }
      &:hover {
        opacity: 1;
      }
    }
    li.active {
      opacity: 1;
      a:after {
        @include transform(scale(1));
        opacity: 1;
      }
    }
  }

  /* 二级菜单样式 */
  .second-nav {
    opacity: 0;
    visibility: hidden;
    @include transform-origin();
    @include transform(scaleY(0));
    @include transition();
    position: fixed;
    z-index: 10;
    left: 0px;
    top: $headerHeight;
    width: 100%;
    min-width: $minWidth;
    background: $white;
    box-shadow: inset 0 -1px 0 0 $shadow;
    padding-left: 250px;
    ul {
      li {
        float: left;
        line-height: $secondNavHeight;
        font-size: $font16;
        a {
          display: block;
          padding: 0px 20px;
          color: $base;
          @include transition(color 300ms ease);
        }
        &:hover a,
        &.active a {
          color: $primary;
        }
      }
    }
  }

  .second-nav.show {
    opacity: 1;
    visibility: visible;
    @include transform(scaleY(1));
  }

}

.has-second-nav {
  > .main {
    margin-top: $secondNavHeight;
  }
}

.header-fixed.has-second-nav {
  > .main {
    margin-top: $headerHeight + $secondNavHeight + 20px;
  }
}

/* 侧边菜单 */
body.has-sider-menu > .main {
  position: relative;
  z-index: 1;
  margin-right: 0px;
  margin-left: $siderWidth;
  min-width: $minWidth - $siderWidth;
  width: auto;
  @include transition(none);
}

@mixin siderContentPadding($count: 1){
  @if $count < 4 {
  > .sider-menu-content {
      > .sider-menu-item {
        > a {
          padding: 10px 0px 10px (30px + 10px * $count);
        }
        @include siderContentPadding($count + 1);
      }
    }
  }
}
.sider-menu {
  overflow: hidden;
  z-index: 10;
  width: $siderWidth;
  position: fixed;
  left: 0px;
  top: $headerHeight;
  bottom: 0px;
  margin: auto;
  background-color: $white;
  box-shadow: 0 0 4px 0 rgba($black, 0.05);
  overflow: auto;
  .sider-menu-title {
    font-size: $font18;
    padding: 20px 30px;
  }
  .sider-menu-content {
    overflow: hidden;
    @include transition();
    &.hide {
      height: 0 !important;
      opacity: 0 !important;
      display: none\9\0 !important;
    }
  }
  > .sider-menu-content {
    box-shadow: inset 0 -1px 0 0 $shadow;
    .sider-menu-item {
      a {
        position: relative;
        color: $black;
        display: block;
        font-size: $font14;
        @include transition();
        &.active {
          background-color: $siderBg;
        }
        &.active,
        &:hover {
          color: $primary;
        }
        i.iconfont {
          display: block;
          height: 20px;
          line-height: 20px;
          font-size: $font12;
          position: absolute;
          right: 20px;
          top: 0px;
          bottom: 0px;
          margin: auto;
        }
        &.arrow {
          padding-right: 30px !important;
        }
      }
    }
    > .sider-menu-item {
      > a {
        box-shadow: inset 0 1px 0 0 $shadow;
        font-size: $font16;
        padding: 15px 0px 15px 30px;
      }
      @include siderContentPadding();
    }
  }
}
