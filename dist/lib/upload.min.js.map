{"version":3,"sources":["webpack:///upload.min.js","webpack:///./src/components/message/src/service.js","webpack:///./src/components/icons/index.js?fdc0*****","webpack:///./src/components/upload/src/lib/angular-file-upload.js","webpack:///./src/components/upload/index.js","webpack:///./src/components/upload/src/maUploadImageTpl.html","webpack:///./src/components/message/src/maMessageTpl.html","webpack:///./src/components/message/src/name.js","webpack:///./src/components/upload/src/name.js","webpack:///./src/components/progress/src/maProgressTpl.html","webpack:///./src/components/button/src/directive.js?4b54*****","webpack:///./src/components/icons/src/maCircleTpl.html?8e2a*****","webpack:///./src/components/progress/src/name.js","webpack:///./src/components/message/index.js","webpack:///./src/components/progress/src/directive.js","webpack:///./src/components/upload/src/maUploadTpl.html","webpack:///./src/components/progress/index.js","webpack:///./src/components/icons/src/name.js?6eb2*****","webpack:///./src/components/message/src/directive.js","webpack:///./src/components/button/src/name.js?83ae*****","webpack:///./src/components/button/index.js?9647*****","webpack:///./src/components/upload/src/directive.js","webpack:///./src/components/icons/src/directive.js?a925*****"],"names":["webpackJsonp","/Las","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","messageFactory","$rootScope","$q","$http","$timeout","$compile","hideMessage","index","msg","weakTipList","hide","setTimeout","remove","messageBox","_jquery2","length","_maMessageTpl2","append","$hideMessage","danger","text","this","show","success","warning","type","clearList","hasSame","push","list","angular","forEach","d","has","_name","_name2","_jquery","_maMessageTpl","factory","$inject","/cD4","Object","defineProperty","value","config","run","4uR7","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","prototype","root","apply","undefined","modules","moduleId","installedModules","id","loaded","call","m","c","p","_config","_config2","_options","_options2","_FileUploader","_FileUploader2","_FileLikeObject","_FileLikeObject2","_FileItem","_FileItem2","_FileDirective","_FileDirective2","_FileSelect","_FileSelect2","_Pipeline","_Pipeline2","_FileDrop","_FileDrop2","_FileOver","_FileOver2","_FileSelect3","_FileSelect4","_FileDrop3","_FileDrop4","_FileOver3","_FileOver4","name","directive","FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver","Pipeline","url","alias","headers","queue","progress","autoUpload","removeAfterUpload","method","filters","formData","queueLimit","Number","MAX_VALUE","withCredentials","disableMultipart","_classCallCheck","instance","Constructor","TypeError","__identity","fileUploaderOptions","$window","File","FormData","options","settings","copy","extend","isUploading","_nextIndex","_directives","select","drop","over","unshift","fn","_queueLimitFilter","_folderFilter","addToQueue","files","_this","incomingQueue","isArrayLikeObject","Array","slice","arrayOfFilters","_getFilters","count","addedFileItems","done","_onAfterAddingAll","_getTotalProgress","_render","uploadAll","next","something","shift","isUndefined","fileLikeObject","isFile","pipes","_convertFiltersToPipes","pipeline","onThrown","err","originalFilter","pipe","_err$args","_slicedToArray","args","_onWhenAddingFileFailed","onSuccessful","fileItem","_onAfterAddingFile","exec","removeFromQueue","getIndexOfItem","item","cancel","splice","_destroy","clearQueue","uploadItem","transport","isHTML5","_prepareToUploading","_onBeforeUploadItem","isCancel","cancelItem","_this2","prop","abort","dummy","_onCancelItem","concat","_onCompleteItem","items","getNotUploadedItems","filter","upload","cancelAll","isFileLikeObject","isNumber","indexOf","isUploaded","getReadyItems","isReady","sort","item1","item2","destroy","_this3","key","object","onAfterAddingAll","fileItems","onAfterAddingFile","onWhenAddingFileFailed","onBeforeUploadItem","onProgressItem","onProgressAll","onSuccessItem","response","status","onErrorItem","onCancelItem","onCompleteItem","onCompleteAll","notUploaded","uploaded","ratio","current","Math","round","isArray","names","match","_this4","map","bind","isAsync","$$phase","$apply","size","_isSuccessCode","_transformResponse","headersGetter","_headersGetter","defaults","transformResponse","transformFn","_parseHeaders","val","i","parsed","split","line","trim","toLowerCase","parsedHeaders","_xhrTransport","sendable","_this5","xhr","_xhr","XMLHttpRequest","_file","file","onprogress","event","lengthComputable","total","_onProgressItem","onload","getAllResponseHeaders","gist","onerror","_onErrorItem","onabort","open","setRequestHeader","send","_iframeTransport","_this6","form","element","iframe","Date","now","input","_input","_form","replaceWith","element_","action","target","enctype","encoding","html","contentDocument","body","innerHTML","e","_onSuccessItem","unbind","after","submit","_onBeforeUpload","_onProgress","_onSuccess","_onError","_onCancel","_onComplete","nextItem","isDefined","isObject","inherit","source","create","super_","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","_angular","fileOrInput","isInput","isElement","fakePathOrObject","isString","_createFromFakePath","path","lastModifiedDate","lastIndexOf","_createFromObject","uploader","some","clone","isSuccess","isError","message","code","onBeforeUpload","onProgress","onSuccess","onError","onCancel","onComplete","_replaceNode","scope","css","_saveLinks","events","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","extendedOptions","$destroy","change","removeAttr","getOptions","getFilters","isEmptyAfterSelection","attr","onChange","_toConsumableArray","arr2","from","arguments","Error","deferred","defer","onFulfilled","onRejected","promise","then","Boolean","_len","_key","dragover","dragleave","onDrop","transfer","_getTransfer","_preventAndStop","_removeOverClass","onDragOver","_haveFiles","types","dropEffect","_addOverClass","onDragLeave","currentTarget","dataTransfer","originalEvent","preventDefault","stopPropagation","contains","addOverClass","removeOverClass","overClass","addClass","getOverClass","removeClass","$parse","link","attributes","$eval","5d4z","_button","_button2","_icons","_icons2","_progress","_progress2","_message","_message2","8o0r","F7JF","HDDE","N6Gv","PHaT","S1RN","maClick","restrict","attrs","ctrl","hasClass","$event","$args","parseInt","delay","maButton","transclude","template","flat","active","loading","disabled","replace","UX8a","VICL","WB2H","XMKs","maProgress","percent","strokeWidth","updateProgress","svg","find","$observe","_maProgressTpl","_maProgressTpl2","Z/eS","bl4z","brJl","fbZV","maMessage","g66R","lkey","m196","maUpload","$message","$utils","_maUpload","_maUploadTpl2","maUploadImage","_maUploadImageTpl2","accept","maUploadOss","maUploadImageOss","defaultConfig","maUploadLink","appendElement","fileInput","insertAfter","_scope$uploadConfig","uuid","ngModel","uploadConfig","_scope$uploadConfig2","_scope$uploadConfig3","data","file_id","ossConfig","fileConfig","OSSAccessKeyId","convert","_scope$uploadConfig4","newFiles","_scope$uploadConfig5","showSizeTip","mText","parseFloat","toFixed","k","multiple","viewUrl","convertData","dir","policy","success_action_status","signature","limit","buttonBaseOnLimit","limitArray","itemName","toUpperCase","hasOver","each","includes","allImageAccept","join","test","uploaderConfig","$ctrl","newUploader","$root","maUploadConfigs","parents","position","eq","contents","el","require","showDelete","extra","onDelete","controllerAs","controller","maUploadController","$scope","$lightGallery","$element","isSnapshot","getSnapshot","snapshotUrl","isVideo","clickInput","trigger","viewFile","$index","urls","isImg","preview","window","reg","getFileIcon","isExcle","isTxt","isPdf","isWord","isPpt","delFile","_moment","_maUploadTpl","_maUploadImageTpl","qSUM","maIcon","controllers","_maCircleTpl"],"mappings":"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","file":"upload.min.js","sourcesContent":["webpackJsonp([5,20,22,25,30],{\n\n/***/ \"/Las\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _name = __webpack_require__(\"HDDE\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _jquery = __webpack_require__(\"7t+N\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _maMessageTpl = __webpack_require__(\"F7JF\");\n\nvar _maMessageTpl2 = _interopRequireDefault(_maMessageTpl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).factory('$message', messageFactory);\n\nmessageFactory.$inject = ['$rootScope', '$q', '$http', '$timeout', '$compile'];\n\nfunction messageFactory($rootScope, $q, $http, $timeout, $compile) {\n  $rootScope.weakTipList = [];\n\n  var messageBox = (0, _jquery2['default'])('.weak-tip');\n\n  if (!messageBox.length) {\n    messageBox = (0, _jquery2['default'])(_maMessageTpl2['default']);\n    (0, _jquery2['default'])('body').append(messageBox);\n    $compile(messageBox)($rootScope);\n    $rootScope.$hideMessage = hideMessage;\n  }\n\n  function hideMessage(index) {\n    var msg = $rootScope.weakTipList[index];\n\n    msg.hide = true;\n    $timeout();\n    setTimeout(function (msg) {\n      msg.remove = true;\n      $timeout();\n    }, 800, msg);\n  }\n\n  return {\n    danger: function danger(text) {\n      this.show('danger', text);\n    },\n    success: function success(text) {\n      this.show('success', text);\n    },\n    warning: function warning(text) {\n      this.show('warning', text);\n    },\n    show: function show(type, text) {\n      this.clearList();\n      if (this.hasSame(type, text)) {\n        return;\n      }\n\n      var msg = {\n        type: type,\n        text: text || '空'\n      };\n      $rootScope.weakTipList.push(msg);\n\n      setTimeout(function (msg) {\n        msg.hide = false;\n        $timeout();\n      }, 50, msg);\n\n      setTimeout(function (msg) {\n        msg.hide = true;\n        $timeout();\n        setTimeout(function (msg) {\n          msg.remove = true;\n          $timeout();\n        }, 350, msg);\n      }, 2000, msg);\n    },\n    clearList: function clearList() {\n      var list = [];\n      angular.forEach($rootScope.weakTipList, function (d) {\n        if (d.remove !== true) {\n          list.push(d);\n        }\n      });\n      $rootScope.weakTipList = list;\n    },\n    hasSame: function hasSame(type, text) {\n      var has = false;\n      angular.forEach($rootScope.weakTipList, function (d) {\n        if (d.text === text && d.type === type) {\n          has = true;\n        }\n      });\n\n      return has;\n    }\n  };\n}\n\n/***/ }),\n\n/***/ \"/cD4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name = __webpack_require__(\"brJl\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default'], []).config(function () {}).run(function () {});\n\n__webpack_require__(\"qSUM\");\n\nexports['default'] = _name2['default'];\n\n/***/ }),\n\n/***/ \"4uR7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*\n angular-file-upload v2.5.0\n https://github.com/nervgh/angular-file-upload\n*/\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? 'undefined' : _typeof(exports)) === 'object' && ( false ? 'undefined' : _typeof(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') exports[\"angular-file-upload\"] = factory();else root[\"angular-file-upload\"] = factory();\n})(undefined, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/\n      var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/\n      function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/\n        if (installedModules[moduleId])\n          /******/\n          return installedModules[moduleId].exports;\n        /******/\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n          /******/\n          exports: {},\n          /******/\n          id: moduleId,\n          /******/\n          loaded: false\n          /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.loaded = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/\n      __webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/\n      __webpack_require__.c = installedModules;\n      /******/\n      /******/ // __webpack_public_path__\n      /******/\n      __webpack_require__.p = \"\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/\n      return __webpack_require__(0);\n      /******/\n    }(\n    /************************************************************************/\n    /******/\n    [\n    /* 0 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      var _options = __webpack_require__(2);\n\n      var _options2 = _interopRequireDefault(_options);\n\n      var _FileUploader = __webpack_require__(3);\n\n      var _FileUploader2 = _interopRequireDefault(_FileUploader);\n\n      var _FileLikeObject = __webpack_require__(4);\n\n      var _FileLikeObject2 = _interopRequireDefault(_FileLikeObject);\n\n      var _FileItem = __webpack_require__(5);\n\n      var _FileItem2 = _interopRequireDefault(_FileItem);\n\n      var _FileDirective = __webpack_require__(6);\n\n      var _FileDirective2 = _interopRequireDefault(_FileDirective);\n\n      var _FileSelect = __webpack_require__(7);\n\n      var _FileSelect2 = _interopRequireDefault(_FileSelect);\n\n      var _Pipeline = __webpack_require__(8);\n\n      var _Pipeline2 = _interopRequireDefault(_Pipeline);\n\n      var _FileDrop = __webpack_require__(9);\n\n      var _FileDrop2 = _interopRequireDefault(_FileDrop);\n\n      var _FileOver = __webpack_require__(10);\n\n      var _FileOver2 = _interopRequireDefault(_FileOver);\n\n      var _FileSelect3 = __webpack_require__(11);\n\n      var _FileSelect4 = _interopRequireDefault(_FileSelect3);\n\n      var _FileDrop3 = __webpack_require__(12);\n\n      var _FileDrop4 = _interopRequireDefault(_FileDrop3);\n\n      var _FileOver3 = __webpack_require__(13);\n\n      var _FileOver4 = _interopRequireDefault(_FileOver3);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      angular.module(_config2['default'].name, []).value('fileUploaderOptions', _options2['default']).factory('FileUploader', _FileUploader2['default']).factory('FileLikeObject', _FileLikeObject2['default']).factory('FileItem', _FileItem2['default']).factory('FileDirective', _FileDirective2['default']).factory('FileSelect', _FileSelect2['default']).factory('FileDrop', _FileDrop2['default']).factory('FileOver', _FileOver2['default']).factory('Pipeline', _Pipeline2['default']).directive('nvFileSelect', _FileSelect4['default']).directive('nvFileDrop', _FileDrop4['default']).directive('nvFileOver', _FileOver4['default']).run(['FileUploader', 'FileLikeObject', 'FileItem', 'FileDirective', 'FileSelect', 'FileDrop', 'FileOver', 'Pipeline', function (FileUploader, FileLikeObject, FileItem, FileDirective, FileSelect, FileDrop, FileOver, Pipeline) {\n        // only for compatibility\n        FileUploader.FileLikeObject = FileLikeObject;\n        FileUploader.FileItem = FileItem;\n        FileUploader.FileDirective = FileDirective;\n        FileUploader.FileSelect = FileSelect;\n        FileUploader.FileDrop = FileDrop;\n        FileUploader.FileOver = FileOver;\n        FileUploader.Pipeline = Pipeline;\n      }]);\n\n      /***/\n    },\n    /* 1 */\n    /***/\n    function (module, exports) {\n\n      module.exports = {\n        \"name\": \"angularFileUpload\"\n      };\n\n      /***/\n    },\n    /* 2 */\n    /***/\n    function (module, exports) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = {\n        url: '/',\n        alias: 'file',\n        headers: {},\n        queue: [],\n        progress: 0,\n        autoUpload: false,\n        removeAfterUpload: false,\n        method: 'POST',\n        filters: [],\n        formData: [],\n        queueLimit: Number.MAX_VALUE,\n        withCredentials: false,\n        disableMultipart: false\n      };\n\n      /***/\n    },\n    /* 3 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n          return _arr;\n        }\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var bind = _angular.bind;\n      var copy = _angular.copy;\n      var extend = _angular.extend;\n      var forEach = _angular.forEach;\n      var isObject = _angular.isObject;\n      var isNumber = _angular.isNumber;\n      var isDefined = _angular.isDefined;\n      var isArray = _angular.isArray;\n      var isUndefined = _angular.isUndefined;\n      var element = _angular.element;\n\n      function __identity(fileUploaderOptions, $rootScope, $http, $window, $timeout, FileLikeObject, FileItem, Pipeline) {\n        var File = $window.File;\n        var FormData = $window.FormData;\n\n        var FileUploader = function () {\n          /**********************\n           * PUBLIC\n           **********************/\n          /**\n           * Creates an instance of FileUploader\n           * @param {Object} [options]\n           * @constructor\n           */\n\n          function FileUploader(options) {\n            _classCallCheck(this, FileUploader);\n\n            var settings = copy(fileUploaderOptions);\n\n            extend(this, settings, options, {\n              isUploading: false,\n              _nextIndex: 0,\n              _directives: {\n                select: [],\n                drop: [],\n                over: []\n              }\n            });\n\n            // add default filters\n            this.filters.unshift({\n              name: 'queueLimit',\n              fn: this._queueLimitFilter\n            });\n            this.filters.unshift({\n              name: 'folder',\n              fn: this._folderFilter\n            });\n          }\n          /**\n           * Adds items to the queue\n           * @param {File|HTMLInputElement|Object|FileList|Array<Object>} files\n           * @param {Object} [options]\n           * @param {Array<Function>|String} filters\n           */\n\n          FileUploader.prototype.addToQueue = function addToQueue(files, options, filters) {\n            var _this = this;\n\n            var incomingQueue = this.isArrayLikeObject(files) ? Array.prototype.slice.call(files) : [files];\n            var arrayOfFilters = this._getFilters(filters);\n            var count = this.queue.length;\n            var addedFileItems = [];\n\n            var next = function next() {\n              var something = incomingQueue.shift();\n\n              if (isUndefined(something)) {\n                return done();\n              }\n\n              var fileLikeObject = _this.isFile(something) ? something : new FileLikeObject(something);\n              var pipes = _this._convertFiltersToPipes(arrayOfFilters);\n              var pipeline = new Pipeline(pipes);\n              var onThrown = function onThrown(err) {\n                var originalFilter = err.pipe.originalFilter;\n\n                var _err$args = _slicedToArray(err.args, 2);\n\n                var fileLikeObject = _err$args[0];\n                var options = _err$args[1];\n\n                _this._onWhenAddingFileFailed(fileLikeObject, originalFilter, options);\n                next();\n              };\n              var onSuccessful = function onSuccessful(fileLikeObject, options) {\n                var fileItem = new FileItem(_this, fileLikeObject, options);\n                addedFileItems.push(fileItem);\n                _this.queue.push(fileItem);\n                _this._onAfterAddingFile(fileItem);\n                next();\n              };\n              pipeline.onThrown = onThrown;\n              pipeline.onSuccessful = onSuccessful;\n              pipeline.exec(fileLikeObject, options);\n            };\n\n            var done = function done() {\n              if (_this.queue.length !== count) {\n                _this._onAfterAddingAll(addedFileItems);\n                _this.progress = _this._getTotalProgress();\n              }\n\n              _this._render();\n              if (_this.autoUpload) _this.uploadAll();\n            };\n\n            next();\n          };\n          /**\n           * Remove items from the queue. Remove last: index = -1\n           * @param {FileItem|Number} value\n           */\n\n          FileUploader.prototype.removeFromQueue = function removeFromQueue(value) {\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            if (item.isUploading) item.cancel();\n            this.queue.splice(index, 1);\n            item._destroy();\n            this.progress = this._getTotalProgress();\n          };\n          /**\n           * Clears the queue\n           */\n\n          FileUploader.prototype.clearQueue = function clearQueue() {\n            while (this.queue.length) {\n              this.queue[0].remove();\n            }\n            this.progress = 0;\n          };\n          /**\n           * Uploads a item from the queue\n           * @param {FileItem|Number} value\n           */\n\n          FileUploader.prototype.uploadItem = function uploadItem(value) {\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            var transport = this.isHTML5 ? '_xhrTransport' : '_iframeTransport';\n\n            item._prepareToUploading();\n            if (this.isUploading) return;\n\n            this._onBeforeUploadItem(item);\n            if (item.isCancel) return;\n\n            item.isUploading = true;\n            this.isUploading = true;\n            this[transport](item);\n            this._render();\n          };\n          /**\n           * Cancels uploading of item from the queue\n           * @param {FileItem|Number} value\n           */\n\n          FileUploader.prototype.cancelItem = function cancelItem(value) {\n            var _this2 = this;\n\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            var prop = this.isHTML5 ? '_xhr' : '_form';\n            if (!item) return;\n            item.isCancel = true;\n            if (item.isUploading) {\n              // It will call this._onCancelItem() & this._onCompleteItem() asynchronously\n              item[prop].abort();\n            } else {\n              (function () {\n                var dummy = [undefined, 0, {}];\n                var onNextTick = function onNextTick() {\n                  _this2._onCancelItem.apply(_this2, [item].concat(dummy));\n                  _this2._onCompleteItem.apply(_this2, [item].concat(dummy));\n                };\n                $timeout(onNextTick); // Trigger callbacks asynchronously (setImmediate emulation)\n              })();\n            }\n          };\n          /**\n           * Uploads all not uploaded items of queue\n           */\n\n          FileUploader.prototype.uploadAll = function uploadAll() {\n            var items = this.getNotUploadedItems().filter(function (item) {\n              return !item.isUploading;\n            });\n            if (!items.length) return;\n\n            forEach(items, function (item) {\n              return item._prepareToUploading();\n            });\n            items[0].upload();\n          };\n          /**\n           * Cancels all uploads\n           */\n\n          FileUploader.prototype.cancelAll = function cancelAll() {\n            var items = this.getNotUploadedItems();\n            forEach(items, function (item) {\n              return item.cancel();\n            });\n          };\n          /**\n           * Returns \"true\" if value an instance of File\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n          FileUploader.prototype.isFile = function isFile(value) {\n            return this.constructor.isFile(value);\n          };\n          /**\n           * Returns \"true\" if value an instance of FileLikeObject\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n          FileUploader.prototype.isFileLikeObject = function isFileLikeObject(value) {\n            return this.constructor.isFileLikeObject(value);\n          };\n          /**\n           * Returns \"true\" if value is array like object\n           * @param {*} value\n           * @returns {Boolean}\n           */\n\n          FileUploader.prototype.isArrayLikeObject = function isArrayLikeObject(value) {\n            return this.constructor.isArrayLikeObject(value);\n          };\n          /**\n           * Returns a index of item from the queue\n           * @param {Item|Number} value\n           * @returns {Number}\n           */\n\n          FileUploader.prototype.getIndexOfItem = function getIndexOfItem(value) {\n            return isNumber(value) ? value : this.queue.indexOf(value);\n          };\n          /**\n           * Returns not uploaded items\n           * @returns {Array}\n           */\n\n          FileUploader.prototype.getNotUploadedItems = function getNotUploadedItems() {\n            return this.queue.filter(function (item) {\n              return !item.isUploaded;\n            });\n          };\n          /**\n           * Returns items ready for upload\n           * @returns {Array}\n           */\n\n          FileUploader.prototype.getReadyItems = function getReadyItems() {\n            return this.queue.filter(function (item) {\n              return item.isReady && !item.isUploading;\n            }).sort(function (item1, item2) {\n              return item1.index - item2.index;\n            });\n          };\n          /**\n           * Destroys instance of FileUploader\n           */\n\n          FileUploader.prototype.destroy = function destroy() {\n            var _this3 = this;\n\n            forEach(this._directives, function (key) {\n              forEach(_this3._directives[key], function (object) {\n                object.destroy();\n              });\n            });\n          };\n          /**\n           * Callback\n           * @param {Array} fileItems\n           */\n\n          FileUploader.prototype.onAfterAddingAll = function onAfterAddingAll(fileItems) {};\n          /**\n           * Callback\n           * @param {FileItem} fileItem\n           */\n\n          FileUploader.prototype.onAfterAddingFile = function onAfterAddingFile(fileItem) {};\n          /**\n           * Callback\n           * @param {File|Object} item\n           * @param {Object} filter\n           * @param {Object} options\n           */\n\n          FileUploader.prototype.onWhenAddingFileFailed = function onWhenAddingFileFailed(item, filter, options) {};\n          /**\n           * Callback\n           * @param {FileItem} fileItem\n           */\n\n          FileUploader.prototype.onBeforeUploadItem = function onBeforeUploadItem(fileItem) {};\n          /**\n           * Callback\n           * @param {FileItem} fileItem\n           * @param {Number} progress\n           */\n\n          FileUploader.prototype.onProgressItem = function onProgressItem(fileItem, progress) {};\n          /**\n           * Callback\n           * @param {Number} progress\n           */\n\n          FileUploader.prototype.onProgressAll = function onProgressAll(progress) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileUploader.prototype.onSuccessItem = function onSuccessItem(item, response, status, headers) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileUploader.prototype.onErrorItem = function onErrorItem(item, response, status, headers) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileUploader.prototype.onCancelItem = function onCancelItem(item, response, status, headers) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileUploader.prototype.onCompleteItem = function onCompleteItem(item, response, status, headers) {};\n          /**\n           * Callback\n           */\n\n          FileUploader.prototype.onCompleteAll = function onCompleteAll() {};\n          /**********************\n           * PRIVATE\n           **********************/\n          /**\n           * Returns the total progress\n           * @param {Number} [value]\n           * @returns {Number}\n           * @private\n           */\n\n          FileUploader.prototype._getTotalProgress = function _getTotalProgress(value) {\n            if (this.removeAfterUpload) return value || 0;\n\n            var notUploaded = this.getNotUploadedItems().length;\n            var uploaded = notUploaded ? this.queue.length - notUploaded : this.queue.length;\n            var ratio = 100 / this.queue.length;\n            var current = (value || 0) * ratio / 100;\n\n            return Math.round(uploaded * ratio + current);\n          };\n          /**\n           * Returns array of filters\n           * @param {Array<Function>|String} filters\n           * @returns {Array<Function>}\n           * @private\n           */\n\n          FileUploader.prototype._getFilters = function _getFilters(filters) {\n            if (!filters) return this.filters;\n            if (isArray(filters)) return filters;\n            var names = filters.match(/[^\\s,]+/g);\n            return this.filters.filter(function (filter) {\n              return names.indexOf(filter.name) !== -1;\n            });\n          };\n          /**\n           * @param {Array<Function>} filters\n           * @returns {Array<Function>}\n           * @private\n           */\n\n          FileUploader.prototype._convertFiltersToPipes = function _convertFiltersToPipes(filters) {\n            var _this4 = this;\n\n            return filters.map(function (filter) {\n              var fn = bind(_this4, filter.fn);\n              fn.isAsync = filter.fn.length === 3;\n              fn.originalFilter = filter;\n              return fn;\n            });\n          };\n          /**\n           * Updates html\n           * @private\n           */\n\n          FileUploader.prototype._render = function _render() {\n            if (!$rootScope.$$phase) $rootScope.$apply();\n          };\n          /**\n           * Returns \"true\" if item is a file (not folder)\n           * @param {File|FileLikeObject} item\n           * @returns {Boolean}\n           * @private\n           */\n\n          FileUploader.prototype._folderFilter = function _folderFilter(item) {\n            return !!(item.size || item.type);\n          };\n          /**\n           * Returns \"true\" if the limit has not been reached\n           * @returns {Boolean}\n           * @private\n           */\n\n          FileUploader.prototype._queueLimitFilter = function _queueLimitFilter() {\n            return this.queue.length < this.queueLimit;\n          };\n          /**\n           * Checks whether upload successful\n           * @param {Number} status\n           * @returns {Boolean}\n           * @private\n           */\n\n          FileUploader.prototype._isSuccessCode = function _isSuccessCode(status) {\n            return status >= 200 && status < 300 || status === 304;\n          };\n          /**\n           * Transforms the server response\n           * @param {*} response\n           * @param {Object} headers\n           * @returns {*}\n           * @private\n           */\n\n          FileUploader.prototype._transformResponse = function _transformResponse(response, headers) {\n            var headersGetter = this._headersGetter(headers);\n            forEach($http.defaults.transformResponse, function (transformFn) {\n              response = transformFn(response, headersGetter);\n            });\n            return response;\n          };\n          /**\n           * Parsed response headers\n           * @param headers\n           * @returns {Object}\n           * @see https://github.com/angular/angular.js/blob/master/src/ng/http.js\n           * @private\n           */\n\n          FileUploader.prototype._parseHeaders = function _parseHeaders(headers) {\n            var parsed = {},\n                key,\n                val,\n                i;\n\n            if (!headers) return parsed;\n\n            forEach(headers.split('\\n'), function (line) {\n              i = line.indexOf(':');\n              key = line.slice(0, i).trim().toLowerCase();\n              val = line.slice(i + 1).trim();\n\n              if (key) {\n                parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n              }\n            });\n\n            return parsed;\n          };\n          /**\n           * Returns function that returns headers\n           * @param {Object} parsedHeaders\n           * @returns {Function}\n           * @private\n           */\n\n          FileUploader.prototype._headersGetter = function _headersGetter(parsedHeaders) {\n            return function (name) {\n              if (name) {\n                return parsedHeaders[name.toLowerCase()] || null;\n              }\n              return parsedHeaders;\n            };\n          };\n          /**\n           * The XMLHttpRequest transport\n           * @param {FileItem} item\n           * @private\n           */\n\n          FileUploader.prototype._xhrTransport = function _xhrTransport(item) {\n            var _this5 = this;\n\n            var xhr = item._xhr = new XMLHttpRequest();\n            var sendable;\n\n            if (!item.disableMultipart) {\n              sendable = new FormData();\n              forEach(item.formData, function (obj) {\n                forEach(obj, function (value, key) {\n                  sendable.append(key, value);\n                });\n              });\n\n              sendable.append(item.alias, item._file, item.file.name);\n            } else {\n              sendable = item._file;\n            }\n\n            if (typeof item._file.size != 'number') {\n              throw new TypeError('The file specified is no longer valid');\n            }\n\n            xhr.upload.onprogress = function (event) {\n              var progress = Math.round(event.lengthComputable ? event.loaded * 100 / event.total : 0);\n              _this5._onProgressItem(item, progress);\n            };\n\n            xhr.onload = function () {\n              var headers = _this5._parseHeaders(xhr.getAllResponseHeaders());\n              var response = _this5._transformResponse(xhr.response, headers);\n              var gist = _this5._isSuccessCode(xhr.status) ? 'Success' : 'Error';\n              var method = '_on' + gist + 'Item';\n              _this5[method](item, response, xhr.status, headers);\n              _this5._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.onerror = function () {\n              var headers = _this5._parseHeaders(xhr.getAllResponseHeaders());\n              var response = _this5._transformResponse(xhr.response, headers);\n              _this5._onErrorItem(item, response, xhr.status, headers);\n              _this5._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.onabort = function () {\n              var headers = _this5._parseHeaders(xhr.getAllResponseHeaders());\n              var response = _this5._transformResponse(xhr.response, headers);\n              _this5._onCancelItem(item, response, xhr.status, headers);\n              _this5._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.open(item.method, item.url, true);\n\n            xhr.withCredentials = item.withCredentials;\n\n            forEach(item.headers, function (value, name) {\n              xhr.setRequestHeader(name, value);\n            });\n\n            xhr.send(sendable);\n          };\n          /**\n           * The IFrame transport\n           * @param {FileItem} item\n           * @private\n           */\n\n          FileUploader.prototype._iframeTransport = function _iframeTransport(item) {\n            var _this6 = this;\n\n            var form = element('<form style=\"display: none;\" />');\n            var iframe = element('<iframe name=\"iframeTransport' + Date.now() + '\">');\n            var input = item._input;\n\n            if (item._form) item._form.replaceWith(input); // remove old form\n            item._form = form; // save link to new form\n\n            input.prop('name', item.alias);\n\n            forEach(item.formData, function (obj) {\n              forEach(obj, function (value, key) {\n                var element_ = element('<input type=\"hidden\" name=\"' + key + '\" />');\n                element_.val(value);\n                form.append(element_);\n              });\n            });\n\n            form.prop({\n              action: item.url,\n              method: 'POST',\n              target: iframe.prop('name'),\n              enctype: 'multipart/form-data',\n              encoding: 'multipart/form-data' // old IE\n            });\n\n            iframe.bind('load', function () {\n              var html = '';\n              var status = 200;\n\n              try {\n                // Fix for legacy IE browsers that loads internal error page\n                // when failed WS response received. In consequence iframe\n                // content access denied error is thrown becouse trying to\n                // access cross domain page. When such thing occurs notifying\n                // with empty response object. See more info at:\n                // http://stackoverflow.com/questions/151362/access-is-denied-error-on-accessing-iframe-document-object\n                // Note that if non standard 4xx or 5xx error code returned\n                // from WS then response content can be accessed without error\n                // but 'XHR' status becomes 200. In order to avoid confusion\n                // returning response via same 'success' event handler.\n\n                // fixed angular.contents() for iframes\n                html = iframe[0].contentDocument.body.innerHTML;\n              } catch (e) {\n                // in case we run into the access-is-denied error or we have another error on the server side\n                // (intentional 500,40... errors), we at least say 'something went wrong' -> 500\n                status = 500;\n              }\n\n              var xhr = {\n                response: html,\n                status: status,\n                dummy: true\n              };\n              var headers = {};\n              var response = _this6._transformResponse(xhr.response, headers);\n\n              _this6._onSuccessItem(item, response, xhr.status, headers);\n              _this6._onCompleteItem(item, response, xhr.status, headers);\n            });\n\n            form.abort = function () {\n              var xhr = {\n                status: 0,\n                dummy: true\n              };\n              var headers = {};\n              var response;\n\n              iframe.unbind('load').prop('src', 'javascript:false;');\n              form.replaceWith(input);\n\n              _this6._onCancelItem(item, response, xhr.status, headers);\n              _this6._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            input.after(form);\n            form.append(input).append(iframe);\n\n            form[0].submit();\n          };\n          /**\n           * Inner callback\n           * @param {File|Object} item\n           * @param {Object} filter\n           * @param {Object} options\n           * @private\n           */\n\n          FileUploader.prototype._onWhenAddingFileFailed = function _onWhenAddingFileFailed(item, filter, options) {\n            this.onWhenAddingFileFailed(item, filter, options);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           */\n\n          FileUploader.prototype._onAfterAddingFile = function _onAfterAddingFile(item) {\n            this.onAfterAddingFile(item);\n          };\n          /**\n           * Inner callback\n           * @param {Array<FileItem>} items\n           */\n\n          FileUploader.prototype._onAfterAddingAll = function _onAfterAddingAll(items) {\n            this.onAfterAddingAll(items);\n          };\n          /**\n           *  Inner callback\n           * @param {FileItem} item\n           * @private\n           */\n\n          FileUploader.prototype._onBeforeUploadItem = function _onBeforeUploadItem(item) {\n            item._onBeforeUpload();\n            this.onBeforeUploadItem(item);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {Number} progress\n           * @private\n           */\n\n          FileUploader.prototype._onProgressItem = function _onProgressItem(item, progress) {\n            var total = this._getTotalProgress(progress);\n            this.progress = total;\n            item._onProgress(progress);\n            this.onProgressItem(item, progress);\n            this.onProgressAll(total);\n            this._render();\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileUploader.prototype._onSuccessItem = function _onSuccessItem(item, response, status, headers) {\n            item._onSuccess(response, status, headers);\n            this.onSuccessItem(item, response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileUploader.prototype._onErrorItem = function _onErrorItem(item, response, status, headers) {\n            item._onError(response, status, headers);\n            this.onErrorItem(item, response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileUploader.prototype._onCancelItem = function _onCancelItem(item, response, status, headers) {\n            item._onCancel(response, status, headers);\n            this.onCancelItem(item, response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileUploader.prototype._onCompleteItem = function _onCompleteItem(item, response, status, headers) {\n            item._onComplete(response, status, headers);\n            this.onCompleteItem(item, response, status, headers);\n\n            var nextItem = this.getReadyItems()[0];\n            this.isUploading = false;\n\n            if (isDefined(nextItem)) {\n              nextItem.upload();\n              return;\n            }\n\n            this.onCompleteAll();\n            this.progress = this._getTotalProgress();\n            this._render();\n          };\n          /**********************\n           * STATIC\n           **********************/\n          /**\n           * Returns \"true\" if value an instance of File\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n          FileUploader.isFile = function isFile(value) {\n            return File && value instanceof File;\n          };\n          /**\n           * Returns \"true\" if value an instance of FileLikeObject\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n          FileUploader.isFileLikeObject = function isFileLikeObject(value) {\n            return value instanceof FileLikeObject;\n          };\n          /**\n           * Returns \"true\" if value is array like object\n           * @param {*} value\n           * @returns {Boolean}\n           */\n\n          FileUploader.isArrayLikeObject = function isArrayLikeObject(value) {\n            return isObject(value) && 'length' in value;\n          };\n          /**\n           * Inherits a target (Class_1) by a source (Class_2)\n           * @param {Function} target\n           * @param {Function} source\n           */\n\n          FileUploader.inherit = function inherit(target, source) {\n            target.prototype = Object.create(source.prototype);\n            target.prototype.constructor = target;\n            target.super_ = source;\n          };\n\n          return FileUploader;\n        }();\n\n        /**********************\n         * PUBLIC\n         **********************/\n        /**\n         * Checks a support the html5 uploader\n         * @returns {Boolean}\n         * @readonly\n         */\n\n        FileUploader.prototype.isHTML5 = !!(File && FormData);\n        /**********************\n         * STATIC\n         **********************/\n        /**\n         * @borrows FileUploader.prototype.isHTML5\n         */\n        FileUploader.isHTML5 = FileUploader.prototype.isHTML5;\n\n        return FileUploader;\n      }\n\n      __identity.$inject = ['fileUploaderOptions', '$rootScope', '$http', '$window', '$timeout', 'FileLikeObject', 'FileItem', 'Pipeline'];\n\n      /***/\n    },\n    /* 4 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var copy = _angular.copy;\n      var isElement = _angular.isElement;\n      var isString = _angular.isString;\n\n      function __identity() {\n\n        return function () {\n          /**\n           * Creates an instance of FileLikeObject\n           * @param {File|HTMLInputElement|Object} fileOrInput\n           * @constructor\n           */\n\n          function FileLikeObject(fileOrInput) {\n            _classCallCheck(this, FileLikeObject);\n\n            var isInput = isElement(fileOrInput);\n            var fakePathOrObject = isInput ? fileOrInput.value : fileOrInput;\n            var postfix = isString(fakePathOrObject) ? 'FakePath' : 'Object';\n            var method = '_createFrom' + postfix;\n            this[method](fakePathOrObject);\n          }\n          /**\n           * Creates file like object from fake path string\n           * @param {String} path\n           * @private\n           */\n\n          FileLikeObject.prototype._createFromFakePath = function _createFromFakePath(path) {\n            this.lastModifiedDate = null;\n            this.size = null;\n            this.type = 'like/' + path.slice(path.lastIndexOf('.') + 1).toLowerCase();\n            this.name = path.slice(path.lastIndexOf('/') + path.lastIndexOf('\\\\') + 2);\n          };\n          /**\n           * Creates file like object from object\n           * @param {File|FileLikeObject} object\n           * @private\n           */\n\n          FileLikeObject.prototype._createFromObject = function _createFromObject(object) {\n            this.lastModifiedDate = copy(object.lastModifiedDate);\n            this.size = object.size;\n            this.type = object.type;\n            this.name = object.name;\n          };\n\n          return FileLikeObject;\n        }();\n      }\n\n      /***/\n    },\n    /* 5 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var copy = _angular.copy;\n      var extend = _angular.extend;\n      var element = _angular.element;\n      var isElement = _angular.isElement;\n\n      function __identity($compile, FileLikeObject) {\n\n        return function () {\n          /**\n           * Creates an instance of FileItem\n           * @param {FileUploader} uploader\n           * @param {File|HTMLInputElement|Object} some\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileItem(uploader, some, options) {\n            _classCallCheck(this, FileItem);\n\n            var isInput = isElement(some);\n            var input = isInput ? element(some) : uploader.target.clone() || null;\n            var file = !isInput ? some : null;\n\n            extend(this, {\n              url: uploader.url,\n              alias: uploader.alias,\n              headers: copy(uploader.headers),\n              formData: copy(uploader.formData),\n              removeAfterUpload: uploader.removeAfterUpload,\n              withCredentials: uploader.withCredentials,\n              disableMultipart: uploader.disableMultipart,\n              method: uploader.method\n            }, options, {\n              uploader: uploader,\n              file: new FileLikeObject(some),\n              isReady: false,\n              isUploading: false,\n              isUploaded: false,\n              isSuccess: false,\n              isCancel: false,\n              isError: false,\n              progress: 0,\n              index: null,\n              _file: file,\n              _input: input\n            });\n\n            // if (input) this._replaceNode(input);\n          }\n          /**********************\n           * PUBLIC\n           **********************/\n          /**\n           * Uploads a FileItem\n           */\n\n          FileItem.prototype.upload = function upload() {\n            try {\n              this.uploader.uploadItem(this);\n            } catch (e) {\n              console.error(e);\n              var message = e.name + ':' + e.message;\n              this.uploader._onCompleteItem(this, message, e.code, []);\n              this.uploader._onErrorItem(this, message, e.code, []);\n            }\n          };\n          /**\n           * Cancels uploading of FileItem\n           */\n\n          FileItem.prototype.cancel = function cancel() {\n            this.uploader.cancelItem(this);\n          };\n          /**\n           * Removes a FileItem\n           */\n\n          FileItem.prototype.remove = function remove() {\n            this.uploader.removeFromQueue(this);\n          };\n          /**\n           * Callback\n           * @private\n           */\n\n          FileItem.prototype.onBeforeUpload = function onBeforeUpload() {};\n          /**\n           * Callback\n           * @param {Number} progress\n           * @private\n           */\n\n          FileItem.prototype.onProgress = function onProgress(progress) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileItem.prototype.onSuccess = function onSuccess(response, status, headers) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileItem.prototype.onError = function onError(response, status, headers) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileItem.prototype.onCancel = function onCancel(response, status, headers) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n          FileItem.prototype.onComplete = function onComplete(response, status, headers) {};\n          /**********************\n           * PRIVATE\n           **********************/\n          /**\n           * Inner callback\n           */\n\n          FileItem.prototype._onBeforeUpload = function _onBeforeUpload() {\n            this.isReady = true;\n            this.isUploading = false;\n            this.isUploaded = false;\n            this.isSuccess = false;\n            this.isCancel = false;\n            this.isError = false;\n            this.progress = 0;\n            this.onBeforeUpload();\n          };\n          /**\n           * Inner callback\n           * @param {Number} progress\n           * @private\n           */\n\n          FileItem.prototype._onProgress = function _onProgress(progress) {\n            this.progress = progress;\n            this.onProgress(progress);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileItem.prototype._onSuccess = function _onSuccess(response, status, headers) {\n            this.isReady = false;\n            this.isUploading = false;\n            this.isUploaded = true;\n            this.isSuccess = true;\n            this.isCancel = false;\n            this.isError = false;\n            this.progress = 100;\n            this.index = null;\n            this.onSuccess(response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileItem.prototype._onError = function _onError(response, status, headers) {\n            this.isReady = false;\n            this.isUploading = false;\n            this.isUploaded = true;\n            this.isSuccess = false;\n            this.isCancel = false;\n            this.isError = true;\n            this.progress = 0;\n            this.index = null;\n            this.onError(response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileItem.prototype._onCancel = function _onCancel(response, status, headers) {\n            this.isReady = false;\n            this.isUploading = false;\n            this.isUploaded = false;\n            this.isSuccess = false;\n            this.isCancel = true;\n            this.isError = false;\n            this.progress = 0;\n            this.index = null;\n            this.onCancel(response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n          FileItem.prototype._onComplete = function _onComplete(response, status, headers) {\n            this.onComplete(response, status, headers);\n            if (this.removeAfterUpload) this.remove();\n          };\n          /**\n           * Destroys a FileItem\n           */\n\n          FileItem.prototype._destroy = function _destroy() {\n            if (this._input) this._input.remove();\n            if (this._form) this._form.remove();\n            delete this._form;\n            delete this._input;\n          };\n          /**\n           * Prepares to uploading\n           * @private\n           */\n\n          FileItem.prototype._prepareToUploading = function _prepareToUploading() {\n            this.index = this.index || ++this.uploader._nextIndex;\n            this.isReady = true;\n          };\n          /**\n           * Replaces input element on his clone\n           * @param {JQLite|jQuery} input\n           * @private\n           */\n\n          FileItem.prototype._replaceNode = function _replaceNode(input) {\n            var clone = $compile(input.clone())(input.scope());\n            clone.prop('value', null); // FF fix\n            input.css('display', 'none');\n            input.after(clone); // remove jquery dependency\n          };\n\n          return FileItem;\n        }();\n      }\n\n      __identity.$inject = ['$compile', 'FileLikeObject'];\n\n      /***/\n    },\n    /* 6 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n\n      function __identity() {\n        var FileDirective = function () {\n          /**\n           * Creates instance of {FileDirective} object\n           * @param {Object} options\n           * @param {Object} options.uploader\n           * @param {HTMLElement} options.element\n           * @param {Object} options.events\n           * @param {String} options.prop\n           * @constructor\n           */\n\n          function FileDirective(options) {\n            _classCallCheck(this, FileDirective);\n\n            extend(this, options);\n            this.uploader._directives[this.prop].push(this);\n            this._saveLinks();\n            this.bind();\n          }\n          /**\n           * Binds events handles\n           */\n\n          FileDirective.prototype.bind = function bind() {\n            for (var key in this.events) {\n              var prop = this.events[key];\n              this.element.bind(key, this[prop]);\n            }\n          };\n          /**\n           * Unbinds events handles\n           */\n\n          FileDirective.prototype.unbind = function unbind() {\n            for (var key in this.events) {\n              this.element.unbind(key, this.events[key]);\n            }\n          };\n          /**\n           * Destroys directive\n           */\n\n          FileDirective.prototype.destroy = function destroy() {\n            var index = this.uploader._directives[this.prop].indexOf(this);\n            this.uploader._directives[this.prop].splice(index, 1);\n            this.unbind();\n            // this.element = null;\n          };\n          /**\n           * Saves links to functions\n           * @private\n           */\n\n          FileDirective.prototype._saveLinks = function _saveLinks() {\n            for (var key in this.events) {\n              var prop = this.events[key];\n              this[prop] = this[prop].bind(this);\n            }\n          };\n\n          return FileDirective;\n        }();\n\n        /**\n         * Map of events\n         * @type {Object}\n         */\n\n        FileDirective.prototype.events = {};\n\n        return FileDirective;\n      }\n\n      /***/\n    },\n    /* 7 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n\n      function __identity($compile, FileDirective) {\n\n        return function (_FileDirective) {\n          _inherits(FileSelect, _FileDirective);\n\n          /**\n           * Creates instance of {FileSelect} object\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileSelect(options) {\n            _classCallCheck(this, FileSelect);\n\n            var extendedOptions = extend(options, {\n              // Map of events\n              events: {\n                $destroy: 'destroy',\n                change: 'onChange'\n              },\n              // Name of property inside uploader._directive object\n              prop: 'select'\n            });\n\n            var _this = _possibleConstructorReturn(this, _FileDirective.call(this, extendedOptions));\n\n            if (!_this.uploader.isHTML5) {\n              _this.element.removeAttr('multiple');\n            }\n            _this.element.prop('value', null); // FF fix\n            return _this;\n          }\n          /**\n           * Returns options\n           * @return {Object|undefined}\n           */\n\n          FileSelect.prototype.getOptions = function getOptions() {};\n          /**\n           * Returns filters\n           * @return {Array<Function>|String|undefined}\n           */\n\n          FileSelect.prototype.getFilters = function getFilters() {};\n          /**\n           * If returns \"true\" then HTMLInputElement will be cleared\n           * @returns {Boolean}\n           */\n\n          FileSelect.prototype.isEmptyAfterSelection = function isEmptyAfterSelection() {\n            return !!this.element.attr('multiple');\n          };\n          /**\n           * Event handler\n           */\n\n          FileSelect.prototype.onChange = function onChange() {\n            var files = this.uploader.isHTML5 ? this.element[0].files : this.element[0];\n            var options = this.getOptions();\n            var filters = this.getFilters();\n\n            if (!this.uploader.isHTML5) this.destroy();\n            this.uploader.addToQueue(files, options, filters);\n            if (this.isEmptyAfterSelection()) {\n              this.element.prop('value', null);\n              this.element.replaceWith($compile(this.element.clone())(this.scope)); // IE fix\n            }\n          };\n\n          return FileSelect;\n        }(FileDirective);\n      }\n\n      __identity.$inject = ['$compile', 'FileDirective'];\n\n      /***/\n    },\n    /* 8 */\n    /***/\n    function (module, exports) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var bind = _angular.bind;\n      var isUndefined = _angular.isUndefined;\n\n      function __identity($q) {\n\n        return function () {\n          /**\n           * @param {Array<Function>} pipes\n           */\n\n          function Pipeline() {\n            var pipes = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n            _classCallCheck(this, Pipeline);\n\n            this.pipes = pipes;\n          }\n\n          Pipeline.prototype.next = function next(args) {\n            var pipe = this.pipes.shift();\n            if (isUndefined(pipe)) {\n              this.onSuccessful.apply(this, _toConsumableArray(args));\n              return;\n            }\n            var err = new Error('The filter has not passed');\n            err.pipe = pipe;\n            err.args = args;\n            if (pipe.isAsync) {\n              var deferred = $q.defer();\n              var onFulfilled = bind(this, this.next, args);\n              var onRejected = bind(this, this.onThrown, err);\n              deferred.promise.then(onFulfilled, onRejected);\n              pipe.apply(undefined, _toConsumableArray(args).concat([deferred]));\n            } else {\n              var isDone = Boolean(pipe.apply(undefined, _toConsumableArray(args)));\n              if (isDone) {\n                this.next(args);\n              } else {\n                this.onThrown(err);\n              }\n            }\n          };\n\n          Pipeline.prototype.exec = function exec() {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            this.next(args);\n          };\n\n          Pipeline.prototype.onThrown = function onThrown(err) {};\n\n          Pipeline.prototype.onSuccessful = function onSuccessful() {};\n\n          return Pipeline;\n        }();\n      }\n\n      __identity.$inject = ['$q'];\n\n      /***/\n    },\n    /* 9 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n      var forEach = _angular.forEach;\n\n      function __identity(FileDirective) {\n\n        return function (_FileDirective) {\n          _inherits(FileDrop, _FileDirective);\n\n          /**\n           * Creates instance of {FileDrop} object\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileDrop(options) {\n            _classCallCheck(this, FileDrop);\n\n            var extendedOptions = extend(options, {\n              // Map of events\n              events: {\n                $destroy: 'destroy',\n                drop: 'onDrop',\n                dragover: 'onDragOver',\n                dragleave: 'onDragLeave'\n              },\n              // Name of property inside uploader._directive object\n              prop: 'drop'\n            });\n\n            return _possibleConstructorReturn(this, _FileDirective.call(this, extendedOptions));\n          }\n          /**\n           * Returns options\n           * @return {Object|undefined}\n           */\n\n          FileDrop.prototype.getOptions = function getOptions() {};\n          /**\n           * Returns filters\n           * @return {Array<Function>|String|undefined}\n           */\n\n          FileDrop.prototype.getFilters = function getFilters() {};\n          /**\n           * Event handler\n           */\n\n          FileDrop.prototype.onDrop = function onDrop(event) {\n            var transfer = this._getTransfer(event);\n            if (!transfer) return;\n            var options = this.getOptions();\n            var filters = this.getFilters();\n            this._preventAndStop(event);\n            forEach(this.uploader._directives.over, this._removeOverClass, this);\n            this.uploader.addToQueue(transfer.files, options, filters);\n          };\n          /**\n           * Event handler\n           */\n\n          FileDrop.prototype.onDragOver = function onDragOver(event) {\n            var transfer = this._getTransfer(event);\n            if (!this._haveFiles(transfer.types)) return;\n            transfer.dropEffect = 'copy';\n            this._preventAndStop(event);\n            forEach(this.uploader._directives.over, this._addOverClass, this);\n          };\n          /**\n           * Event handler\n           */\n\n          FileDrop.prototype.onDragLeave = function onDragLeave(event) {\n            if (event.currentTarget === this.element[0]) return;\n            this._preventAndStop(event);\n            forEach(this.uploader._directives.over, this._removeOverClass, this);\n          };\n          /**\n           * Helper\n           */\n\n          FileDrop.prototype._getTransfer = function _getTransfer(event) {\n            return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\n          };\n          /**\n           * Helper\n           */\n\n          FileDrop.prototype._preventAndStop = function _preventAndStop(event) {\n            event.preventDefault();\n            event.stopPropagation();\n          };\n          /**\n           * Returns \"true\" if types contains files\n           * @param {Object} types\n           */\n\n          FileDrop.prototype._haveFiles = function _haveFiles(types) {\n            if (!types) return false;\n            if (types.indexOf) {\n              return types.indexOf('Files') !== -1;\n            } else if (types.contains) {\n              return types.contains('Files');\n            } else {\n              return false;\n            }\n          };\n          /**\n           * Callback\n           */\n\n          FileDrop.prototype._addOverClass = function _addOverClass(item) {\n            item.addOverClass();\n          };\n          /**\n           * Callback\n           */\n\n          FileDrop.prototype._removeOverClass = function _removeOverClass(item) {\n            item.removeOverClass();\n          };\n\n          return FileDrop;\n        }(FileDirective);\n      }\n\n      __identity.$inject = ['FileDirective'];\n\n      /***/\n    },\n    /* 10 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n\n      function __identity(FileDirective) {\n\n        return function (_FileDirective) {\n          _inherits(FileOver, _FileDirective);\n\n          /**\n           * Creates instance of {FileDrop} object\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileOver(options) {\n            _classCallCheck(this, FileOver);\n\n            var extendedOptions = extend(options, {\n              // Map of events\n              events: {\n                $destroy: 'destroy'\n              },\n              // Name of property inside uploader._directive object\n              prop: 'over',\n              // Over class\n              overClass: 'nv-file-over'\n            });\n\n            return _possibleConstructorReturn(this, _FileDirective.call(this, extendedOptions));\n          }\n          /**\n           * Adds over class\n           */\n\n          FileOver.prototype.addOverClass = function addOverClass() {\n            this.element.addClass(this.getOverClass());\n          };\n          /**\n           * Removes over class\n           */\n\n          FileOver.prototype.removeOverClass = function removeOverClass() {\n            this.element.removeClass(this.getOverClass());\n          };\n          /**\n           * Returns over class\n           * @returns {String}\n           */\n\n          FileOver.prototype.getOverClass = function getOverClass() {\n            return this.overClass;\n          };\n\n          return FileOver;\n        }(FileDirective);\n      }\n\n      __identity.$inject = ['FileDirective'];\n\n      /***/\n    },\n    /* 11 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function __identity($parse, FileUploader, FileSelect) {\n\n        return {\n          link: function link(scope, element, attributes) {\n            var uploader = scope.$eval(attributes.uploader);\n\n            if (!(uploader instanceof FileUploader)) {\n              throw new TypeError('\"Uploader\" must be an instance of FileUploader');\n            }\n\n            var object = new FileSelect({\n              uploader: uploader,\n              element: element,\n              scope: scope\n            });\n\n            object.getOptions = $parse(attributes.options).bind(object, scope);\n            object.getFilters = function () {\n              return attributes.filters;\n            };\n          }\n        };\n      }\n\n      __identity.$inject = ['$parse', 'FileUploader', 'FileSelect'];\n\n      /***/\n    },\n    /* 12 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function __identity($parse, FileUploader, FileDrop) {\n\n        return {\n          link: function link(scope, element, attributes) {\n            var uploader = scope.$eval(attributes.uploader);\n\n            if (!(uploader instanceof FileUploader)) {\n              throw new TypeError('\"Uploader\" must be an instance of FileUploader');\n            }\n\n            if (!uploader.isHTML5) return;\n\n            var object = new FileDrop({\n              uploader: uploader,\n              element: element\n            });\n\n            object.getOptions = $parse(attributes.options).bind(object, scope);\n            object.getFilters = function () {\n              return attributes.filters;\n            };\n          }\n        };\n      }\n\n      __identity.$inject = ['$parse', 'FileUploader', 'FileDrop'];\n\n      /***/\n    },\n    /* 13 */\n    /***/\n    function (module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports['default'] = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          'default': obj\n        };\n      }\n\n      function __identity(FileUploader, FileOver) {\n\n        return {\n          link: function link(scope, element, attributes) {\n            var uploader = scope.$eval(attributes.uploader);\n\n            if (!(uploader instanceof FileUploader)) {\n              throw new TypeError('\"Uploader\" must be an instance of FileUploader');\n            }\n\n            var object = new FileOver({\n              uploader: uploader,\n              element: element\n            });\n\n            object.getOverClass = function () {\n              return attributes.overClass || object.overClass;\n            };\n          }\n        };\n      }\n\n      __identity.$inject = ['FileUploader', 'FileOver'];\n\n      /***/\n    }\n    /******/\n    ])\n  );\n});;\n//# sourceMappingURL=angular-file-upload.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"3IRH\")(module)))\n\n/***/ }),\n\n/***/ \"5d4z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name = __webpack_require__(\"N6Gv\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _button = __webpack_require__(\"lkey\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _icons = __webpack_require__(\"/cD4\");\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _progress = __webpack_require__(\"bl4z\");\n\nvar _progress2 = _interopRequireDefault(_progress);\n\nvar _message = __webpack_require__(\"WB2H\");\n\nvar _message2 = _interopRequireDefault(_message);\n\n__webpack_require__(\"4uR7\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default'], ['angularFileUpload', _button2['default'], _icons2['default'], _progress2['default'], _message2['default']]).config(function () {}).run(function () {});\n\n__webpack_require__(\"m196\");\n\nexports['default'] = _name2['default'];\n\n/***/ }),\n\n/***/ \"8o0r\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"upload-image-items\\\">\\n  <div class=\\\"upload-image-item\\\"\\n    ng-class=\\\"{error: file.error}\\\"\\n    data-id=\\\"{{file.id}}\\\"\\n    ng-repeat=\\\"file in ngModel track by $index\\\">\\n\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"file.url && (isImg(file) || isSnapshot(file))\\\"\\n      style=\\\"background-image:url({{file.url}})\\\"\\n    ></div>\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"(file.url || file.cover_url) && isVideo(file)\\\"\\n      style=\\\"background-image:url({{file.cover_url || getSnapshot(file)}})\\\"\\n    >\\n    </div>\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"!file.url && file.id && isImg(file)\\\"\\n      style=\\\"background-image:url({{$ctrl.uploadConfig.viewUrl + '?file_id=' + file.id}})\\\"\\n    ></div>\\n\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"!isImg(file) && !isVideo(file) && !isSnapshot(file)\\\">\\n      <ma-icon ma-type=\\\"{{getFileIcon(file)}}\\\"></ma-icon>\\n    </div>\\n\\n    <div class=\\\"handle-box\\\"\\n      ng-show=\\\"file.progress === undefined || file.progress === 100\\\">\\n      <div>\\n        <ma-icon class=\\\"close\\\"\\n        ma-type=\\\"{{isVideo(file) ? 'playcircleo' : 'eyeo'}}\\\"\\n        ma-click=\\\"viewFile(ngModel, file, $index)\\\"></ma-icon>\\n        <ma-icon class=\\\"close\\\"\\n          ma-type=\\\"delete\\\"\\n          ma-click=\\\"delFile(file, $index)\\\"\\n          ng-show=\\\"showDelete != 'false' && file.showDelete !== false && (file.progress === undefined || file.progress === 100)\\\"></ma-icon>\\n      </div>\\n    </div>\\n\\n    <ma-progress ma-type=\\\"circle\\\"\\n      ma-status=\\\"danger\\\"\\n      ma-size=\\\"70\\\"\\n      ma-stroke-width=\\\"5\\\"\\n      ma-percent=\\\"{{file.progress}}\\\"\\n      ng-show=\\\"file.progress !== undefined && file.progress !== 100\\\"></ma-progress>\\n\\n    <div class=\\\"extra\\\" ng-if=\\\"extra\\\">\\n      <div ng-compile=\\\"extra\\\" ng-params=\\\"{$index: $index}\\\"></div>\\n    </div>\\n  </div>\\n\\n\\n  <div class=\\\"upload-image-item add\\\"\\n    ng-hide=\\\"$ctrl.uploadConfig.limit <= ngModel.length\\\">\\n    <div class=\\\"upload-img-item-add-box\\\">\\n      <div class=\\\"upload-img-item-add-box-container\\\">\\n        <ma-icon ma-type=\\\"plus\\\"></ma-icon>\\n        <div ng-bind-html=\\\"$ctrl.uploadConfig.uploadText || '上传照片'\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"upload-image-item add-double\\\"\\n    ng-repeat=\\\"item in $ctrl.uploadConfig.limitArray track by $index\\\"\\n    ma-click=\\\"clickInput($event)\\\"\\n    ng-if=\\\"$index < ($ctrl.uploadConfig.limit - ngModel.length) && $index !== 0\\\">\\n    <div class=\\\"upload-img-item-add-box\\\">\\n        <div class=\\\"upload-img-item-add-box-container\\\">\\n          <ma-icon ma-type=\\\"plus\\\"></ma-icon>\\n          <div ng-bind-html=\\\"$ctrl.uploadConfig.uploadText || '上传照片'\\\"></div>\\n        </div>\\n    </div>\\n  </div>\\n</div>\\n\";\n\n/***/ }),\n\n/***/ \"F7JF\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"weak-tip\\\" ng-show=\\\"$root.weakTipList.length\\\">\\n  <div ng-repeat=\\\"tip in $root.weakTipList\\\" ng-style=\\\"{top: $index * 45 + 'px'}\\\" ng-if=\\\"tip.remove !== true\\\">\\n    <div\\n    ng-click=\\\"$root.$hideMessage($index)\\\"\\n    ng-class=\\\"{'show-in': tip.hide === false, 'weak-tip-success': tip.type == 'success', 'weak-tip-danger': tip.type == 'danger', 'weak-tip-warning': tip.type == 'warning'}\\\" ng-bind=\\\"tip.text\\\"\\n    ng-cloak></div>\\n  </div>\\n</div>\\n\";\n\n/***/ }),\n\n/***/ \"HDDE\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = 'meetyou.angular.ui.message';\n\n/***/ }),\n\n/***/ \"N6Gv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = 'meetyou.angular.ui.upload';\n\n/***/ }),\n\n/***/ \"PHaT\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div\\n  class=\\\"ma-progress {{type}}\\\"\\n  ng-class=\\\"{\\n    success: status === 'success',\\n    warning: status === 'warning',\\n    danger: status === 'danger',\\n  }\\\"\\n  ng-style=\\\"{\\n    width: size + 'px',\\n    height: type !== 'line' ? (size + 'px') : '',\\n  }\\\"\\n>\\n  <svg\\n    ng-show=\\\"type === 'circle'\\\"\\n    width=\\\"120px\\\"\\n    height=\\\"120px\\\"\\n    class=\\\"ma-progress-circle\\\"\\n    viewBox=\\\"0 0 100 100\\\">\\n    <path\\n      class=\\\"ma-progress-circle-trail\\\" d=\\\"M 50,50 m 0,-47\\n      a 47,47 0 1 1 0,94\\n      a 47,47 0 1 1 0,-94\\\"\\n      stroke-width=\\\"{{strokeWidth}}\\\"\\n      fill-opacity=\\\"0\\\"\\n      ng-style=\\\"{\\n        strokeDasharray: '295.31px, 295.31px'\\n      }\\\"\\n    >\\n    </path>\\n    <path\\n      class=\\\"ma-progress-circle-path\\\"\\n      d=\\\"M 50,50 m 0,-47\\n      a 47,47 0 1 1 0,94\\n      a 47,47 0 1 1 0,-94\\\"\\n      stroke-linecap=\\\"round\\\"\\n      stroke-width=\\\"{{strokeWidth}}\\\"\\n      fill-opacity=\\\"0\\\"\\n      ng-style=\\\"{\\n        strokeDasharray: (295.31 * (percent / 100)) + 'px, 295.31px'\\n      }\\\"\\n      style=\\\"\\\"\\n    >\\n    </path>\\n  </svg>\\n  <div\\n    class=\\\"ma-progress-line\\\"\\n    ng-show=\\\"type === 'line'\\\"\\n  >\\n    <div\\n      class=\\\"ma-progress-line-trail\\\"\\n      ng-style=\\\"{\\n        height: strokeWidth + 'px',\\n        width: size + 'px',\\n      }\\\"\\n    >\\n      <div\\n        class=\\\"ma-progress-line-path\\\"\\n        ng-style=\\\"{\\n          width: percent + '%'\\n        }\\\"\\n      ></div>\\n    </div>\\n  </div>\\n  <div class=\\\"ma-progress-content\\\" ng-transclude></div>\\n</div>\\n\";\n\n/***/ }),\n\n/***/ \"S1RN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _jquery = __webpack_require__(\"7t+N\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _name = __webpack_require__(\"g66R\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maClick', maClick).directive('maButton', maButton);\n\nmaClick.$inject = ['$parse', '$timeout'];\n\nfunction maClick($parse, $timeout) {\n  return {\n    restrict: 'A',\n    link: function link(scope, element, attrs, ctrl) {\n      (0, _jquery2['default'])(element).bind('click', function (e) {\n        if (element.hasClass('ma-click-disabled') || element.hasClass('disabled')) {\n          return;\n        }\n        element.addClass('ma-click-disabled');\n\n        if (attrs.maClick) {\n          scope.$event = e;\n          scope.$args = arguments;\n          $parse(attrs.maClick)(scope);\n        }\n\n        $timeout();\n\n        $timeout(function () {\n          element.removeClass('ma-click-disabled');\n        }, parseInt(attrs.delay, 10) || 50);\n      });\n    }\n  };\n}\n\nmaButton.$inject = [];\n\nfunction maButton() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    template: '<div\\n    class=\"ma-button {{size}} {{type}}\"\\n    ng-class=\"{\\n      disabled: disabled,\\n      flat: flat === \\'true\\',\\n      active: active === \\'true\\',\\n      loading: loading === \\'true\\',\\n    }\" ng-transclude></div>',\n    scope: {\n      size: '@maSize',\n      type: '@maType',\n      flat: '@maFlat',\n      active: '@maActive',\n      loading: '@maLoading',\n      disabled: '=ngDisabled'\n    },\n    replace: true,\n    link: function link(scope, element, attrs, ctrl) {}\n  };\n}\n\n/***/ }),\n\n/***/ \"UX8a\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg\\n  class=\\\"ma-circle\\\"\\n>\\n  <circle\\n    fill=\\\"none\\\"\\n  ></circle>\\n  <circle\\n    fill=\\\"none\\\"\\n  ></circle>\\n</svg>\\n\";\n\n/***/ }),\n\n/***/ \"VICL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = 'meetyou.angular.ui.progress';\n\n/***/ }),\n\n/***/ \"WB2H\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name = __webpack_require__(\"HDDE\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default'], []).config(function () {}).run(function () {});\n\n__webpack_require__(\"fbZV\");\n__webpack_require__(\"/Las\");\n\nexports['default'] = _name2['default'];\n\n/***/ }),\n\n/***/ \"XMKs\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _name = __webpack_require__(\"VICL\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _maProgressTpl = __webpack_require__(\"PHaT\");\n\nvar _maProgressTpl2 = _interopRequireDefault(_maProgressTpl);\n\nvar _jquery = __webpack_require__(\"7t+N\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maProgress', maProgress);\n\nmaProgress.$inject = [];\n\nfunction maProgress() {\n  return {\n    restrict: 'E',\n    scope: {\n      size: '@maSize',\n      type: '@maType',\n      status: '@maStatus',\n      percent: '@maPercent',\n      strokeWidth: '@maStrokeWidth'\n    },\n    replace: true,\n    transclude: true,\n    template: _maProgressTpl2['default'],\n    link: function link(scope, element, attrs, ctrl) {\n      scope.size = 120;\n      scope.type = 'line';\n      scope.status = 'success';\n      scope.percent = 0;\n      scope.strokeWidth = 6;\n\n      updateProgress();\n\n      attrs.$observe('maPercent', function (d) {\n        scope.percent = d ? parseInt(d, 10) : 0;\n        updateProgress();\n      });\n      attrs.$observe('maSize', function (d) {\n        scope.size = d ? parseInt(d, 10) : 120;\n        updateProgress();\n      });\n\n      function updateProgress() {\n        var svg = (0, _jquery2['default'])(element).find('.ma-progress-circle');\n\n        svg.attr('width', scope.size);\n        svg.attr('height', scope.size);\n      }\n    }\n  };\n}\n\n/***/ }),\n\n/***/ \"Z/eS\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n<div class=\\\"upload-file-items\\\">\\n  <div class=\\\"upload-file-item\\\" ng-class=\\\"{error: file.error}\\\" data-id=\\\"{{file.id}}\\\" ng-repeat=\\\"file in ngModel track by $index\\\">\\n    <ma-progress\\n      ma-type=\\\"circle\\\"\\n      ma-status=\\\"danger\\\"\\n      ma-size=\\\"10\\\"\\n      ma-stroke-width=\\\"10\\\"\\n      ma-percent=\\\"{{file.progress}}\\\"\\n      ng-show=\\\"file.progress !== undefined && file.progress !== 100\\\"\\n    ></ma-progress>\\n    <ma-icon\\n      ng-show=\\\"file.progress === undefined || file.progress === 100\\\"\\n      ma-type=\\\"paperclip\\\"\\n    ></ma-icon>\\n    <a href=\\\"javascript:void(0)\\\" ma-click=\\\"viewFile(ngModel, file, $index)\\\">{{file.name}}</a>\\n    <ma-icon\\n      class=\\\"close\\\"\\n      ma-type=\\\"close\\\"\\n      ma-click=\\\"delFile(file, $index)\\\"\\n      ng-show=\\\"showDelete !== 'false' && file.showDelete !== false && (file.progress === undefined || file.progress === 100)\\\"\\n    ></ma-icon>\\n    <!--div class=\\\"upload-item-progress\\\" ng-if=\\\"file.progress !== undefined && file.progress !== 100\\\">\\n      <span ng-style=\\\"{width: file.progress + '%'}\\\"></span>\\n    </div-->\\n  </div>\\n</div>\\n\";\n\n/***/ }),\n\n/***/ \"bl4z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name = __webpack_require__(\"VICL\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default'], []).config(function () {}).run(function () {});\n\n__webpack_require__(\"XMKs\");\n\nexports['default'] = _name2['default'];\n\n/***/ }),\n\n/***/ \"brJl\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = 'meetyou.angular.ui.icons';\n\n/***/ }),\n\n/***/ \"fbZV\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _name = __webpack_require__(\"HDDE\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maMessage', maMessage);\n\nmaMessage.$inject = [];\n\nfunction maMessage() {\n  return {\n    restrict: 'A',\n    link: function link(scope, element, attrs, ctrl) {}\n  };\n}\n\n/***/ }),\n\n/***/ \"g66R\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = 'meetyou.angular.ui.button';\n\n/***/ }),\n\n/***/ \"lkey\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name = __webpack_require__(\"g66R\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default'], []).config(function () {}).run(function () {});\n\n__webpack_require__(\"S1RN\");\n\nexports['default'] = _name2['default'];\n\n/***/ }),\n\n/***/ \"m196\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _name = __webpack_require__(\"N6Gv\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _jquery = __webpack_require__(\"7t+N\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _moment = __webpack_require__(\"PJh5\");\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _maUploadTpl = __webpack_require__(\"Z/eS\");\n\nvar _maUploadTpl2 = _interopRequireDefault(_maUploadTpl);\n\nvar _maUploadImageTpl = __webpack_require__(\"8o0r\");\n\nvar _maUploadImageTpl2 = _interopRequireDefault(_maUploadImageTpl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maUpload', maUpload).directive('maUploadImage', maUploadImage).directive('maUploadOss', maUploadOss).directive('maUploadImageOss', maUploadImageOss);\n\n// config\n// {\n//  url: '/upload/index',\n//  viewUrl: '/upload/download',\n//  alias: 'file',\n//  headers: {},\n//  queue: [],\n//  progress: 0,\n//  autoUpload: true,\n//  removeAfterUpload: false,\n//  method: 'POST',\n//  filters: [],\n//  formData: [],\n//  queueLimit: Number.MAX_VALUE,\n//  withCredentials: false,\n//  disableMultipart: false\n\n//  非插件额外配置\n//  multiple: false\n//  limit: Number.MAX_VALUE,\n//  size: 10 * 1024 * 1024,\n//  size: {\n//    gif: 10 * 1024 * 1024,\n//    png: 10 * 1024 * 1024,\n//    jpg: 10 * 1024 * 1024\n//  },\n//  accept: '',\n//  convert: function(data, response){}, // 上传成功后回调\n//  uploadText: '上传照片',\n//  buttonBaseOnLimit: false,\n\n//  oss配置\n//  ossConfig: {\n//   OSSAccessKeyId: '',\n//   signature: '',\n//   policy: '',\n//   dir: '',\n//  }\n// }\n\n// ngModel data format\n// [{\n//   id: '',\n//   name: '',\n//   progress: 100,\n//   showDelete: false,\n// }, {\n//   id: '',\n//   name: '',\n//   progress: 100, //选填\n//   showDelete: false, //选填\n// }]\n\nmaUpload.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\nmaUploadImage.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\nmaUploadOss.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\nmaUploadImageOss.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\n\nfunction maUpload($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, _maUploadTpl2['default'], {});\n}\n\nfunction maUploadImage($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, _maUploadImageTpl2['default'], {\n    accept: 'image/*'\n  });\n}\n\nfunction maUploadOss($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, _maUploadTpl2['default'], {});\n}\n\nfunction maUploadImageOss($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, _maUploadImageTpl2['default'], {\n    accept: 'image/*'\n  });\n}\n\nfunction _maUpload($compile, FileUploader, $message, $utils, template, defaultConfig) {\n  return {\n    restrict: 'EA',\n    require: 'ngModel',\n    scope: {\n      ngModel: '=',\n      uploadConfig: '=maUploadConfig',\n      showDelete: '@maShowDelete',\n      extra: '<maExtra',\n      onDelete: '&maOnDelete'\n    },\n    controllerAs: '$ctrl',\n    controller: maUploadController,\n    link: maUploadLink\n  };\n\n  function maUploadLink(scope, element, attrs, ctrl) {\n    if (!scope.ngModel) {\n      scope.ngModel = [];\n    }\n\n    var multiple = '';\n    var accept = '';\n    var uploader = 'uploader';\n    var config = getConfig();\n\n    var allImageAccept = 'image/gif,image/jpeg,image/bmp,image/jpg,image/png,image/svg';\n\n    // 初始化元素\n    if (config.multiple) {\n      multiple = 'multiple';\n    }\n\n    if (config.accept === 'image/*') {\n      config.accept = allImageAccept;\n    }\n\n    if (config.accept) {\n      accept = 'accept=' + config.accept;\n    }\n\n    var fileInput = (0, _jquery2['default'])('<input\\n    type=\"file\"\\n    nv-file-select=\"\"\\n    ' + multiple + '\\n    ' + accept + '\\n    uploader=\\'' + uploader + '\\'/>');\n\n    config.target = angular.element(fileInput);\n\n    scope.$ctrl.uploadConfig = config;\n\n    var newUploader = new FileUploader(config);\n    var id = scope.uploadConfig.id;\n\n    scope[uploader] = newUploader;\n    newUploader.onBeforeUploadItem = onBeforeUploadItem;\n    newUploader.onProgressItem = onProgressItem;\n    newUploader.onSuccessItem = onSuccessItem;\n    newUploader.onErrorItem = onErrorItem;\n    newUploader.onCompleteItem = onCompleteItem;\n    newUploader.onCancelItem = onCompleteItem;\n    newUploader.onWhenAddingFileFailed = onCompleteItem;\n\n    // 赋值到root\n    if (id) {\n      if (!scope.$root.maUploadConfigs) {\n        scope.$root.maUploadConfigs = {};\n      }\n      scope.$root.maUploadConfigs[id] = newUploader;\n    }\n\n    if ((0, _jquery2['default'])(element).parents('.ma-button').length) {\n      element = (0, _jquery2['default'])(element).parents('.ma-button');\n      element.css({\n        position: 'relative'\n      });\n      appendElement();\n    } else if (element.attr('ma-upload-image') !== undefined) {\n      element.append(template);\n      (0, _jquery2['default'])(element).find('.upload-image-item.add').eq(0).append(fileInput);\n    } else {\n      appendElement();\n    }\n\n    function appendElement() {\n      element.append(fileInput);\n      (0, _jquery2['default'])(template).insertAfter(element);\n    }\n\n    angular.each(Array.prototype.slice.call(element.contents(), 0, element.contents().length), function (el) {\n      if ((0, _jquery2['default'])(el).attr('ma-upload') === undefined) {\n        $compile(el)(scope);\n      }\n    });\n\n    $compile(element.next().contents())(scope);\n\n    function getConfig() {\n      var config = _jquery2['default'].extend(true, {\n        url: '/upload/index',\n        viewUrl: '/upload/download',\n        autoUpload: true,\n        multiple: false,\n        filters: [],\n        size: 10 * 1024 * 1024,\n        accept: '',\n        formData: [],\n        convertData: function convertData(data) {}\n      }, _jquery2['default'].extend(true, _jquery2['default'].extend(true, {}, defaultConfig), scope.uploadConfig || {}));\n\n      // 如果有oss配置\n      if (config.ossConfig) {\n        var ossConfig = config.ossConfig;\n        // eslint-disable-next-line\n        var key = '${filename}';\n\n        if (ossConfig.dir) {\n          key = ossConfig.dir + '/' + key;\n        }\n\n        config.formData.push({\n          key: key,\n          policy: ossConfig.policy,\n          success_action_status: 200,\n          OSSAccessKeyId: ossConfig.OSSAccessKeyId,\n          signature: ossConfig.signature\n        });\n      }\n\n      if (config.limit !== Number.MAX_VALUE && config.buttonBaseOnLimit) {\n        config.limitArray = new Array(config.limit);\n      } else {\n        config.limitArray = new Array(1);\n      }\n\n      // 初始化 uploader 实例\n      if (!config.filters) {\n        config.filters = [];\n      }\n\n      config.filters.push({\n        name: 'limitFilter',\n        fn: function fn(item, options) {\n          if (scope.ngModel.length >= config.limit) {\n            $message.danger('最多只能上传' + config.limit + '个文件');\n            return false;\n          }\n          return true;\n        }\n      });\n\n      config.filters.push({\n        name: 'sizeFilter',\n        fn: function fn(item, options) {\n          var itemName = item.name.toUpperCase();\n\n          if (typeof config.size === 'number' && item.size > config.size) {\n            showSizeTip(config.size);\n            return false;\n          }\n          if (_typeof(config.size) === 'object') {\n            var hasOver = false;\n            angular.each(config.size, function (size, type) {\n              type = type.toUpperCase();\n              if (type === '*' || itemName.includes('.' + type)) {\n                if (item.size > size && !hasOver) {\n                  showSizeTip(size, type);\n                  hasOver = true;\n                }\n              }\n            });\n            if (hasOver) {\n              return false;\n            }\n          }\n          return true;\n        }\n      });\n\n      config.filters.push({\n        name: 'imageFilter',\n        fn: function fn(item, options) {\n          if (!config.accept) {\n            return true;\n          }\n\n          var types = '|jpg|png|jpeg|bmp|gif|svg|';\n          var type = ('|' + item.type.slice(item.type.lastIndexOf('/') + 1) + '|').toLowerCase();\n\n          if (config.accept !== 'image/*' && config.accept !== allImageAccept) {\n            types = config.accept.toLowerCase();\n            types = types.replace(/image\\//g, '');\n            types = types.split(',');\n            types = '|' + types.join('|') + '|';\n\n            // 如果有其他格式就不判断了\n            if (/application/g.test(config.accept)) {\n              return true;\n            }\n            if (/video/g.test(config.accept)) {\n              types = config.accept.toLowerCase();\n              types = types.replace(/video\\//g, '');\n              types = types.split(',');\n              types = '|' + types.join('|') + '|';\n            }\n          }\n          if (types.indexOf(type) === -1) {\n            $message.danger(/video/g.test(config.accept) ? '请选择视频' : '请选择图片');\n          }\n\n          return types.indexOf(type) !== -1;\n        }\n      });\n\n      scope.uploaderConfig = config;\n\n      return config;\n    }\n\n    function onBeforeUploadItem(fileItem) {\n      var _scope$uploadConfig;\n\n      // console.log('onBeforeUploadItem---', '[', fileItem._file.name, ']');\n      // 中文编码\n      var name = fileItem.file.name || '';\n      name = name.split('.');\n\n      fileItem.file.name = $utils.uuid() + '.' + name[name.length - 1];\n\n      scope.ngModel.push({\n        file: fileItem._file,\n        name: fileItem._file.name,\n        progress: fileItem.progress\n      });\n      // eslint-disable-next-line\n      scope.uploadConfig.onBeforeUploadItem && (_scope$uploadConfig = scope.uploadConfig).onBeforeUploadItem.apply(_scope$uploadConfig, arguments);\n    }\n\n    function onProgressItem(fileItem, progress) {\n      var _scope$uploadConfig2;\n\n      // console.log('onProgressItem---', '[', fileItem._file.name, ']');\n\n      angular.forEach(scope.ngModel, function (d) {\n        if (d.file === fileItem._file) {\n          d.progress = fileItem.progress;\n          if (d.progress >= 100) {\n            d.progress = 99;\n          }\n        }\n      });\n      // eslint-disable-next-line\n      scope.uploadConfig.onProgressItem && (_scope$uploadConfig2 = scope.uploadConfig).onProgressItem.apply(_scope$uploadConfig2, arguments);\n    }\n\n    function onSuccessItem(fileItem, response, status, headers) {\n      var _scope$uploadConfig3;\n\n      // console.log('onSuccessItem---', '[', fileItem._file.name, ']');\n\n      angular.forEach(scope.ngModel, function (d) {\n        if (d.file === fileItem._file) {\n          d.progress = 100;\n          if (response.data) {\n            d.id = response.data.file_id;\n          } else {\n            d.id = $utils.uuid();\n          }\n          // 如果是oss\n          if (config.ossConfig) {\n            var formData = fileItem.formData || [];\n            var fileConfig = formData.filter(function (item) {\n              return item.OSSAccessKeyId;\n            })[0];\n\n            d.url = config.url + '/' + fileConfig.key.replace(/\\${filename}/g, fileItem.file.name);\n          }\n\n          if (config.convert) {\n            config.convert(d, response, scope.ngModel);\n          }\n        }\n      });\n      // eslint-disable-next-line\n      scope.uploadConfig.onSuccessItem && (_scope$uploadConfig3 = scope.uploadConfig).onSuccessItem.apply(_scope$uploadConfig3, arguments);\n    }\n\n    function onErrorItem(fileItem, response, status, headers) {\n      var _scope$uploadConfig4;\n\n      // console.log('onErrorItem---', '[', fileItem._file.name, ']');\n\n      if (response.message) {\n        $message.danger(response.message);\n      }\n\n      if (typeof response === 'string') {\n        $message.danger((0, _jquery2['default'])(response).text());\n      }\n\n      var newFiles = [];\n      angular.forEach(scope.ngModel, function (d) {\n        if (d.file !== fileItem._file) {\n          newFiles.push(d);\n        }\n      });\n      scope.ngModel = newFiles;\n      // eslint-disable-next-line\n      scope.uploadConfig.onErrorItem && (_scope$uploadConfig4 = scope.uploadConfig).onErrorItem.apply(_scope$uploadConfig4, arguments);\n    }\n\n    function onCompleteItem(fileItem, response, status, headers) {\n      var _scope$uploadConfig5;\n\n      (0, _jquery2['default'])(element).find('input[type=\"file\"]').val('');\n      // eslint-disable-next-line\n      scope.uploadConfig.onCompleteItem && (_scope$uploadConfig5 = scope.uploadConfig).onCompleteItem.apply(_scope$uploadConfig5, arguments);\n    }\n\n    function showSizeTip(size, type) {\n      var m = size / 1024 / 1024;\n      var mText = (m + '').indexOf('.') !== -1 ? parseFloat(m).toFixed(2) : parseFloat(m);\n      var k = size / 1024;\n\n      if (m < 1) {\n        $message.danger('\\u6700\\u5927\\u53EA\\u80FD\\u4E0A\\u4F20' + parseInt(k, 10) + 'K\\u7684' + (type || '') + '\\u6587\\u4EF6');\n      } else {\n        $message.danger('\\u6700\\u5927\\u53EA\\u80FD\\u4E0A\\u4F20' + mText + 'M\\u7684' + (type || '') + '\\u6587\\u4EF6');\n      }\n    }\n  }\n}\n\nmaUploadController.$inject = ['$scope', '$lightGallery', '$element'];\n\nfunction maUploadController($scope, $lightGallery, $element) {\n  $scope.viewFile = viewFile;\n  $scope.delFile = delFile;\n  $scope.isImg = isImg;\n  $scope.isSnapshot = isSnapshot;\n  $scope.isVideo = isVideo;\n  $scope.getFileIcon = getFileIcon;\n  $scope.clickInput = clickInput;\n  $scope.getSnapshot = getSnapshot;\n\n  function isSnapshot(file) {\n    if (file && file.url) {\n      return (/x-oss-process=video\\/snapshot/g.test(file.url)\n      );\n    }\n    return false;\n  }\n\n  function getSnapshot(file) {\n    var snapshotUrl = '';\n\n    // 转换视频封面图\n    if (isVideo(file) && file.url) {\n      snapshotUrl = file.url + '?x-oss-process=video/snapshot,t_0,f_jpg,w_0,h_0,m_fast';\n    }\n    return snapshotUrl;\n  }\n\n  function clickInput($event) {\n    (0, _jquery2['default'])($element).find('input').trigger('click', {\n      e: $event\n    });\n  }\n\n  function viewFile(files, file, $index) {\n    var urls = [];\n    var index = false;\n\n    if (!files.length) {\n      files = [files];\n    }\n\n    angular.each(files, function (d, i) {\n      if (d === file) {\n        index = urls.length;\n      }\n      if (isImg(d) || isSnapshot(d)) {\n        urls.push(d.url || $scope.uploaderConfig.viewUrl + '?file_id=' + d.id);\n      }\n    });\n\n    if (isImg(file) || isSnapshot(file)) {\n      $lightGallery.preview(urls, {\n        index: index\n      });\n      return;\n    }\n    if (file.url) {\n      window.open(file.url);\n    } else {\n      console.error('file.url is empty');\n    }\n  }\n\n  function isVideo(file) {\n    file = _jquery2['default'].extend(true, {}, file);\n\n    var reg = /\\.(mp4)$/g;\n    file.name += '';\n    file.url += '';\n\n    file.name = file.name.toLowerCase();\n    file.url = file.url.toLowerCase();\n\n    if (reg.test(file.name) || reg.test(file.url)) {\n      return true;\n    }\n    return false;\n  }\n\n  function isImg(file) {\n    file = _jquery2['default'].extend(true, {}, file);\n\n    var reg = /\\.(gif|png|jpg|jpeg|bmp|svg)$/g;\n    file.name += '';\n    file.url += '';\n\n    file.name = file.name.toLowerCase();\n    file.url = file.url.toLowerCase();\n\n    if (reg.test(('' + file.name).split('?')[0].toLowerCase()) || reg.test(('' + file.url).split('?')[0].toLowerCase())) {\n      return true;\n    }\n    return false;\n  }\n\n  function getFileIcon(file) {\n    file = _jquery2['default'].extend(true, {}, file);\n\n    var isExcle = /\\.(xls|xlsx)$/g;\n    var isTxt = /\\.(txt)$/g;\n    var isPdf = /\\.(pdf)$/g;\n    var isWord = /\\.(doc|docx)$/g;\n    var isPpt = /\\.(ppt|pptx)$/g;\n\n    file.name += '';\n    file.url += '';\n\n    file.name = file.name.toLowerCase();\n    file.url = file.url.toLowerCase();\n\n    if (isTxt.test(file.name) || isTxt.test(file.url)) {\n      return 'filetext';\n    }\n    if (isExcle.test(file.name) || isExcle.test(file.url)) {\n      return 'exclefile';\n    }\n    if (isPpt.test(file.name) || isPpt.test(file.url)) {\n      return 'pptfile';\n    }\n    if (isWord.test(file.name) || isWord.test(file.url)) {\n      return 'wordfile';\n    }\n    if (isPdf.test(file.name) || isPdf.test(file.url)) {\n      return 'pdffile';\n    }\n    return 'file';\n  }\n\n  function delFile(file, index) {\n    var newFiles = [];\n    angular.forEach($scope.ngModel, function (d, k) {\n      if (k !== index) {\n        newFiles.push(d);\n      }\n    });\n    $scope.ngModel = newFiles;\n\n    $scope.onDelete({\n      file: file,\n      index: index\n    });\n  }\n}\n\n/***/ }),\n\n/***/ \"qSUM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _name = __webpack_require__(\"brJl\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _maCircleTpl = __webpack_require__(\"UX8a\");\n\nvar _maCircleTpl2 = _interopRequireDefault(_maCircleTpl);\n\nvar _jquery = __webpack_require__(\"7t+N\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maIcon', maIcon);\n// .directive('maCircle', maCircle);\n\nmaIcon.$inject = [];\n\nfunction maIcon() {\n  return {\n    restrict: 'E',\n    replace: true,\n    transclude: true,\n    scope: {\n      type: '@maType',\n      size: '@maSize'\n    },\n    template: '\\n    <i\\n      class=\"iconfont icon-{{type}}\"\\n      ng-style=\"{fontSize: size + \\'px\\'}\"\\n      ng-transclude\\n    ></i>',\n    link: function link(scope, element, attrs, controllers) {}\n  };\n}\n\n// maCircle.$inject = [];\n\n// function maCircle() {\n//   return {\n//     restrict: 'E',\n//     replace: true,\n//     scope: {\n//       size: '@maSize',\n//       strokeWidth: '@maStrokeWidth',\n//       percent: '@maPercent',\n//       backStroke: '@maBackStroke',\n//       frontStroke: '@maFrontStoke',\n//     },\n//     template: maCircleTpl,\n//     link: function (scope, element, attrs, controllers) {\n//       scope.pi = Math.PI;\n//       scope.size = 12;\n//       scope.strokeWidth = 1;\n//       scope.percent = 0;\n//       scope.backStroke = '#FFFFFF';\n//       scope.frontStroke = '#FF74B9';\n//       updateCircle();\n\n//       attrs.$observe('maSize', d => {\n//         scope.size = d ? parseInt(d, 10) : 12;\n//         updateCircle();\n//       });\n//       attrs.$observe('maStrokeWidth', d => {\n//         scope.strokeWidth = d ? parseInt(d, 10) : 1;\n//         updateCircle();\n//       });\n//       attrs.$observe('maPercent', d => {\n//         scope.percent = d ? parseInt(d, 10) / 100 : 0;\n//         updateCircle();\n//       });\n//       attrs.$observe('maBackStroke', d => {\n//         scope.backStroke = d || '#FFFFFF';\n//         updateCircle();\n//       });\n//       attrs.$observe('maFrontStoke', d => {\n//         scope.frontStroke = d || '#FF74B9';\n//         updateCircle();\n//       });\n\n//       function updateCircle() {\n//         const circles = $(element).find('circle');\n//         const back = circles.eq(0);\n//         const front = circles.eq(1);\n\n//         element.attr('width', scope.size);\n//         element.attr('height', scope.size);\n\n//         back.attr('cx', scope.size / 2);\n//         back.attr('cy', scope.size / 2);\n//         back.attr('r', (scope.size / 2) - scope.strokeWidth);\n//         back.attr('stroke-width', (scope.size / 2) - scope.strokeWidth);\n//         back.attr('stroke', scope.backStroke);\n\n//         front.attr('cx', scope.size / 2);\n//         front.attr('cy', scope.size / 2);\n//         front.attr('r', (scope.size / 2) - scope.strokeWidth);\n//         front.attr('stroke-width', scope.strokeWidth);\n//         front.attr('stroke', scope.frontStroke);\n//         front.attr('transform', `matrix(0,-1,1,0,0,${scope.size})`);\n//         front.attr('stroke-dasharray',\n//           `${2 * Math.PI * ((scope.size / 2) - scope.strokeWidth) * scope.percent} ${2 * Math.PI * ((scope.size / 2) - scope.strokeWidth)}`\n//         );\n//       }\n//     }\n//   };\n// }\n\n/***/ })\n\n},[\"5d4z\"]);\n\n\n// WEBPACK FOOTER //\n// upload.min.js","import moduleName from './name.js';\nimport $ from 'jquery';\nimport maMessageTpl from './maMessageTpl.html';\n\nangular.module(moduleName)\n  .factory('$message', messageFactory);\n\nmessageFactory.$inject = ['$rootScope', '$q', '$http', '$timeout', '$compile'];\n\nfunction messageFactory($rootScope, $q, $http, $timeout, $compile) {\n  $rootScope.weakTipList = [];\n\n  let messageBox = $('.weak-tip');\n\n  if (!messageBox.length) {\n    messageBox = $(maMessageTpl);\n    $('body').append(messageBox);\n    $compile(messageBox)($rootScope);\n    $rootScope.$hideMessage = hideMessage;\n  }\n\n  function hideMessage(index) {\n    const msg = $rootScope.weakTipList[index];\n\n    msg.hide = true;\n    $timeout();\n    setTimeout(function(msg) {\n      msg.remove = true;\n      $timeout();\n    }, 800, msg);\n  }\n\n  return {\n    danger(text) {\n      this.show('danger', text);\n    },\n    success(text) {\n      this.show('success', text);\n    },\n    warning(text) {\n      this.show('warning', text);\n    },\n    show(type, text) {\n      this.clearList();\n      if (this.hasSame(type, text)) {\n        return;\n      }\n\n      var msg = {\n        type: type,\n        text: text || '空'\n      };\n      $rootScope.weakTipList.push(msg);\n\n      setTimeout(function(msg) {\n        msg.hide = false;\n        $timeout();\n      }, 50, msg);\n\n      setTimeout(function(msg) {\n        msg.hide = true;\n        $timeout();\n        setTimeout(function(msg) {\n          msg.remove = true;\n          $timeout();\n        }, 350, msg);\n      }, 2000, msg);\n    },\n    clearList() {\n      let list = [];\n      angular.forEach($rootScope.weakTipList, d => {\n        if (d.remove !== true) {\n          list.push(d);\n        }\n      });\n      $rootScope.weakTipList = list;\n    },\n    hasSame(type, text) {\n      let has = false;\n      angular.forEach($rootScope.weakTipList, d => {\n        if (d.text === text && d.type === type) {\n          has = true;\n        }\n      });\n\n      return has;\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/src/service.js","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/icons/index.js","/*\n angular-file-upload v2.5.0\n https://github.com/nervgh/angular-file-upload\n*/\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if (typeof define === 'function' && define.amd)\n    define([], factory);\n  else if (typeof exports === 'object')\n    exports[\"angular-file-upload\"] = factory();\n  else\n    root[\"angular-file-upload\"] = factory();\n})(this, function() {\n  return /******/ (function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/\n      /******/ // Check if module is in cache\n      /******/\n      if (installedModules[moduleId])\n        /******/\n        return installedModules[moduleId].exports;\n      /******/\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = installedModules[moduleId] = {\n        /******/\n        exports: {},\n        /******/\n        id: moduleId,\n        /******/\n        loaded: false\n        /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Flag the module as loaded\n      /******/\n      module.loaded = true;\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n  })\n  /************************************************************************/\n  /******/\n  ([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      var _options = __webpack_require__(2);\n\n      var _options2 = _interopRequireDefault(_options);\n\n      var _FileUploader = __webpack_require__(3);\n\n      var _FileUploader2 = _interopRequireDefault(_FileUploader);\n\n      var _FileLikeObject = __webpack_require__(4);\n\n      var _FileLikeObject2 = _interopRequireDefault(_FileLikeObject);\n\n      var _FileItem = __webpack_require__(5);\n\n      var _FileItem2 = _interopRequireDefault(_FileItem);\n\n      var _FileDirective = __webpack_require__(6);\n\n      var _FileDirective2 = _interopRequireDefault(_FileDirective);\n\n      var _FileSelect = __webpack_require__(7);\n\n      var _FileSelect2 = _interopRequireDefault(_FileSelect);\n\n      var _Pipeline = __webpack_require__(8);\n\n      var _Pipeline2 = _interopRequireDefault(_Pipeline);\n\n      var _FileDrop = __webpack_require__(9);\n\n      var _FileDrop2 = _interopRequireDefault(_FileDrop);\n\n      var _FileOver = __webpack_require__(10);\n\n      var _FileOver2 = _interopRequireDefault(_FileOver);\n\n      var _FileSelect3 = __webpack_require__(11);\n\n      var _FileSelect4 = _interopRequireDefault(_FileSelect3);\n\n      var _FileDrop3 = __webpack_require__(12);\n\n      var _FileDrop4 = _interopRequireDefault(_FileDrop3);\n\n      var _FileOver3 = __webpack_require__(13);\n\n      var _FileOver4 = _interopRequireDefault(_FileOver3);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      angular.module(_config2.default.name, []).value('fileUploaderOptions', _options2.default)\n        .factory('FileUploader', _FileUploader2.default).factory('FileLikeObject',\n          _FileLikeObject2.default).factory('FileItem', _FileItem2.default).factory(\n          'FileDirective', _FileDirective2.default).factory('FileSelect', _FileSelect2.default)\n        .factory('FileDrop', _FileDrop2.default).factory('FileOver', _FileOver2.default).factory(\n          'Pipeline', _Pipeline2.default).directive('nvFileSelect', _FileSelect4.default).directive(\n          'nvFileDrop', _FileDrop4.default).directive('nvFileOver', _FileOver4.default).run([\n          'FileUploader', 'FileLikeObject', 'FileItem', 'FileDirective', 'FileSelect',\n          'FileDrop', 'FileOver', 'Pipeline',\n          function(FileUploader, FileLikeObject, FileItem, FileDirective, FileSelect,\n            FileDrop, FileOver, Pipeline) {\n            // only for compatibility\n            FileUploader.FileLikeObject = FileLikeObject;\n            FileUploader.FileItem = FileItem;\n            FileUploader.FileDirective = FileDirective;\n            FileUploader.FileSelect = FileSelect;\n            FileUploader.FileDrop = FileDrop;\n            FileUploader.FileOver = FileOver;\n            FileUploader.Pipeline = Pipeline;\n          }\n        ]);\n\n      /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports) {\n\n      module.exports = {\n        \"name\": \"angularFileUpload\"\n      };\n\n      /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = {\n        url: '/',\n        alias: 'file',\n        headers: {},\n        queue: [],\n        progress: 0,\n        autoUpload: false,\n        removeAfterUpload: false,\n        method: 'POST',\n        filters: [],\n        formData: [],\n        queueLimit: Number.MAX_VALUE,\n        withCredentials: false,\n        disableMultipart: false\n      };\n\n      /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function() {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n =\n              true) {\n              _arr.push(_s.value);\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n          return _arr;\n        }\n        return function(arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var bind = _angular.bind;\n      var copy = _angular.copy;\n      var extend = _angular.extend;\n      var forEach = _angular.forEach;\n      var isObject = _angular.isObject;\n      var isNumber = _angular.isNumber;\n      var isDefined = _angular.isDefined;\n      var isArray = _angular.isArray;\n      var isUndefined = _angular.isUndefined;\n      var element = _angular.element;\n\n      function __identity(fileUploaderOptions, $rootScope, $http, $window, $timeout,\n        FileLikeObject, FileItem, Pipeline) {\n        var File = $window.File;\n        var FormData = $window.FormData;\n\n        var FileUploader = function() {\n          /**********************\n           * PUBLIC\n           **********************/\n          /**\n           * Creates an instance of FileUploader\n           * @param {Object} [options]\n           * @constructor\n           */\n\n          function FileUploader(options) {\n            _classCallCheck(this, FileUploader);\n\n            var settings = copy(fileUploaderOptions);\n\n            extend(this, settings, options, {\n              isUploading: false,\n              _nextIndex: 0,\n              _directives: {\n                select: [],\n                drop: [],\n                over: []\n              }\n            });\n\n            // add default filters\n            this.filters.unshift({\n              name: 'queueLimit',\n              fn: this._queueLimitFilter\n            });\n            this.filters.unshift({\n              name: 'folder',\n              fn: this._folderFilter\n            });\n          }\n          /**\n           * Adds items to the queue\n           * @param {File|HTMLInputElement|Object|FileList|Array<Object>} files\n           * @param {Object} [options]\n           * @param {Array<Function>|String} filters\n           */\n\n\n          FileUploader.prototype.addToQueue = function addToQueue(files, options, filters) {\n            var _this = this;\n\n            var incomingQueue = this.isArrayLikeObject(files) ? Array.prototype.slice.call(\n              files) : [files];\n            var arrayOfFilters = this._getFilters(filters);\n            var count = this.queue.length;\n            var addedFileItems = [];\n\n            var next = function next() {\n              var something = incomingQueue.shift();\n\n              if (isUndefined(something)) {\n                return done();\n              }\n\n              var fileLikeObject = _this.isFile(something) ? something : new FileLikeObject(\n                something);\n              var pipes = _this._convertFiltersToPipes(arrayOfFilters);\n              var pipeline = new Pipeline(pipes);\n              var onThrown = function onThrown(err) {\n                var originalFilter = err.pipe.originalFilter;\n\n                var _err$args = _slicedToArray(err.args, 2);\n\n                var fileLikeObject = _err$args[0];\n                var options = _err$args[1];\n\n                _this._onWhenAddingFileFailed(fileLikeObject, originalFilter, options);\n                next();\n              };\n              var onSuccessful = function onSuccessful(fileLikeObject, options) {\n                var fileItem = new FileItem(_this, fileLikeObject, options);\n                addedFileItems.push(fileItem);\n                _this.queue.push(fileItem);\n                _this._onAfterAddingFile(fileItem);\n                next();\n              };\n              pipeline.onThrown = onThrown;\n              pipeline.onSuccessful = onSuccessful;\n              pipeline.exec(fileLikeObject, options);\n            };\n\n            var done = function done() {\n              if (_this.queue.length !== count) {\n                _this._onAfterAddingAll(addedFileItems);\n                _this.progress = _this._getTotalProgress();\n              }\n\n              _this._render();\n              if (_this.autoUpload) _this.uploadAll();\n            };\n\n            next();\n          };\n          /**\n           * Remove items from the queue. Remove last: index = -1\n           * @param {FileItem|Number} value\n           */\n\n\n          FileUploader.prototype.removeFromQueue = function removeFromQueue(value) {\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            if (item.isUploading) item.cancel();\n            this.queue.splice(index, 1);\n            item._destroy();\n            this.progress = this._getTotalProgress();\n          };\n          /**\n           * Clears the queue\n           */\n\n\n          FileUploader.prototype.clearQueue = function clearQueue() {\n            while (this.queue.length) {\n              this.queue[0].remove();\n            }\n            this.progress = 0;\n          };\n          /**\n           * Uploads a item from the queue\n           * @param {FileItem|Number} value\n           */\n\n\n          FileUploader.prototype.uploadItem = function uploadItem(value) {\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            var transport = this.isHTML5 ? '_xhrTransport' : '_iframeTransport';\n\n            item._prepareToUploading();\n            if (this.isUploading) return;\n\n            this._onBeforeUploadItem(item);\n            if (item.isCancel) return;\n\n            item.isUploading = true;\n            this.isUploading = true;\n            this[transport](item);\n            this._render();\n          };\n          /**\n           * Cancels uploading of item from the queue\n           * @param {FileItem|Number} value\n           */\n\n\n          FileUploader.prototype.cancelItem = function cancelItem(value) {\n            var _this2 = this;\n\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            var prop = this.isHTML5 ? '_xhr' : '_form';\n            if (!item) return;\n            item.isCancel = true;\n            if (item.isUploading) {\n              // It will call this._onCancelItem() & this._onCompleteItem() asynchronously\n              item[prop].abort();\n            } else {\n              (function() {\n                var dummy = [undefined, 0, {}];\n                var onNextTick = function onNextTick() {\n                  _this2._onCancelItem.apply(_this2, [item].concat(dummy));\n                  _this2._onCompleteItem.apply(_this2, [item].concat(dummy));\n                };\n                $timeout(onNextTick); // Trigger callbacks asynchronously (setImmediate emulation)\n              })();\n            }\n          };\n          /**\n           * Uploads all not uploaded items of queue\n           */\n\n\n          FileUploader.prototype.uploadAll = function uploadAll() {\n            var items = this.getNotUploadedItems().filter(function(item) {\n              return !item.isUploading;\n            });\n            if (!items.length) return;\n\n            forEach(items, function(item) {\n              return item._prepareToUploading();\n            });\n            items[0].upload();\n          };\n          /**\n           * Cancels all uploads\n           */\n\n\n          FileUploader.prototype.cancelAll = function cancelAll() {\n            var items = this.getNotUploadedItems();\n            forEach(items, function(item) {\n              return item.cancel();\n            });\n          };\n          /**\n           * Returns \"true\" if value an instance of File\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n\n          FileUploader.prototype.isFile = function isFile(value) {\n            return this.constructor.isFile(value);\n          };\n          /**\n           * Returns \"true\" if value an instance of FileLikeObject\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n\n          FileUploader.prototype.isFileLikeObject = function isFileLikeObject(value) {\n            return this.constructor.isFileLikeObject(value);\n          };\n          /**\n           * Returns \"true\" if value is array like object\n           * @param {*} value\n           * @returns {Boolean}\n           */\n\n\n          FileUploader.prototype.isArrayLikeObject = function isArrayLikeObject(value) {\n            return this.constructor.isArrayLikeObject(value);\n          };\n          /**\n           * Returns a index of item from the queue\n           * @param {Item|Number} value\n           * @returns {Number}\n           */\n\n\n          FileUploader.prototype.getIndexOfItem = function getIndexOfItem(value) {\n            return isNumber(value) ? value : this.queue.indexOf(value);\n          };\n          /**\n           * Returns not uploaded items\n           * @returns {Array}\n           */\n\n\n          FileUploader.prototype.getNotUploadedItems = function getNotUploadedItems() {\n            return this.queue.filter(function(item) {\n              return !item.isUploaded;\n            });\n          };\n          /**\n           * Returns items ready for upload\n           * @returns {Array}\n           */\n\n\n          FileUploader.prototype.getReadyItems = function getReadyItems() {\n            return this.queue.filter(function(item) {\n              return item.isReady && !item.isUploading;\n            }).sort(function(item1, item2) {\n              return item1.index - item2.index;\n            });\n          };\n          /**\n           * Destroys instance of FileUploader\n           */\n\n\n          FileUploader.prototype.destroy = function destroy() {\n            var _this3 = this;\n\n            forEach(this._directives, function(key) {\n              forEach(_this3._directives[key], function(object) {\n                object.destroy();\n              });\n            });\n          };\n          /**\n           * Callback\n           * @param {Array} fileItems\n           */\n\n\n          FileUploader.prototype.onAfterAddingAll = function onAfterAddingAll(fileItems) {};\n          /**\n           * Callback\n           * @param {FileItem} fileItem\n           */\n\n\n          FileUploader.prototype.onAfterAddingFile = function onAfterAddingFile(fileItem) {};\n          /**\n           * Callback\n           * @param {File|Object} item\n           * @param {Object} filter\n           * @param {Object} options\n           */\n\n\n          FileUploader.prototype.onWhenAddingFileFailed = function onWhenAddingFileFailed(\n            item, filter, options) {};\n          /**\n           * Callback\n           * @param {FileItem} fileItem\n           */\n\n\n          FileUploader.prototype.onBeforeUploadItem = function onBeforeUploadItem(fileItem) {};\n          /**\n           * Callback\n           * @param {FileItem} fileItem\n           * @param {Number} progress\n           */\n\n\n          FileUploader.prototype.onProgressItem = function onProgressItem(fileItem, progress) {};\n          /**\n           * Callback\n           * @param {Number} progress\n           */\n\n\n          FileUploader.prototype.onProgressAll = function onProgressAll(progress) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileUploader.prototype.onSuccessItem = function onSuccessItem(item, response,\n            status, headers) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileUploader.prototype.onErrorItem = function onErrorItem(item, response, status,\n            headers) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileUploader.prototype.onCancelItem = function onCancelItem(item, response, status,\n            headers) {};\n          /**\n           * Callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileUploader.prototype.onCompleteItem = function onCompleteItem(item, response,\n            status, headers) {};\n          /**\n           * Callback\n           */\n\n\n          FileUploader.prototype.onCompleteAll = function onCompleteAll() {};\n          /**********************\n           * PRIVATE\n           **********************/\n          /**\n           * Returns the total progress\n           * @param {Number} [value]\n           * @returns {Number}\n           * @private\n           */\n\n\n          FileUploader.prototype._getTotalProgress = function _getTotalProgress(value) {\n            if (this.removeAfterUpload) return value || 0;\n\n            var notUploaded = this.getNotUploadedItems().length;\n            var uploaded = notUploaded ? this.queue.length - notUploaded : this.queue.length;\n            var ratio = 100 / this.queue.length;\n            var current = (value || 0) * ratio / 100;\n\n            return Math.round(uploaded * ratio + current);\n          };\n          /**\n           * Returns array of filters\n           * @param {Array<Function>|String} filters\n           * @returns {Array<Function>}\n           * @private\n           */\n\n\n          FileUploader.prototype._getFilters = function _getFilters(filters) {\n            if (!filters) return this.filters;\n            if (isArray(filters)) return filters;\n            var names = filters.match(/[^\\s,]+/g);\n            return this.filters.filter(function(filter) {\n              return names.indexOf(filter.name) !== -1;\n            });\n          };\n          /**\n           * @param {Array<Function>} filters\n           * @returns {Array<Function>}\n           * @private\n           */\n\n\n          FileUploader.prototype._convertFiltersToPipes = function _convertFiltersToPipes(\n            filters) {\n            var _this4 = this;\n\n            return filters.map(function(filter) {\n              var fn = bind(_this4, filter.fn);\n              fn.isAsync = filter.fn.length === 3;\n              fn.originalFilter = filter;\n              return fn;\n            });\n          };\n          /**\n           * Updates html\n           * @private\n           */\n\n\n          FileUploader.prototype._render = function _render() {\n            if (!$rootScope.$$phase) $rootScope.$apply();\n          };\n          /**\n           * Returns \"true\" if item is a file (not folder)\n           * @param {File|FileLikeObject} item\n           * @returns {Boolean}\n           * @private\n           */\n\n\n          FileUploader.prototype._folderFilter = function _folderFilter(item) {\n            return !!(item.size || item.type);\n          };\n          /**\n           * Returns \"true\" if the limit has not been reached\n           * @returns {Boolean}\n           * @private\n           */\n\n\n          FileUploader.prototype._queueLimitFilter = function _queueLimitFilter() {\n            return this.queue.length < this.queueLimit;\n          };\n          /**\n           * Checks whether upload successful\n           * @param {Number} status\n           * @returns {Boolean}\n           * @private\n           */\n\n\n          FileUploader.prototype._isSuccessCode = function _isSuccessCode(status) {\n            return status >= 200 && status < 300 || status === 304;\n          };\n          /**\n           * Transforms the server response\n           * @param {*} response\n           * @param {Object} headers\n           * @returns {*}\n           * @private\n           */\n\n\n          FileUploader.prototype._transformResponse = function _transformResponse(response,\n            headers) {\n            var headersGetter = this._headersGetter(headers);\n            forEach($http.defaults.transformResponse, function(transformFn) {\n              response = transformFn(response, headersGetter);\n            });\n            return response;\n          };\n          /**\n           * Parsed response headers\n           * @param headers\n           * @returns {Object}\n           * @see https://github.com/angular/angular.js/blob/master/src/ng/http.js\n           * @private\n           */\n\n\n          FileUploader.prototype._parseHeaders = function _parseHeaders(headers) {\n            var parsed = {},\n              key,\n              val,\n              i;\n\n            if (!headers) return parsed;\n\n            forEach(headers.split('\\n'), function(line) {\n              i = line.indexOf(':');\n              key = line.slice(0, i).trim().toLowerCase();\n              val = line.slice(i + 1).trim();\n\n              if (key) {\n                parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n              }\n            });\n\n            return parsed;\n          };\n          /**\n           * Returns function that returns headers\n           * @param {Object} parsedHeaders\n           * @returns {Function}\n           * @private\n           */\n\n\n          FileUploader.prototype._headersGetter = function _headersGetter(parsedHeaders) {\n            return function(name) {\n              if (name) {\n                return parsedHeaders[name.toLowerCase()] || null;\n              }\n              return parsedHeaders;\n            };\n          };\n          /**\n           * The XMLHttpRequest transport\n           * @param {FileItem} item\n           * @private\n           */\n\n\n          FileUploader.prototype._xhrTransport = function _xhrTransport(item) {\n            var _this5 = this;\n\n            var xhr = item._xhr = new XMLHttpRequest();\n            var sendable;\n\n            if (!item.disableMultipart) {\n              sendable = new FormData();\n              forEach(item.formData, function(obj) {\n                forEach(obj, function(value, key) {\n                  sendable.append(key, value);\n                });\n              });\n\n              sendable.append(item.alias, item._file, item.file.name);\n            } else {\n              sendable = item._file;\n            }\n\n            if (typeof item._file.size != 'number') {\n              throw new TypeError('The file specified is no longer valid');\n            }\n\n            xhr.upload.onprogress = function(event) {\n              var progress = Math.round(event.lengthComputable ? event.loaded * 100 /\n                event.total : 0);\n              _this5._onProgressItem(item, progress);\n            };\n\n            xhr.onload = function() {\n              var headers = _this5._parseHeaders(xhr.getAllResponseHeaders());\n              var response = _this5._transformResponse(xhr.response, headers);\n              var gist = _this5._isSuccessCode(xhr.status) ? 'Success' : 'Error';\n              var method = '_on' + gist + 'Item';\n              _this5[method](item, response, xhr.status, headers);\n              _this5._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.onerror = function() {\n              var headers = _this5._parseHeaders(xhr.getAllResponseHeaders());\n              var response = _this5._transformResponse(xhr.response, headers);\n              _this5._onErrorItem(item, response, xhr.status, headers);\n              _this5._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.onabort = function() {\n              var headers = _this5._parseHeaders(xhr.getAllResponseHeaders());\n              var response = _this5._transformResponse(xhr.response, headers);\n              _this5._onCancelItem(item, response, xhr.status, headers);\n              _this5._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.open(item.method, item.url, true);\n\n            xhr.withCredentials = item.withCredentials;\n\n            forEach(item.headers, function(value, name) {\n              xhr.setRequestHeader(name, value);\n            });\n\n            xhr.send(sendable);\n          };\n          /**\n           * The IFrame transport\n           * @param {FileItem} item\n           * @private\n           */\n\n\n          FileUploader.prototype._iframeTransport = function _iframeTransport(item) {\n            var _this6 = this;\n\n            var form = element('<form style=\"display: none;\" />');\n            var iframe = element('<iframe name=\"iframeTransport' + Date.now() + '\">');\n            var input = item._input;\n\n            if (item._form) item._form.replaceWith(input); // remove old form\n            item._form = form; // save link to new form\n\n            input.prop('name', item.alias);\n\n            forEach(item.formData, function(obj) {\n              forEach(obj, function(value, key) {\n                var element_ = element('<input type=\"hidden\" name=\"' + key + '\" />');\n                element_.val(value);\n                form.append(element_);\n              });\n            });\n\n            form.prop({\n              action: item.url,\n              method: 'POST',\n              target: iframe.prop('name'),\n              enctype: 'multipart/form-data',\n              encoding: 'multipart/form-data' // old IE\n            });\n\n            iframe.bind('load', function() {\n              var html = '';\n              var status = 200;\n\n              try {\n                // Fix for legacy IE browsers that loads internal error page\n                // when failed WS response received. In consequence iframe\n                // content access denied error is thrown becouse trying to\n                // access cross domain page. When such thing occurs notifying\n                // with empty response object. See more info at:\n                // http://stackoverflow.com/questions/151362/access-is-denied-error-on-accessing-iframe-document-object\n                // Note that if non standard 4xx or 5xx error code returned\n                // from WS then response content can be accessed without error\n                // but 'XHR' status becomes 200. In order to avoid confusion\n                // returning response via same 'success' event handler.\n\n                // fixed angular.contents() for iframes\n                html = iframe[0].contentDocument.body.innerHTML;\n              } catch (e) {\n                // in case we run into the access-is-denied error or we have another error on the server side\n                // (intentional 500,40... errors), we at least say 'something went wrong' -> 500\n                status = 500;\n              }\n\n              var xhr = {\n                response: html,\n                status: status,\n                dummy: true\n              };\n              var headers = {};\n              var response = _this6._transformResponse(xhr.response, headers);\n\n              _this6._onSuccessItem(item, response, xhr.status, headers);\n              _this6._onCompleteItem(item, response, xhr.status, headers);\n            });\n\n            form.abort = function() {\n              var xhr = {\n                status: 0,\n                dummy: true\n              };\n              var headers = {};\n              var response;\n\n              iframe.unbind('load').prop('src', 'javascript:false;');\n              form.replaceWith(input);\n\n              _this6._onCancelItem(item, response, xhr.status, headers);\n              _this6._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            input.after(form);\n            form.append(input).append(iframe);\n\n            form[0].submit();\n          };\n          /**\n           * Inner callback\n           * @param {File|Object} item\n           * @param {Object} filter\n           * @param {Object} options\n           * @private\n           */\n\n\n          FileUploader.prototype._onWhenAddingFileFailed = function _onWhenAddingFileFailed(\n            item, filter, options) {\n            this.onWhenAddingFileFailed(item, filter, options);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           */\n\n\n          FileUploader.prototype._onAfterAddingFile = function _onAfterAddingFile(item) {\n            this.onAfterAddingFile(item);\n          };\n          /**\n           * Inner callback\n           * @param {Array<FileItem>} items\n           */\n\n\n          FileUploader.prototype._onAfterAddingAll = function _onAfterAddingAll(items) {\n            this.onAfterAddingAll(items);\n          };\n          /**\n           *  Inner callback\n           * @param {FileItem} item\n           * @private\n           */\n\n\n          FileUploader.prototype._onBeforeUploadItem = function _onBeforeUploadItem(item) {\n            item._onBeforeUpload();\n            this.onBeforeUploadItem(item);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {Number} progress\n           * @private\n           */\n\n\n          FileUploader.prototype._onProgressItem = function _onProgressItem(item, progress) {\n            var total = this._getTotalProgress(progress);\n            this.progress = total;\n            item._onProgress(progress);\n            this.onProgressItem(item, progress);\n            this.onProgressAll(total);\n            this._render();\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileUploader.prototype._onSuccessItem = function _onSuccessItem(item, response,\n            status, headers) {\n            item._onSuccess(response, status, headers);\n            this.onSuccessItem(item, response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileUploader.prototype._onErrorItem = function _onErrorItem(item, response, status,\n            headers) {\n            item._onError(response, status, headers);\n            this.onErrorItem(item, response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileUploader.prototype._onCancelItem = function _onCancelItem(item, response,\n            status, headers) {\n            item._onCancel(response, status, headers);\n            this.onCancelItem(item, response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {FileItem} item\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileUploader.prototype._onCompleteItem = function _onCompleteItem(item, response,\n            status, headers) {\n            item._onComplete(response, status, headers);\n            this.onCompleteItem(item, response, status, headers);\n\n            var nextItem = this.getReadyItems()[0];\n            this.isUploading = false;\n\n            if (isDefined(nextItem)) {\n              nextItem.upload();\n              return;\n            }\n\n            this.onCompleteAll();\n            this.progress = this._getTotalProgress();\n            this._render();\n          };\n          /**********************\n           * STATIC\n           **********************/\n          /**\n           * Returns \"true\" if value an instance of File\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n\n          FileUploader.isFile = function isFile(value) {\n            return File && value instanceof File;\n          };\n          /**\n           * Returns \"true\" if value an instance of FileLikeObject\n           * @param {*} value\n           * @returns {Boolean}\n           * @private\n           */\n\n\n          FileUploader.isFileLikeObject = function isFileLikeObject(value) {\n            return value instanceof FileLikeObject;\n          };\n          /**\n           * Returns \"true\" if value is array like object\n           * @param {*} value\n           * @returns {Boolean}\n           */\n\n\n          FileUploader.isArrayLikeObject = function isArrayLikeObject(value) {\n            return isObject(value) && 'length' in value;\n          };\n          /**\n           * Inherits a target (Class_1) by a source (Class_2)\n           * @param {Function} target\n           * @param {Function} source\n           */\n\n\n          FileUploader.inherit = function inherit(target, source) {\n            target.prototype = Object.create(source.prototype);\n            target.prototype.constructor = target;\n            target.super_ = source;\n          };\n\n          return FileUploader;\n        }();\n\n        /**********************\n         * PUBLIC\n         **********************/\n        /**\n         * Checks a support the html5 uploader\n         * @returns {Boolean}\n         * @readonly\n         */\n\n\n        FileUploader.prototype.isHTML5 = !!(File && FormData);\n        /**********************\n         * STATIC\n         **********************/\n        /**\n         * @borrows FileUploader.prototype.isHTML5\n         */\n        FileUploader.isHTML5 = FileUploader.prototype.isHTML5;\n\n        return FileUploader;\n      }\n\n      __identity.$inject = ['fileUploaderOptions', '$rootScope', '$http', '$window', '$timeout',\n        'FileLikeObject', 'FileItem', 'Pipeline'\n      ];\n\n      /***/\n    },\n    /* 4 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var copy = _angular.copy;\n      var isElement = _angular.isElement;\n      var isString = _angular.isString;\n\n      function __identity() {\n\n        return function() {\n          /**\n           * Creates an instance of FileLikeObject\n           * @param {File|HTMLInputElement|Object} fileOrInput\n           * @constructor\n           */\n\n          function FileLikeObject(fileOrInput) {\n            _classCallCheck(this, FileLikeObject);\n\n            var isInput = isElement(fileOrInput);\n            var fakePathOrObject = isInput ? fileOrInput.value : fileOrInput;\n            var postfix = isString(fakePathOrObject) ? 'FakePath' : 'Object';\n            var method = '_createFrom' + postfix;\n            this[method](fakePathOrObject);\n          }\n          /**\n           * Creates file like object from fake path string\n           * @param {String} path\n           * @private\n           */\n\n\n          FileLikeObject.prototype._createFromFakePath = function _createFromFakePath(path) {\n            this.lastModifiedDate = null;\n            this.size = null;\n            this.type = 'like/' + path.slice(path.lastIndexOf('.') + 1).toLowerCase();\n            this.name = path.slice(path.lastIndexOf('/') + path.lastIndexOf('\\\\') + 2);\n          };\n          /**\n           * Creates file like object from object\n           * @param {File|FileLikeObject} object\n           * @private\n           */\n\n\n          FileLikeObject.prototype._createFromObject = function _createFromObject(object) {\n            this.lastModifiedDate = copy(object.lastModifiedDate);\n            this.size = object.size;\n            this.type = object.type;\n            this.name = object.name;\n          };\n\n          return FileLikeObject;\n        }();\n      }\n\n      /***/\n    },\n    /* 5 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var copy = _angular.copy;\n      var extend = _angular.extend;\n      var element = _angular.element;\n      var isElement = _angular.isElement;\n\n      function __identity($compile, FileLikeObject) {\n\n        return function() {\n          /**\n           * Creates an instance of FileItem\n           * @param {FileUploader} uploader\n           * @param {File|HTMLInputElement|Object} some\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileItem(uploader, some, options) {\n            _classCallCheck(this, FileItem);\n\n            var isInput = isElement(some);\n            var input = isInput ? element(some) : (uploader.target.clone() || null);\n            var file = !isInput ? some : null;\n\n            extend(this, {\n              url: uploader.url,\n              alias: uploader.alias,\n              headers: copy(uploader.headers),\n              formData: copy(uploader.formData),\n              removeAfterUpload: uploader.removeAfterUpload,\n              withCredentials: uploader.withCredentials,\n              disableMultipart: uploader.disableMultipart,\n              method: uploader.method\n            }, options, {\n              uploader: uploader,\n              file: new FileLikeObject(some),\n              isReady: false,\n              isUploading: false,\n              isUploaded: false,\n              isSuccess: false,\n              isCancel: false,\n              isError: false,\n              progress: 0,\n              index: null,\n              _file: file,\n              _input: input\n            });\n\n            // if (input) this._replaceNode(input);\n          }\n          /**********************\n           * PUBLIC\n           **********************/\n          /**\n           * Uploads a FileItem\n           */\n\n\n          FileItem.prototype.upload = function upload() {\n            try {\n              this.uploader.uploadItem(this);\n            } catch (e) {\n              console.error(e);\n              var message = e.name + ':' + e.message;\n              this.uploader._onCompleteItem(this, message, e.code, []);\n              this.uploader._onErrorItem(this, message, e.code, []);\n            }\n          };\n          /**\n           * Cancels uploading of FileItem\n           */\n\n\n          FileItem.prototype.cancel = function cancel() {\n            this.uploader.cancelItem(this);\n          };\n          /**\n           * Removes a FileItem\n           */\n\n\n          FileItem.prototype.remove = function remove() {\n            this.uploader.removeFromQueue(this);\n          };\n          /**\n           * Callback\n           * @private\n           */\n\n\n          FileItem.prototype.onBeforeUpload = function onBeforeUpload() {};\n          /**\n           * Callback\n           * @param {Number} progress\n           * @private\n           */\n\n\n          FileItem.prototype.onProgress = function onProgress(progress) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileItem.prototype.onSuccess = function onSuccess(response, status, headers) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileItem.prototype.onError = function onError(response, status, headers) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileItem.prototype.onCancel = function onCancel(response, status, headers) {};\n          /**\n           * Callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           */\n\n\n          FileItem.prototype.onComplete = function onComplete(response, status, headers) {};\n          /**********************\n           * PRIVATE\n           **********************/\n          /**\n           * Inner callback\n           */\n\n\n          FileItem.prototype._onBeforeUpload = function _onBeforeUpload() {\n            this.isReady = true;\n            this.isUploading = false;\n            this.isUploaded = false;\n            this.isSuccess = false;\n            this.isCancel = false;\n            this.isError = false;\n            this.progress = 0;\n            this.onBeforeUpload();\n          };\n          /**\n           * Inner callback\n           * @param {Number} progress\n           * @private\n           */\n\n\n          FileItem.prototype._onProgress = function _onProgress(progress) {\n            this.progress = progress;\n            this.onProgress(progress);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileItem.prototype._onSuccess = function _onSuccess(response, status, headers) {\n            this.isReady = false;\n            this.isUploading = false;\n            this.isUploaded = true;\n            this.isSuccess = true;\n            this.isCancel = false;\n            this.isError = false;\n            this.progress = 100;\n            this.index = null;\n            this.onSuccess(response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileItem.prototype._onError = function _onError(response, status, headers) {\n            this.isReady = false;\n            this.isUploading = false;\n            this.isUploaded = true;\n            this.isSuccess = false;\n            this.isCancel = false;\n            this.isError = true;\n            this.progress = 0;\n            this.index = null;\n            this.onError(response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileItem.prototype._onCancel = function _onCancel(response, status, headers) {\n            this.isReady = false;\n            this.isUploading = false;\n            this.isUploaded = false;\n            this.isSuccess = false;\n            this.isCancel = true;\n            this.isError = false;\n            this.progress = 0;\n            this.index = null;\n            this.onCancel(response, status, headers);\n          };\n          /**\n           * Inner callback\n           * @param {*} response\n           * @param {Number} status\n           * @param {Object} headers\n           * @private\n           */\n\n\n          FileItem.prototype._onComplete = function _onComplete(response, status, headers) {\n            this.onComplete(response, status, headers);\n            if (this.removeAfterUpload) this.remove();\n          };\n          /**\n           * Destroys a FileItem\n           */\n\n\n          FileItem.prototype._destroy = function _destroy() {\n            if (this._input) this._input.remove();\n            if (this._form) this._form.remove();\n            delete this._form;\n            delete this._input;\n          };\n          /**\n           * Prepares to uploading\n           * @private\n           */\n\n\n          FileItem.prototype._prepareToUploading = function _prepareToUploading() {\n            this.index = this.index || ++this.uploader._nextIndex;\n            this.isReady = true;\n          };\n          /**\n           * Replaces input element on his clone\n           * @param {JQLite|jQuery} input\n           * @private\n           */\n\n\n          FileItem.prototype._replaceNode = function _replaceNode(input) {\n            var clone = $compile(input.clone())(input.scope());\n            clone.prop('value', null); // FF fix\n            input.css('display', 'none');\n            input.after(clone); // remove jquery dependency\n          };\n\n          return FileItem;\n        }();\n      }\n\n      __identity.$inject = ['$compile', 'FileLikeObject'];\n\n      /***/\n    },\n    /* 6 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n\n      function __identity() {\n        var FileDirective = function() {\n          /**\n           * Creates instance of {FileDirective} object\n           * @param {Object} options\n           * @param {Object} options.uploader\n           * @param {HTMLElement} options.element\n           * @param {Object} options.events\n           * @param {String} options.prop\n           * @constructor\n           */\n\n          function FileDirective(options) {\n            _classCallCheck(this, FileDirective);\n\n            extend(this, options);\n            this.uploader._directives[this.prop].push(this);\n            this._saveLinks();\n            this.bind();\n          }\n          /**\n           * Binds events handles\n           */\n\n\n          FileDirective.prototype.bind = function bind() {\n            for (var key in this.events) {\n              var prop = this.events[key];\n              this.element.bind(key, this[prop]);\n            }\n          };\n          /**\n           * Unbinds events handles\n           */\n\n\n          FileDirective.prototype.unbind = function unbind() {\n            for (var key in this.events) {\n              this.element.unbind(key, this.events[key]);\n            }\n          };\n          /**\n           * Destroys directive\n           */\n\n\n          FileDirective.prototype.destroy = function destroy() {\n            var index = this.uploader._directives[this.prop].indexOf(this);\n            this.uploader._directives[this.prop].splice(index, 1);\n            this.unbind();\n            // this.element = null;\n          };\n          /**\n           * Saves links to functions\n           * @private\n           */\n\n\n          FileDirective.prototype._saveLinks = function _saveLinks() {\n            for (var key in this.events) {\n              var prop = this.events[key];\n              this[prop] = this[prop].bind(this);\n            }\n          };\n\n          return FileDirective;\n        }();\n\n        /**\n         * Map of events\n         * @type {Object}\n         */\n\n\n        FileDirective.prototype.events = {};\n\n        return FileDirective;\n      }\n\n      /***/\n    },\n    /* 7 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" +\n            typeof superClass);\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) :\n          subClass.__proto__ = superClass;\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n\n      function __identity($compile, FileDirective) {\n\n        return function(_FileDirective) {\n          _inherits(FileSelect, _FileDirective);\n\n          /**\n           * Creates instance of {FileSelect} object\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileSelect(options) {\n            _classCallCheck(this, FileSelect);\n\n            var extendedOptions = extend(options, {\n              // Map of events\n              events: {\n                $destroy: 'destroy',\n                change: 'onChange'\n              },\n              // Name of property inside uploader._directive object\n              prop: 'select'\n            });\n\n            var _this = _possibleConstructorReturn(this, _FileDirective.call(this,\n              extendedOptions));\n\n            if (!_this.uploader.isHTML5) {\n              _this.element.removeAttr('multiple');\n            }\n            _this.element.prop('value', null); // FF fix\n            return _this;\n          }\n          /**\n           * Returns options\n           * @return {Object|undefined}\n           */\n\n\n          FileSelect.prototype.getOptions = function getOptions() {};\n          /**\n           * Returns filters\n           * @return {Array<Function>|String|undefined}\n           */\n\n\n          FileSelect.prototype.getFilters = function getFilters() {};\n          /**\n           * If returns \"true\" then HTMLInputElement will be cleared\n           * @returns {Boolean}\n           */\n\n\n          FileSelect.prototype.isEmptyAfterSelection = function isEmptyAfterSelection() {\n            return !!this.element.attr('multiple');\n          };\n          /**\n           * Event handler\n           */\n\n\n          FileSelect.prototype.onChange = function onChange() {\n            var files = this.uploader.isHTML5 ? this.element[0].files : this.element[0];\n            var options = this.getOptions();\n            var filters = this.getFilters();\n\n            if (!this.uploader.isHTML5) this.destroy();\n            this.uploader.addToQueue(files, options, filters);\n            if (this.isEmptyAfterSelection()) {\n              this.element.prop('value', null);\n              this.element.replaceWith($compile(this.element.clone())(this.scope)); // IE fix\n            }\n          };\n\n          return FileSelect;\n        }(FileDirective);\n      }\n\n      __identity.$inject = ['$compile', 'FileDirective'];\n\n      /***/\n    },\n    /* 8 */\n    /***/\n    function(module, exports) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var _angular = angular;\n      var bind = _angular.bind;\n      var isUndefined = _angular.isUndefined;\n\n      function __identity($q) {\n\n        return function() {\n          /**\n           * @param {Array<Function>} pipes\n           */\n\n          function Pipeline() {\n            var pipes = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[\n              0];\n\n            _classCallCheck(this, Pipeline);\n\n            this.pipes = pipes;\n          }\n\n          Pipeline.prototype.next = function next(args) {\n            var pipe = this.pipes.shift();\n            if (isUndefined(pipe)) {\n              this.onSuccessful.apply(this, _toConsumableArray(args));\n              return;\n            }\n            var err = new Error('The filter has not passed');\n            err.pipe = pipe;\n            err.args = args;\n            if (pipe.isAsync) {\n              var deferred = $q.defer();\n              var onFulfilled = bind(this, this.next, args);\n              var onRejected = bind(this, this.onThrown, err);\n              deferred.promise.then(onFulfilled, onRejected);\n              pipe.apply(undefined, _toConsumableArray(args).concat([deferred]));\n            } else {\n              var isDone = Boolean(pipe.apply(undefined, _toConsumableArray(args)));\n              if (isDone) {\n                this.next(args);\n              } else {\n                this.onThrown(err);\n              }\n            }\n          };\n\n          Pipeline.prototype.exec = function exec() {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            this.next(args);\n          };\n\n          Pipeline.prototype.onThrown = function onThrown(err) {};\n\n          Pipeline.prototype.onSuccessful = function onSuccessful() {};\n\n          return Pipeline;\n        }();\n      }\n\n      __identity.$inject = ['$q'];\n\n      /***/\n    },\n    /* 9 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" +\n            typeof superClass);\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) :\n          subClass.__proto__ = superClass;\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n      var forEach = _angular.forEach;\n\n      function __identity(FileDirective) {\n\n        return function(_FileDirective) {\n          _inherits(FileDrop, _FileDirective);\n\n          /**\n           * Creates instance of {FileDrop} object\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileDrop(options) {\n            _classCallCheck(this, FileDrop);\n\n            var extendedOptions = extend(options, {\n              // Map of events\n              events: {\n                $destroy: 'destroy',\n                drop: 'onDrop',\n                dragover: 'onDragOver',\n                dragleave: 'onDragLeave'\n              },\n              // Name of property inside uploader._directive object\n              prop: 'drop'\n            });\n\n            return _possibleConstructorReturn(this, _FileDirective.call(this, extendedOptions));\n          }\n          /**\n           * Returns options\n           * @return {Object|undefined}\n           */\n\n\n          FileDrop.prototype.getOptions = function getOptions() {};\n          /**\n           * Returns filters\n           * @return {Array<Function>|String|undefined}\n           */\n\n\n          FileDrop.prototype.getFilters = function getFilters() {};\n          /**\n           * Event handler\n           */\n\n\n          FileDrop.prototype.onDrop = function onDrop(event) {\n            var transfer = this._getTransfer(event);\n            if (!transfer) return;\n            var options = this.getOptions();\n            var filters = this.getFilters();\n            this._preventAndStop(event);\n            forEach(this.uploader._directives.over, this._removeOverClass, this);\n            this.uploader.addToQueue(transfer.files, options, filters);\n          };\n          /**\n           * Event handler\n           */\n\n\n          FileDrop.prototype.onDragOver = function onDragOver(event) {\n            var transfer = this._getTransfer(event);\n            if (!this._haveFiles(transfer.types)) return;\n            transfer.dropEffect = 'copy';\n            this._preventAndStop(event);\n            forEach(this.uploader._directives.over, this._addOverClass, this);\n          };\n          /**\n           * Event handler\n           */\n\n\n          FileDrop.prototype.onDragLeave = function onDragLeave(event) {\n            if (event.currentTarget === this.element[0]) return;\n            this._preventAndStop(event);\n            forEach(this.uploader._directives.over, this._removeOverClass, this);\n          };\n          /**\n           * Helper\n           */\n\n\n          FileDrop.prototype._getTransfer = function _getTransfer(event) {\n            return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\n          };\n          /**\n           * Helper\n           */\n\n\n          FileDrop.prototype._preventAndStop = function _preventAndStop(event) {\n            event.preventDefault();\n            event.stopPropagation();\n          };\n          /**\n           * Returns \"true\" if types contains files\n           * @param {Object} types\n           */\n\n\n          FileDrop.prototype._haveFiles = function _haveFiles(types) {\n            if (!types) return false;\n            if (types.indexOf) {\n              return types.indexOf('Files') !== -1;\n            } else if (types.contains) {\n              return types.contains('Files');\n            } else {\n              return false;\n            }\n          };\n          /**\n           * Callback\n           */\n\n\n          FileDrop.prototype._addOverClass = function _addOverClass(item) {\n            item.addOverClass();\n          };\n          /**\n           * Callback\n           */\n\n\n          FileDrop.prototype._removeOverClass = function _removeOverClass(item) {\n            item.removeOverClass();\n          };\n\n          return FileDrop;\n        }(FileDirective);\n      }\n\n      __identity.$inject = ['FileDirective'];\n\n      /***/\n    },\n    /* 10 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" +\n            typeof superClass);\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) :\n          subClass.__proto__ = superClass;\n      }\n\n      var _angular = angular;\n      var extend = _angular.extend;\n\n      function __identity(FileDirective) {\n\n        return function(_FileDirective) {\n          _inherits(FileOver, _FileDirective);\n\n          /**\n           * Creates instance of {FileDrop} object\n           * @param {Object} options\n           * @constructor\n           */\n\n          function FileOver(options) {\n            _classCallCheck(this, FileOver);\n\n            var extendedOptions = extend(options, {\n              // Map of events\n              events: {\n                $destroy: 'destroy'\n              },\n              // Name of property inside uploader._directive object\n              prop: 'over',\n              // Over class\n              overClass: 'nv-file-over'\n            });\n\n            return _possibleConstructorReturn(this, _FileDirective.call(this, extendedOptions));\n          }\n          /**\n           * Adds over class\n           */\n\n\n          FileOver.prototype.addOverClass = function addOverClass() {\n            this.element.addClass(this.getOverClass());\n          };\n          /**\n           * Removes over class\n           */\n\n\n          FileOver.prototype.removeOverClass = function removeOverClass() {\n            this.element.removeClass(this.getOverClass());\n          };\n          /**\n           * Returns over class\n           * @returns {String}\n           */\n\n\n          FileOver.prototype.getOverClass = function getOverClass() {\n            return this.overClass;\n          };\n\n          return FileOver;\n        }(FileDirective);\n      }\n\n      __identity.$inject = ['FileDirective'];\n\n      /***/\n    },\n    /* 11 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function __identity($parse, FileUploader, FileSelect) {\n\n        return {\n          link: function link(scope, element, attributes) {\n            var uploader = scope.$eval(attributes.uploader);\n\n            if (!(uploader instanceof FileUploader)) {\n              throw new TypeError('\"Uploader\" must be an instance of FileUploader');\n            }\n\n            var object = new FileSelect({\n              uploader: uploader,\n              element: element,\n              scope: scope\n            });\n\n            object.getOptions = $parse(attributes.options).bind(object, scope);\n            object.getFilters = function() {\n              return attributes.filters;\n            };\n          }\n        };\n      }\n\n      __identity.$inject = ['$parse', 'FileUploader', 'FileSelect'];\n\n      /***/\n    },\n    /* 12 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function __identity($parse, FileUploader, FileDrop) {\n\n        return {\n          link: function link(scope, element, attributes) {\n            var uploader = scope.$eval(attributes.uploader);\n\n            if (!(uploader instanceof FileUploader)) {\n              throw new TypeError('\"Uploader\" must be an instance of FileUploader');\n            }\n\n            if (!uploader.isHTML5) return;\n\n            var object = new FileDrop({\n              uploader: uploader,\n              element: element\n            });\n\n            object.getOptions = $parse(attributes.options).bind(object, scope);\n            object.getFilters = function() {\n              return attributes.filters;\n            };\n          }\n        };\n      }\n\n      __identity.$inject = ['$parse', 'FileUploader', 'FileDrop'];\n\n      /***/\n    },\n    /* 13 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = __identity;\n\n      var _config = __webpack_require__(1);\n\n      var _config2 = _interopRequireDefault(_config);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function __identity(FileUploader, FileOver) {\n\n        return {\n          link: function link(scope, element, attributes) {\n            var uploader = scope.$eval(attributes.uploader);\n\n            if (!(uploader instanceof FileUploader)) {\n              throw new TypeError('\"Uploader\" must be an instance of FileUploader');\n            }\n\n            var object = new FileOver({\n              uploader: uploader,\n              element: element\n            });\n\n            object.getOverClass = function() {\n              return attributes.overClass || object.overClass;\n            };\n          }\n        };\n      }\n\n      __identity.$inject = ['FileUploader', 'FileOver'];\n\n      /***/\n    }\n    /******/\n  ])\n});;\n//# sourceMappingURL=angular-file-upload.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/upload/src/lib/angular-file-upload.js","import moduleName from './src/name.js';\nimport button from '../button';\nimport icons from '../icons';\nimport progress from '../progress';\nimport message from '../message';\nimport './src/lib/angular-file-upload';\n\n\nangular.module(moduleName, [\n  'angularFileUpload',\n  button,\n  icons,\n  progress,\n  message,\n]).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/upload/index.js","module.exports = \"<div class=\\\"upload-image-items\\\">\\n  <div class=\\\"upload-image-item\\\"\\n    ng-class=\\\"{error: file.error}\\\"\\n    data-id=\\\"{{file.id}}\\\"\\n    ng-repeat=\\\"file in ngModel track by $index\\\">\\n\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"file.url && (isImg(file) || isSnapshot(file))\\\"\\n      style=\\\"background-image:url({{file.url}})\\\"\\n    ></div>\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"(file.url || file.cover_url) && isVideo(file)\\\"\\n      style=\\\"background-image:url({{file.cover_url || getSnapshot(file)}})\\\"\\n    >\\n    </div>\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"!file.url && file.id && isImg(file)\\\"\\n      style=\\\"background-image:url({{$ctrl.uploadConfig.viewUrl + '?file_id=' + file.id}})\\\"\\n    ></div>\\n\\n    <div class=\\\"image\\\"\\n      ng-if=\\\"!isImg(file) && !isVideo(file) && !isSnapshot(file)\\\">\\n      <ma-icon ma-type=\\\"{{getFileIcon(file)}}\\\"></ma-icon>\\n    </div>\\n\\n    <div class=\\\"handle-box\\\"\\n      ng-show=\\\"file.progress === undefined || file.progress === 100\\\">\\n      <div>\\n        <ma-icon class=\\\"close\\\"\\n        ma-type=\\\"{{isVideo(file) ? 'playcircleo' : 'eyeo'}}\\\"\\n        ma-click=\\\"viewFile(ngModel, file, $index)\\\"></ma-icon>\\n        <ma-icon class=\\\"close\\\"\\n          ma-type=\\\"delete\\\"\\n          ma-click=\\\"delFile(file, $index)\\\"\\n          ng-show=\\\"showDelete != 'false' && file.showDelete !== false && (file.progress === undefined || file.progress === 100)\\\"></ma-icon>\\n      </div>\\n    </div>\\n\\n    <ma-progress ma-type=\\\"circle\\\"\\n      ma-status=\\\"danger\\\"\\n      ma-size=\\\"70\\\"\\n      ma-stroke-width=\\\"5\\\"\\n      ma-percent=\\\"{{file.progress}}\\\"\\n      ng-show=\\\"file.progress !== undefined && file.progress !== 100\\\"></ma-progress>\\n\\n    <div class=\\\"extra\\\" ng-if=\\\"extra\\\">\\n      <div ng-compile=\\\"extra\\\" ng-params=\\\"{$index: $index}\\\"></div>\\n    </div>\\n  </div>\\n\\n\\n  <div class=\\\"upload-image-item add\\\"\\n    ng-hide=\\\"$ctrl.uploadConfig.limit <= ngModel.length\\\">\\n    <div class=\\\"upload-img-item-add-box\\\">\\n      <div class=\\\"upload-img-item-add-box-container\\\">\\n        <ma-icon ma-type=\\\"plus\\\"></ma-icon>\\n        <div ng-bind-html=\\\"$ctrl.uploadConfig.uploadText || '上传照片'\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"upload-image-item add-double\\\"\\n    ng-repeat=\\\"item in $ctrl.uploadConfig.limitArray track by $index\\\"\\n    ma-click=\\\"clickInput($event)\\\"\\n    ng-if=\\\"$index < ($ctrl.uploadConfig.limit - ngModel.length) && $index !== 0\\\">\\n    <div class=\\\"upload-img-item-add-box\\\">\\n        <div class=\\\"upload-img-item-add-box-container\\\">\\n          <ma-icon ma-type=\\\"plus\\\"></ma-icon>\\n          <div ng-bind-html=\\\"$ctrl.uploadConfig.uploadText || '上传照片'\\\"></div>\\n        </div>\\n    </div>\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/upload/src/maUploadImageTpl.html\n// module id = 8o0r\n// module chunks = 5","module.exports = \"<div class=\\\"weak-tip\\\" ng-show=\\\"$root.weakTipList.length\\\">\\n  <div ng-repeat=\\\"tip in $root.weakTipList\\\" ng-style=\\\"{top: $index * 45 + 'px'}\\\" ng-if=\\\"tip.remove !== true\\\">\\n    <div\\n    ng-click=\\\"$root.$hideMessage($index)\\\"\\n    ng-class=\\\"{'show-in': tip.hide === false, 'weak-tip-success': tip.type == 'success', 'weak-tip-danger': tip.type == 'danger', 'weak-tip-warning': tip.type == 'warning'}\\\" ng-bind=\\\"tip.text\\\"\\n    ng-cloak></div>\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/message/src/maMessageTpl.html\n// module id = F7JF\n// module chunks = 5 20","export default 'meetyou.angular.ui.message';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/src/name.js","export default 'meetyou.angular.ui.upload';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/upload/src/name.js","module.exports = \"<div\\n  class=\\\"ma-progress {{type}}\\\"\\n  ng-class=\\\"{\\n    success: status === 'success',\\n    warning: status === 'warning',\\n    danger: status === 'danger',\\n  }\\\"\\n  ng-style=\\\"{\\n    width: size + 'px',\\n    height: type !== 'line' ? (size + 'px') : '',\\n  }\\\"\\n>\\n  <svg\\n    ng-show=\\\"type === 'circle'\\\"\\n    width=\\\"120px\\\"\\n    height=\\\"120px\\\"\\n    class=\\\"ma-progress-circle\\\"\\n    viewBox=\\\"0 0 100 100\\\">\\n    <path\\n      class=\\\"ma-progress-circle-trail\\\" d=\\\"M 50,50 m 0,-47\\n      a 47,47 0 1 1 0,94\\n      a 47,47 0 1 1 0,-94\\\"\\n      stroke-width=\\\"{{strokeWidth}}\\\"\\n      fill-opacity=\\\"0\\\"\\n      ng-style=\\\"{\\n        strokeDasharray: '295.31px, 295.31px'\\n      }\\\"\\n    >\\n    </path>\\n    <path\\n      class=\\\"ma-progress-circle-path\\\"\\n      d=\\\"M 50,50 m 0,-47\\n      a 47,47 0 1 1 0,94\\n      a 47,47 0 1 1 0,-94\\\"\\n      stroke-linecap=\\\"round\\\"\\n      stroke-width=\\\"{{strokeWidth}}\\\"\\n      fill-opacity=\\\"0\\\"\\n      ng-style=\\\"{\\n        strokeDasharray: (295.31 * (percent / 100)) + 'px, 295.31px'\\n      }\\\"\\n      style=\\\"\\\"\\n    >\\n    </path>\\n  </svg>\\n  <div\\n    class=\\\"ma-progress-line\\\"\\n    ng-show=\\\"type === 'line'\\\"\\n  >\\n    <div\\n      class=\\\"ma-progress-line-trail\\\"\\n      ng-style=\\\"{\\n        height: strokeWidth + 'px',\\n        width: size + 'px',\\n      }\\\"\\n    >\\n      <div\\n        class=\\\"ma-progress-line-path\\\"\\n        ng-style=\\\"{\\n          width: percent + '%'\\n        }\\\"\\n      ></div>\\n    </div>\\n  </div>\\n  <div class=\\\"ma-progress-content\\\" ng-transclude></div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/progress/src/maProgressTpl.html\n// module id = PHaT\n// module chunks = 5 22","import $ from 'jquery';\nimport moduleName from './name.js';\n\nangular.module(moduleName)\n  .directive('maClick', maClick)\n  .directive('maButton', maButton);\n\nmaClick.$inject = ['$parse', '$timeout'];\n\nfunction maClick($parse, $timeout) {\n  return {\n    restrict: 'A',\n    link: function(scope, element, attrs, ctrl) {\n      $(element).bind('click', function(e) {\n        if (element.hasClass('ma-click-disabled') || element.hasClass(\n            'disabled')) {\n          return;\n        }\n        element.addClass('ma-click-disabled');\n\n        if (attrs.maClick) {\n          scope.$event = e;\n          scope.$args = arguments;\n          $parse(attrs.maClick)(scope);\n        }\n\n        $timeout();\n\n        $timeout(function() {\n          element.removeClass('ma-click-disabled');\n        }, parseInt(attrs.delay, 10) || 50);\n      });\n    }\n  };\n}\n\nmaButton.$inject = [];\n\nfunction maButton() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    template: `<div\n    class=\"ma-button {{size}} {{type}}\"\n    ng-class=\"{\n      disabled: disabled,\n      flat: flat === 'true',\n      active: active === 'true',\n      loading: loading === 'true',\n    }\" ng-transclude></div>`,\n    scope: {\n      size: '@maSize',\n      type: '@maType',\n      flat: '@maFlat',\n      active: '@maActive',\n      loading: '@maLoading',\n      disabled: '=ngDisabled',\n    },\n    replace: true,\n    link: function(scope, element, attrs, ctrl) {\n\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/button/src/directive.js","module.exports = \"<svg\\n  class=\\\"ma-circle\\\"\\n>\\n  <circle\\n    fill=\\\"none\\\"\\n  ></circle>\\n  <circle\\n    fill=\\\"none\\\"\\n  ></circle>\\n</svg>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/icons/src/maCircleTpl.html\n// module id = UX8a\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 25","export default 'meetyou.angular.ui.progress';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress/src/name.js","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\nrequire('./src/service.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/index.js","import moduleName from './name.js';\nimport maProgressTpl from './maProgressTpl.html';\nimport $ from 'jquery';\n\nangular.module(moduleName)\n  .directive('maProgress', maProgress);\n\nmaProgress.$inject = [];\n\nfunction maProgress() {\n  return {\n    restrict: 'E',\n    scope: {\n      size: '@maSize',\n      type: '@maType',\n      status: '@maStatus',\n      percent: '@maPercent',\n      strokeWidth: '@maStrokeWidth',\n    },\n    replace: true,\n    transclude: true,\n    template: maProgressTpl,\n    link: function (scope, element, attrs, ctrl) {\n      scope.size = 120;\n      scope.type = 'line';\n      scope.status = 'success';\n      scope.percent = 0;\n      scope.strokeWidth = 6;\n\n      updateProgress();\n\n      attrs.$observe('maPercent', d => {\n        scope.percent = d ? parseInt(d, 10) : 0;\n        updateProgress();\n      });\n      attrs.$observe('maSize', d => {\n        scope.size = d ? parseInt(d, 10) : 120;\n        updateProgress();\n      });\n\n      function updateProgress() {\n        const svg = $(element).find('.ma-progress-circle');\n\n        svg.attr('width', scope.size);\n        svg.attr('height', scope.size);\n      }\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress/src/directive.js","module.exports = \"\\n<div class=\\\"upload-file-items\\\">\\n  <div class=\\\"upload-file-item\\\" ng-class=\\\"{error: file.error}\\\" data-id=\\\"{{file.id}}\\\" ng-repeat=\\\"file in ngModel track by $index\\\">\\n    <ma-progress\\n      ma-type=\\\"circle\\\"\\n      ma-status=\\\"danger\\\"\\n      ma-size=\\\"10\\\"\\n      ma-stroke-width=\\\"10\\\"\\n      ma-percent=\\\"{{file.progress}}\\\"\\n      ng-show=\\\"file.progress !== undefined && file.progress !== 100\\\"\\n    ></ma-progress>\\n    <ma-icon\\n      ng-show=\\\"file.progress === undefined || file.progress === 100\\\"\\n      ma-type=\\\"paperclip\\\"\\n    ></ma-icon>\\n    <a href=\\\"javascript:void(0)\\\" ma-click=\\\"viewFile(ngModel, file, $index)\\\">{{file.name}}</a>\\n    <ma-icon\\n      class=\\\"close\\\"\\n      ma-type=\\\"close\\\"\\n      ma-click=\\\"delFile(file, $index)\\\"\\n      ng-show=\\\"showDelete !== 'false' && file.showDelete !== false && (file.progress === undefined || file.progress === 100)\\\"\\n    ></ma-icon>\\n    <!--div class=\\\"upload-item-progress\\\" ng-if=\\\"file.progress !== undefined && file.progress !== 100\\\">\\n      <span ng-style=\\\"{width: file.progress + '%'}\\\"></span>\\n    </div-->\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/upload/src/maUploadTpl.html\n// module id = Z/eS\n// module chunks = 5","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress/index.js","export default 'meetyou.angular.ui.icons';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/icons/src/name.js","import moduleName from './name.js';\n\nangular.module(moduleName)\n  .directive('maMessage', maMessage);\n\nmaMessage.$inject = [];\n\nfunction maMessage() {\n  return {\n    restrict: 'A',\n    link: function (scope, element, attrs, ctrl) {\n\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/src/directive.js","export default 'meetyou.angular.ui.button';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/button/src/name.js","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/button/index.js","import moduleName from './name.js';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport maUploadTpl from './maUploadTpl.html';\nimport maUploadImageTpl from './maUploadImageTpl.html';\n\nangular.module(moduleName)\n  .directive('maUpload', maUpload)\n  .directive('maUploadImage', maUploadImage)\n  .directive('maUploadOss', maUploadOss)\n  .directive('maUploadImageOss', maUploadImageOss);\n\n// config\n// {\n//  url: '/upload/index',\n//  viewUrl: '/upload/download',\n//  alias: 'file',\n//  headers: {},\n//  queue: [],\n//  progress: 0,\n//  autoUpload: true,\n//  removeAfterUpload: false,\n//  method: 'POST',\n//  filters: [],\n//  formData: [],\n//  queueLimit: Number.MAX_VALUE,\n//  withCredentials: false,\n//  disableMultipart: false\n\n//  非插件额外配置\n//  multiple: false\n//  limit: Number.MAX_VALUE,\n//  size: 10 * 1024 * 1024,\n//  size: {\n//    gif: 10 * 1024 * 1024,\n//    png: 10 * 1024 * 1024,\n//    jpg: 10 * 1024 * 1024\n//  },\n//  accept: '',\n//  convert: function(data, response){}, // 上传成功后回调\n//  uploadText: '上传照片',\n//  buttonBaseOnLimit: false,\n\n//  oss配置\n//  ossConfig: {\n//   OSSAccessKeyId: '',\n//   signature: '',\n//   policy: '',\n//   dir: '',\n//  }\n// }\n\n// ngModel data format\n// [{\n//   id: '',\n//   name: '',\n//   progress: 100,\n//   showDelete: false,\n// }, {\n//   id: '',\n//   name: '',\n//   progress: 100, //选填\n//   showDelete: false, //选填\n// }]\n\nmaUpload.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\nmaUploadImage.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\nmaUploadOss.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\nmaUploadImageOss.$inject = ['$compile', 'FileUploader', '$message', '$utils'];\n\nfunction maUpload($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, maUploadTpl, {});\n}\n\nfunction maUploadImage($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, maUploadImageTpl, {\n    accept: 'image/*'\n  });\n}\n\nfunction maUploadOss($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, maUploadTpl, {});\n}\n\nfunction maUploadImageOss($compile, FileUploader, $message, $utils) {\n  return _maUpload($compile, FileUploader, $message, $utils, maUploadImageTpl, {\n    accept: 'image/*'\n  });\n}\n\nfunction _maUpload($compile, FileUploader, $message, $utils, template, defaultConfig) {\n  return {\n    restrict: 'EA',\n    require: 'ngModel',\n    scope: {\n      ngModel: '=',\n      uploadConfig: '=maUploadConfig',\n      showDelete: '@maShowDelete',\n      extra: '<maExtra',\n      onDelete: '&maOnDelete',\n    },\n    controllerAs: '$ctrl',\n    controller: maUploadController,\n    link: maUploadLink,\n  };\n\n  function maUploadLink(scope, element, attrs, ctrl) {\n    if (!scope.ngModel) {\n      scope.ngModel = [];\n    }\n\n    let multiple = '';\n    let accept = '';\n    let uploader = 'uploader';\n    let config = getConfig();\n\n    const allImageAccept =\n      'image/gif,image/jpeg,image/bmp,image/jpg,image/png,image/svg';\n\n    // 初始化元素\n    if (config.multiple) {\n      multiple = 'multiple';\n    }\n\n    if (config.accept === 'image/*') {\n      config.accept = allImageAccept;\n    }\n\n    if (config.accept) {\n      accept = 'accept=' + config.accept;\n    }\n\n    const fileInput = $(\n      `<input\n    type=\"file\"\n    nv-file-select=\"\"\n    ${multiple}\n    ${accept}\n    uploader='${uploader}'/>`\n    );\n\n    config.target = angular.element(fileInput);\n\n    scope.$ctrl.uploadConfig = config;\n\n    const newUploader = new FileUploader(config);\n    const id = scope.uploadConfig.id;\n\n    scope[uploader] = newUploader;\n    newUploader.onBeforeUploadItem = onBeforeUploadItem;\n    newUploader.onProgressItem = onProgressItem;\n    newUploader.onSuccessItem = onSuccessItem;\n    newUploader.onErrorItem = onErrorItem;\n    newUploader.onCompleteItem = onCompleteItem;\n    newUploader.onCancelItem = onCompleteItem;\n    newUploader.onWhenAddingFileFailed = onCompleteItem;\n\n    // 赋值到root\n    if (id) {\n      if (!scope.$root.maUploadConfigs) {\n        scope.$root.maUploadConfigs = {};\n      }\n      scope.$root.maUploadConfigs[id] = newUploader;\n    }\n\n    if ($(element).parents('.ma-button').length) {\n      element = $(element).parents('.ma-button');\n      element.css({\n        position: 'relative',\n      });\n      appendElement();\n    } else if (element.attr('ma-upload-image') !== undefined) {\n      element.append(template);\n      $(element).find('.upload-image-item.add').eq(0).append(fileInput);\n    } else {\n      appendElement();\n    }\n\n    function appendElement() {\n      element.append(fileInput);\n      $(template).insertAfter(element);\n    }\n\n    angular.each(Array.prototype.slice.call(element.contents(), 0, element.contents()\n      .length), (el) => {\n      if ($(el).attr('ma-upload') === undefined) {\n        $compile(el)(scope);\n      }\n    });\n\n    $compile(element.next().contents())(scope);\n\n    function getConfig() {\n      let config = $.extend(true, {\n        url: '/upload/index',\n        viewUrl: '/upload/download',\n        autoUpload: true,\n        multiple: false,\n        filters: [],\n        size: 10 * 1024 * 1024,\n        accept: '',\n        formData: [],\n        convertData(data) {\n\n        },\n      }, $.extend(true, $.extend(true, {}, defaultConfig), scope.uploadConfig || {}));\n\n      // 如果有oss配置\n      if (config.ossConfig) {\n        const ossConfig = config.ossConfig;\n        // eslint-disable-next-line\n        let key = '${filename}';\n\n        if (ossConfig.dir) {\n          key = `${ossConfig.dir}/${key}`;\n        }\n\n        config.formData.push({\n          key,\n          policy: ossConfig.policy,\n          success_action_status: 200,\n          OSSAccessKeyId: ossConfig.OSSAccessKeyId,\n          signature: ossConfig.signature,\n        });\n      }\n\n      if (config.limit !== Number.MAX_VALUE && config.buttonBaseOnLimit) {\n        config.limitArray = new Array(config.limit);\n      } else {\n        config.limitArray = new Array(1);\n      }\n\n      // 初始化 uploader 实例\n      if (!config.filters) {\n        config.filters = [];\n      }\n\n      config.filters.push({\n        name: 'limitFilter',\n        fn(item, options) {\n          if (scope.ngModel.length >= config.limit) {\n            $message.danger('最多只能上传' + config.limit + '个文件');\n            return false;\n          }\n          return true;\n        }\n      });\n\n      config.filters.push({\n        name: 'sizeFilter',\n        fn(item, options) {\n          const itemName = item.name.toUpperCase();\n\n          if (typeof config.size === 'number' && item.size > config.size) {\n            showSizeTip(config.size);\n            return false;\n          }\n          if (typeof config.size === 'object') {\n            let hasOver = false;\n            angular.each(config.size, (size, type) => {\n              type = type.toUpperCase();\n              if (type === '*' || itemName.includes(`.${type}`)) {\n                if (item.size > size && !hasOver) {\n                  showSizeTip(size, type);\n                  hasOver = true;\n                }\n              }\n            });\n            if (hasOver) {\n              return false;\n            }\n          }\n          return true;\n        }\n      });\n\n      config.filters.push({\n        name: 'imageFilter',\n        fn: function(item, options) {\n          if (!config.accept) {\n            return true;\n          }\n\n          let types = '|jpg|png|jpeg|bmp|gif|svg|';\n          const type = ('|' + item.type.slice(item.type.lastIndexOf('/') + 1) + '|').toLowerCase();\n\n          if (config.accept !== 'image/*' && config.accept !==\n            allImageAccept) {\n            types = config.accept.toLowerCase();\n            types = types.replace(/image\\//g, '');\n            types = types.split(',');\n            types = `|${types.join('|')}|`;\n\n            // 如果有其他格式就不判断了\n            if (/application/g.test(config.accept)) {\n              return true;\n            }\n            if (/video/g.test(config.accept)) {\n              types = config.accept.toLowerCase();\n              types = types.replace(/video\\//g, '');\n              types = types.split(',');\n              types = `|${types.join('|')}|`;\n            }\n          }\n          if (types.indexOf(type) === -1) {\n            $message.danger(/video/g.test(config.accept) ? '请选择视频' : '请选择图片');\n          }\n\n          return types.indexOf(type) !== -1;\n        }\n      });\n\n      scope.uploaderConfig = config;\n\n      return config;\n    }\n\n    function onBeforeUploadItem(fileItem) {\n      // console.log('onBeforeUploadItem---', '[', fileItem._file.name, ']');\n      // 中文编码\n      let name = fileItem.file.name || '';\n      name = name.split('.');\n\n      fileItem.file.name = `${$utils.uuid()}.${name[name.length - 1]}`;\n\n      scope.ngModel.push({\n        file: fileItem._file,\n        name: fileItem._file.name,\n        progress: fileItem.progress,\n      });\n      // eslint-disable-next-line\n      scope.uploadConfig.onBeforeUploadItem && scope.uploadConfig.onBeforeUploadItem(...arguments);\n    }\n\n    function onProgressItem(fileItem, progress) {\n      // console.log('onProgressItem---', '[', fileItem._file.name, ']');\n\n      angular.forEach(scope.ngModel, d => {\n        if (d.file === fileItem._file) {\n          d.progress = fileItem.progress;\n          if (d.progress >= 100) {\n            d.progress = 99;\n          }\n        }\n      });\n      // eslint-disable-next-line\n      scope.uploadConfig.onProgressItem && scope.uploadConfig.onProgressItem(...arguments);\n    }\n\n    function onSuccessItem(fileItem, response, status, headers) {\n      // console.log('onSuccessItem---', '[', fileItem._file.name, ']');\n\n      angular.forEach(scope.ngModel, d => {\n        if (d.file === fileItem._file) {\n          d.progress = 100;\n          if (response.data) {\n            d.id = response.data.file_id;\n          } else {\n            d.id = $utils.uuid();\n          }\n          // 如果是oss\n          if (config.ossConfig) {\n            const formData = fileItem.formData || [];\n            const fileConfig = formData.filter(item => item.OSSAccessKeyId)[0];\n\n            d.url =\n              `${config.url}/${fileConfig.key.replace(/\\${filename}/g, fileItem.file.name)}`;\n          }\n\n          if (config.convert) {\n            config.convert(d, response, scope.ngModel);\n          }\n        }\n      });\n      // eslint-disable-next-line\n      scope.uploadConfig.onSuccessItem && scope.uploadConfig.onSuccessItem(...arguments);\n    }\n\n    function onErrorItem(fileItem, response, status, headers) {\n      // console.log('onErrorItem---', '[', fileItem._file.name, ']');\n\n      if (response.message) {\n        $message.danger(response.message);\n      }\n\n      if (typeof response === 'string') {\n        $message.danger($(response).text());\n      }\n\n      let newFiles = [];\n      angular.forEach(scope.ngModel, d => {\n        if (d.file !== fileItem._file) {\n          newFiles.push(d);\n        }\n      });\n      scope.ngModel = newFiles;\n      // eslint-disable-next-line\n      scope.uploadConfig.onErrorItem && scope.uploadConfig.onErrorItem(...arguments);\n    }\n\n    function onCompleteItem(fileItem, response, status, headers) {\n      $(element).find('input[type=\"file\"]').val('');\n      // eslint-disable-next-line\n      scope.uploadConfig.onCompleteItem && scope.uploadConfig.onCompleteItem(...arguments);\n    }\n\n    function showSizeTip(size, type) {\n      const m = size / 1024 / 1024;\n      const mText = (m + '').indexOf('.') !== -1 ? parseFloat(m).toFixed(2) : parseFloat(m);\n      const k = size / 1024;\n\n      if (m < 1) {\n        $message.danger(`最大只能上传${parseInt(k, 10)}K的${type || ''}文件`);\n      } else {\n        $message.danger(`最大只能上传${mText}M的${type || ''}文件`);\n      }\n    }\n  }\n}\n\nmaUploadController.$inject = ['$scope', '$lightGallery', '$element'];\n\nfunction maUploadController($scope, $lightGallery, $element) {\n  $scope.viewFile = viewFile;\n  $scope.delFile = delFile;\n  $scope.isImg = isImg;\n  $scope.isSnapshot = isSnapshot;\n  $scope.isVideo = isVideo;\n  $scope.getFileIcon = getFileIcon;\n  $scope.clickInput = clickInput;\n  $scope.getSnapshot = getSnapshot;\n\n  function isSnapshot(file) {\n    if (file && file.url) {\n      return /x-oss-process=video\\/snapshot/g.test(file.url);\n    }\n    return false;\n  }\n\n  function getSnapshot(file) {\n    let snapshotUrl = '';\n\n    // 转换视频封面图\n    if (isVideo(file) && file.url) {\n      snapshotUrl = `${file.url}?x-oss-process=video/snapshot,t_0,f_jpg,w_0,h_0,m_fast`;\n    }\n    return snapshotUrl;\n  }\n\n  function clickInput($event) {\n    $($element).find('input').trigger('click', {\n      e: $event,\n    });\n  }\n\n  function viewFile(files, file, $index) {\n    const urls = [];\n    let index = false;\n\n    if (!files.length) {\n      files = [files];\n    }\n\n    angular.each(files, (d, i) => {\n      if (d === file) {\n        index = urls.length;\n      }\n      if (isImg(d) || isSnapshot(d)) {\n        urls.push(d.url || ($scope.uploaderConfig.viewUrl + '?file_id=' +\n          d.id));\n      }\n    });\n\n    if (isImg(file) || isSnapshot(file)) {\n      $lightGallery.preview(urls, {\n        index,\n      });\n      return;\n    }\n    if (file.url) {\n      window.open(file.url);\n    } else {\n      console.error('file.url is empty');\n    }\n  }\n\n  function isVideo(file) {\n    file = $.extend(true, {}, file);\n\n    const reg = /\\.(mp4)$/g;\n    file.name += '';\n    file.url += '';\n\n    file.name = file.name.toLowerCase();\n    file.url = file.url.toLowerCase();\n\n    if (reg.test(file.name) || reg.test(file.url)) {\n      return true;\n    }\n    return false;\n  }\n\n  function isImg(file) {\n    file = $.extend(true, {}, file);\n\n    const reg = /\\.(gif|png|jpg|jpeg|bmp|svg)$/g;\n    file.name += '';\n    file.url += '';\n\n    file.name = file.name.toLowerCase();\n    file.url = file.url.toLowerCase();\n\n    if (reg.test(`${file.name}`.split('?')[0].toLowerCase()) || reg.test(`${file.url}`.split('?')[0].toLowerCase())) {\n      return true;\n    }\n    return false;\n  }\n\n  function getFileIcon(file) {\n    file = $.extend(true, {}, file);\n\n    const isExcle = /\\.(xls|xlsx)$/g;\n    const isTxt = /\\.(txt)$/g;\n    const isPdf = /\\.(pdf)$/g;\n    const isWord = /\\.(doc|docx)$/g;\n    const isPpt = /\\.(ppt|pptx)$/g;\n\n    file.name += '';\n    file.url += '';\n\n    file.name = file.name.toLowerCase();\n    file.url = file.url.toLowerCase();\n\n    if (isTxt.test(file.name) || isTxt.test(file.url)) {\n      return 'filetext';\n    }\n    if (isExcle.test(file.name) || isExcle.test(file.url)) {\n      return 'exclefile';\n    }\n    if (isPpt.test(file.name) || isPpt.test(file.url)) {\n      return 'pptfile';\n    }\n    if (isWord.test(file.name) || isWord.test(file.url)) {\n      return 'wordfile';\n    }\n    if (isPdf.test(file.name) || isPdf.test(file.url)) {\n      return 'pdffile';\n    }\n    return 'file';\n  }\n\n  function delFile(file, index) {\n    let newFiles = [];\n    angular.forEach($scope.ngModel, (d, k) => {\n      if (k !== index) {\n        newFiles.push(d);\n      }\n    });\n    $scope.ngModel = newFiles;\n\n    $scope.onDelete({\n      file,\n      index,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/upload/src/directive.js","import moduleName from './name.js';\nimport maCircleTpl from './maCircleTpl.html';\n\nimport $ from 'jquery';\n\nangular.module(moduleName)\n  .directive('maIcon', maIcon);\n// .directive('maCircle', maCircle);\n\nmaIcon.$inject = [];\n\nfunction maIcon() {\n  return {\n    restrict: 'E',\n    replace: true,\n    transclude: true,\n    scope: {\n      type: '@maType',\n      size: '@maSize',\n    },\n    template: `\n    <i\n      class=\"iconfont icon-{{type}}\"\n      ng-style=\"{fontSize: size + 'px'}\"\n      ng-transclude\n    ></i>`,\n    link: function (scope, element, attrs, controllers) {\n\n    }\n  };\n}\n\n\n// maCircle.$inject = [];\n\n// function maCircle() {\n//   return {\n//     restrict: 'E',\n//     replace: true,\n//     scope: {\n//       size: '@maSize',\n//       strokeWidth: '@maStrokeWidth',\n//       percent: '@maPercent',\n//       backStroke: '@maBackStroke',\n//       frontStroke: '@maFrontStoke',\n//     },\n//     template: maCircleTpl,\n//     link: function (scope, element, attrs, controllers) {\n//       scope.pi = Math.PI;\n//       scope.size = 12;\n//       scope.strokeWidth = 1;\n//       scope.percent = 0;\n//       scope.backStroke = '#FFFFFF';\n//       scope.frontStroke = '#FF74B9';\n//       updateCircle();\n\n//       attrs.$observe('maSize', d => {\n//         scope.size = d ? parseInt(d, 10) : 12;\n//         updateCircle();\n//       });\n//       attrs.$observe('maStrokeWidth', d => {\n//         scope.strokeWidth = d ? parseInt(d, 10) : 1;\n//         updateCircle();\n//       });\n//       attrs.$observe('maPercent', d => {\n//         scope.percent = d ? parseInt(d, 10) / 100 : 0;\n//         updateCircle();\n//       });\n//       attrs.$observe('maBackStroke', d => {\n//         scope.backStroke = d || '#FFFFFF';\n//         updateCircle();\n//       });\n//       attrs.$observe('maFrontStoke', d => {\n//         scope.frontStroke = d || '#FF74B9';\n//         updateCircle();\n//       });\n\n//       function updateCircle() {\n//         const circles = $(element).find('circle');\n//         const back = circles.eq(0);\n//         const front = circles.eq(1);\n\n//         element.attr('width', scope.size);\n//         element.attr('height', scope.size);\n\n//         back.attr('cx', scope.size / 2);\n//         back.attr('cy', scope.size / 2);\n//         back.attr('r', (scope.size / 2) - scope.strokeWidth);\n//         back.attr('stroke-width', (scope.size / 2) - scope.strokeWidth);\n//         back.attr('stroke', scope.backStroke);\n\n//         front.attr('cx', scope.size / 2);\n//         front.attr('cy', scope.size / 2);\n//         front.attr('r', (scope.size / 2) - scope.strokeWidth);\n//         front.attr('stroke-width', scope.strokeWidth);\n//         front.attr('stroke', scope.frontStroke);\n//         front.attr('transform', `matrix(0,-1,1,0,0,${scope.size})`);\n//         front.attr('stroke-dasharray',\n//           `${2 * Math.PI * ((scope.size / 2) - scope.strokeWidth) * scope.percent} ${2 * Math.PI * ((scope.size / 2) - scope.strokeWidth)}`\n//         );\n//       }\n//     }\n//   };\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/icons/src/directive.js"],"sourceRoot":""}