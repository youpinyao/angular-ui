{"version":3,"sources":["webpack:///./src/components/tooltip/index.js","webpack:///./src/components/tooltip/src/maTooltipTpl.html","webpack:///./src/components/tooltip/src/directive.js","webpack:///./src/components/tooltip/src/name.js"],"names":["angular","module","config","run","require"],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAEAA,QAAQC,MAAR,oBAA2B,EAA3B,EAA+BC,MAA/B,CAAsC,YAAY,CAAE,CAApD,EAAsDC,GAAtD,CAA0D,YAAY,CAAE,CAAxE;;AAEA,mBAAAC,CAAQ,MAAR;;;;;;;;;ACJA,kH;;;;;;;;ACAA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;qBCzRe,4B","file":"tooltip.js","sourcesContent":["import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tooltip/index.js","module.exports = \"<div\\n  class=\\\"ma-tooltip\\\"\\n>\\n  <div\\n    class=\\\"ma-tooltip-content\\\"\\n  ></div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tooltip/src/maTooltipTpl.html\n// module id = pSmv\n// module chunks = 20","'use strict';\n\nvar _name = require('./name.js');\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _maTooltipTpl = require('./maTooltipTpl.html');\n\nvar _maTooltipTpl2 = _interopRequireDefault(_maTooltipTpl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maTooltip', maTooltip);\n\nmaTooltip.$inject = ['$timeout', '$compile'];\n\nfunction maTooltip($timeout, $compile) {\n  return {\n    restrict: 'A',\n    scope: {\n      contentScope: '=maScope'\n    },\n    link: function link(scope, element, attrs, ctrl) {\n      var el = (0, _jquery2['default'])(_maTooltipTpl2['default']);\n      var content = el.find('.ma-tooltip-content');\n      var defaultDirection = 'tc';\n\n      var isPopconfirm = false;\n      var direction = defaultDirection;\n      var prevDirection = '';\n      var isClickHide = false;\n\n      (0, _jquery2['default'])('body').append(el);\n\n      (0, _jquery2['default'])(element).hover(function (d) {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        showTip();\n      }, function () {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        hideTip();\n      }).on('mousemove', stopp);\n\n      el.hover(function (d) {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        showTip();\n      }, function () {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        hideTip();\n      }).on('mousemove', stopp);\n\n      (0, _jquery2['default'])('body').on('mousemove', hideTip);\n\n      attrs.$observe('maTooltip', function (d) {\n        content.html(d);\n        el.css({\n          width: '',\n          height: ''\n        });\n        $timeout(function () {\n          el.width(el.width() + 1);\n          el.height(el.height() + 1);\n        }, 50);\n        $compile(content.contents())(scope.contentScope || scope);\n      });\n      attrs.$observe('maClickHide', function (d) {\n        if (d == 'true') {\n          isClickHide = true;\n          (0, _jquery2['default'])(element).on('click', stopp);\n          el.on('click', stopp);\n          (0, _jquery2['default'])('body').off('mousemove', hideTip);\n          (0, _jquery2['default'])('body').on('click', hideTip);\n          console.log(666);\n        }\n      });\n      attrs.$observe('maPopconfirm', function (d) {\n        if (d == 'true') {\n          isPopconfirm = true;\n          el.addClass('ma-popconfirm-tooltip');\n          element.on('click', function () {\n            showTip();\n          });\n        }\n      });\n      scope.$on('$destroy', function (d) {\n        el.remove();\n        (0, _jquery2['default'])('body').off('mousemove', hideTip);\n      });\n      attrs.$observe('maDirection', setDirection);\n\n      setDirection(defaultDirection);\n\n      function setDirection(d) {\n        direction = d || defaultDirection;\n        el.attr('data-direction', d || defaultDirection);\n        content.attr('data-direction', d || defaultDirection);\n        $timeout(function () {\n          el.width(el.width() + 1);\n          el.height(el.height() + 1);\n        });\n      }\n\n      function showTip(newDirection) {\n        var offsetTop = (0, _jquery2['default'])(element).offset().top;\n        var offsetLeft = (0, _jquery2['default'])(element).offset().left;\n        var elHeight = el.outerHeight();\n        var elWidth = el.outerWidth();\n        var elementHeight = (0, _jquery2['default'])(element).outerHeight();\n        var elementWidth = (0, _jquery2['default'])(element).outerWidth();\n\n        var boxPadding = 10;\n\n        var top = 0;\n        var left = 0;\n        var hasNew = false;\n\n        if (prevDirection) {\n          direction = prevDirection;\n          el.attr('data-direction', direction);\n          content.attr('data-direction', direction);\n        }\n\n        if (newDirection && typeof newDirection === 'string') {\n          prevDirection = direction;\n          direction = newDirection;\n          hasNew = true;\n          el.attr('data-direction', direction);\n          content.attr('data-direction', direction);\n        }\n\n        switch (direction) {\n          case 'tc':\n            top = offsetTop - elHeight;\n            left = offsetLeft + (elementWidth - elWidth) / 2;\n            break;\n          case 'tl':\n            top = offsetTop - elHeight;\n            left = offsetLeft - boxPadding;\n            break;\n          case 'tr':\n            top = offsetTop - elHeight;\n            left = offsetLeft + boxPadding - (elWidth - elementWidth);\n            break;\n          case 'lc':\n            top = offsetTop - (elHeight - elementHeight) / 2;\n            left = offsetLeft - elWidth;\n            break;\n          case 'lt':\n            top = offsetTop - boxPadding;\n            left = offsetLeft - elWidth;\n            break;\n          case 'lb':\n            top = offsetTop + boxPadding - (elHeight - elementHeight);\n            left = offsetLeft - elWidth;\n            break;\n          case 'rc':\n            top = offsetTop - (elHeight - elementHeight) / 2;\n            left = offsetLeft + elementWidth;\n            break;\n          case 'rt':\n            top = offsetTop - boxPadding;\n            left = offsetLeft + elementWidth;\n            break;\n          case 'rb':\n            top = offsetTop + boxPadding - (elHeight - elementHeight);\n            left = offsetLeft + elementWidth;\n            break;\n          case 'bc':\n            top = offsetTop + elementHeight;\n            left = offsetLeft + (elementWidth - elWidth) / 2;\n            break;\n          case 'bl':\n            top = offsetTop + elementHeight;\n            left = offsetLeft - boxPadding;\n            break;\n          case 'br':\n            top = offsetTop + elementHeight;\n            left = offsetLeft + boxPadding - (elWidth - elementWidth);\n            break;\n        }\n\n        el.css({\n          top: top,\n          left: left\n        });\n\n        $timeout(function () {\n          if (!hasNew) {\n            checkPositon();\n          }\n          el.addClass('show');\n        }, 10);\n      }\n\n      function checkPositon() {\n        var offsetTop = el.offset().top - (0, _jquery2['default'])(window).scrollTop();\n        var offsetLeft = el.offset().left - (0, _jquery2['default'])(window).scrollLeft();\n        var wh = (0, _jquery2['default'])(window).height();\n        var ww = (0, _jquery2['default'])(window).width();\n        var elHeight = el.outerHeight();\n        var elWidth = el.outerWidth();\n        var elementHeight = (0, _jquery2['default'])(element).outerHeight();\n        var elementWidth = (0, _jquery2['default'])(element).outerWidth();\n\n        // console.log(offsetTop, offsetLeft);\n\n        var newDirectionFirst = direction.split('')[0];\n        var newDirectionSecond = direction.split('')[1];\n        var newDirectionFirstReseted = false;\n        var newDirection = '';\n\n        if (offsetTop < 0) {\n          newDirectionFirst = 'b';\n        } else if (offsetTop + elHeight > wh) {\n          newDirectionFirst = 't';\n        } else if (offsetLeft < 0) {\n          newDirectionFirst = 'r';\n        } else if (offsetLeft + elWidth > ww) {\n          newDirectionFirst = 'l';\n        }\n\n        if (newDirectionFirst == 't' || newDirectionFirst == 'b') {\n          if (offsetLeft < 0) {\n            newDirectionSecond = 'l';\n          } else if (offsetLeft + elWidth > ww) {\n            newDirectionSecond = 'r';\n          } else if (newDirectionSecond === 't' || newDirectionSecond === 'b') {\n            newDirectionSecond = 'c';\n          }\n        }\n\n        if (newDirectionFirst == 'l' || newDirectionFirst == 'r') {\n          if (offsetTop < 0) {\n            newDirectionSecond = 't';\n          } else if (offsetTop + elHeight > wh) {\n            newDirectionSecond = 'b';\n          } else if (newDirectionSecond === 'l' || newDirectionSecond === 'r') {\n            newDirectionSecond = 'c';\n          }\n        }\n\n        newDirection = newDirectionFirst + newDirectionSecond;\n\n        if (newDirection !== direction) {\n          prevDirection = '';\n          showTip(newDirection);\n        }\n      }\n\n      function hideTip() {\n        el.removeClass('show');\n      }\n\n      function stopp(e) {\n        e.stopPropagation();\n      }\n    }\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tooltip/src/directive.js\n// module id = wULG\n// module chunks = 20","export default 'meetyou.angular.ui.tooltip';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tooltip/src/name.js"],"sourceRoot":""}