{"version":3,"sources":["webpack:///tooltip.min.js","webpack:///./src/components/tooltip/index.js","webpack:///./src/components/tooltip/src/maTooltipTpl.html","webpack:///./src/components/tooltip/src/directive.js","webpack:///./src/components/tooltip/src/name.js"],"names":["webpackJsonp","VSd5","module","exports","__webpack_require__","Object","defineProperty","value","_name","_name2","obj","__esModule","default","angular","config","run","pSmv","wULG","_interopRequireDefault","maTooltip","$timeout","$compile","restrict","scope","contentScope","contentWidth","changeCallback","showMask","link","element","attrs","ctrl","updateSize","customWidth","parseInt","el","css","width","height","maxWidth","setDirection","d","direction","defaultDirection","attr","content","showTip","newDirection","e","cancel","hideTimer","hidePosTimer","targetElement","offsetTop","_jquery2","offset","top","offsetLeft","left","elHeight","outerHeight","elWidth","outerWidth","elementHeight","elementWidth","ltrt","boxPadding","lbrb","tlbl","trbr","hasNew","prevDirection","checkPositon","hasClass","show","addClass","window","scrollTop","scrollLeft","wh","ww","newDirectionFirst","split","newDirectionSecond","hideTip","removeClass","hideMask","stopp","stopPropagation","append","uid","remove","_v2","_maTooltipTpl2","find","isPopconfirm","isClickHide","triggerElement","hover","undefined","on","$observe","html","contents","off","a","target","parents","length","get","$on","_jquery","_debounce","_v","_maTooltipTpl","directive","$inject","wV6C"],"mappings":"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","file":"tooltip.min.js","sourcesContent":["webpackJsonp([21],{\n\n/***/ \"VSd5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name = __webpack_require__(\"wV6C\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default'], []).config(function () {}).run(function () {});\n\n__webpack_require__(\"wULG\");\n\nexports['default'] = _name2['default'];\n\n/***/ }),\n\n/***/ \"pSmv\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div\\n  class=\\\"ma-tooltip\\\"\\n>\\n  <div\\n    class=\\\"ma-tooltip-content\\\"\\n  ></div>\\n</div>\\n\";\n\n/***/ }),\n\n/***/ \"wULG\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _name = __webpack_require__(\"wV6C\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _jquery = __webpack_require__(\"7t+N\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _debounce = __webpack_require__(\"HhAh\");\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _v = __webpack_require__(\"DtRx\");\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _maTooltipTpl = __webpack_require__(\"pSmv\");\n\nvar _maTooltipTpl2 = _interopRequireDefault(_maTooltipTpl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maTooltip', maTooltip);\n\nmaTooltip.$inject = ['$timeout', '$compile'];\n\nfunction maTooltip($timeout, $compile) {\n  return {\n    restrict: 'A',\n    scope: {\n      contentScope: '=maScope',\n      contentWidth: '@maWidth',\n      changeCallback: '&maChangeCallback',\n      showMask: '@maShowMask'\n    },\n    link: function link(scope, element, attrs, ctrl) {\n      var uid = (0, _v2['default'])();\n      var el = (0, _jquery2['default'])(_maTooltipTpl2['default']);\n      var content = el.find('.ma-tooltip-content');\n      var defaultDirection = 'tc';\n\n      var isPopconfirm = false;\n      var direction = defaultDirection;\n      var prevDirection = '';\n      var isClickHide = false;\n\n      // 模拟trigger 触发元素\n      var triggerElement = void 0;\n\n      (0, _jquery2['default'])('body').append(el);\n\n      (0, _jquery2['default'])(element).hover(function (d) {\n        updateSize();\n        triggerElement = undefined;\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        showTip();\n      }, function () {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        hideTip();\n      }).on('mousemove', stopp);\n\n      el.hover(function (d) {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        showTip();\n      }, function () {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        hideTip();\n      }).on('mousemove', stopp);\n\n      (0, _jquery2['default'])('body').on('mousemove', hideTip);\n\n      attrs.$observe('maTooltip', function (d) {\n        content.html(d);\n        updateSize();\n        $compile(content.contents())(scope.contentScope || scope);\n      });\n      attrs.$observe('maClickHide', function (d) {\n        if (d == 'true') {\n          isClickHide = true;\n          // $(element).on('click', stopp);\n          el.on('click', stopp);\n          (0, _jquery2['default'])('body').off('mousemove', hideTip);\n\n          (0, _jquery2['default'])('body').on('click', function (e, a) {\n            // a 控制主动trigger 传当前触发元素\n            if (a) {\n              triggerElement = a;\n            }\n            if (!a && !((0, _jquery2['default'])(e.target).parents('.ma-popconfirm').length && (0, _jquery2['default'])(e.target).parents('.ma-popconfirm').get(0) === element[0])) {\n              hideTip(e);\n            }\n          });\n        }\n      });\n      attrs.$observe('maPopconfirm', function (d) {\n        if (d == 'true') {\n          isPopconfirm = true;\n          el.addClass('ma-popconfirm-tooltip');\n          element.on('click', function () {\n            showTip(undefined, triggerElement);\n\n            triggerElement = undefined;\n          });\n        }\n      });\n      scope.$on('$destroy', function (d) {\n        el.remove();\n        (0, _jquery2['default'])('body').off('mousemove', hideTip);\n        (0, _jquery2['default'])('body').off('click', hideTip);\n      });\n      attrs.$observe('maDirection', setDirection);\n\n      scope.$on('tooltip.hide', hideTip);\n\n      setDirection(defaultDirection);\n\n      function updateSize() {\n        var customWidth = parseInt(scope.contentWidth, 10);\n        el.css({\n          width: '',\n          height: '',\n          maxWidth: ''\n        });\n        $timeout(function () {\n          el.width((customWidth || el.width()) + 1);\n          el.height(el.height() + 1);\n          if (customWidth) {\n            el.css({\n              maxWidth: customWidth\n            });\n          }\n        }, 50);\n      }\n\n      function setDirection(d) {\n        direction = d || defaultDirection;\n        el.attr('data-direction', d || defaultDirection);\n        content.attr('data-direction', d || defaultDirection);\n        $timeout(function () {\n          el.width(el.width() + 1);\n          el.height(el.height() + 1);\n        });\n      }\n\n      function showTip(newDirection, e) {\n        $timeout.cancel(scope.hideTimer);\n        $timeout.cancel(scope.hidePosTimer);\n\n        var targetElement = e || element;\n\n        var offsetTop = (0, _jquery2['default'])(targetElement).offset().top;\n        var offsetLeft = (0, _jquery2['default'])(targetElement).offset().left;\n        var elHeight = el.outerHeight();\n        var elWidth = el.outerWidth();\n        var elementHeight = (0, _jquery2['default'])(targetElement).outerHeight();\n        var elementWidth = (0, _jquery2['default'])(targetElement).outerWidth();\n\n        var boxPadding = 10;\n\n        var ltrt = (elHeight - boxPadding * 2) * 0.15 - elementHeight / 2 + 5;\n        var lbrb = (elHeight - boxPadding * 2) * 0.85 - elementHeight / 2 - 5;\n        var tlbl = (elWidth - boxPadding * 2) * 0.15 - elementWidth / 2 + 5;\n        var trbr = (elWidth - boxPadding * 2) * 0.85 - elementWidth / 2 - 5;\n\n        var top = 0;\n        var left = 0;\n        var hasNew = false;\n\n        if (prevDirection) {\n          direction = prevDirection;\n          el.attr('data-direction', direction);\n          content.attr('data-direction', direction);\n        }\n\n        if (newDirection && typeof newDirection === 'string') {\n          prevDirection = direction;\n          direction = newDirection;\n          hasNew = true;\n          el.attr('data-direction', direction);\n          content.attr('data-direction', direction);\n        }\n\n        switch (direction) {\n          case 'tc':\n            top = offsetTop - elHeight;\n            left = offsetLeft + (elementWidth - elWidth) / 2;\n            break;\n          case 'tl':\n            top = offsetTop - elHeight;\n            left = offsetLeft - boxPadding - tlbl;\n            break;\n          case 'tr':\n            top = offsetTop - elHeight;\n            left = offsetLeft - boxPadding - trbr;\n            break;\n          case 'lc':\n            top = offsetTop - (elHeight - elementHeight) / 2;\n            left = offsetLeft - elWidth;\n            break;\n          case 'lt':\n            top = offsetTop - boxPadding - ltrt;\n            left = offsetLeft - elWidth;\n            break;\n          case 'lb':\n            top = offsetTop - boxPadding - lbrb;\n            left = offsetLeft - elWidth;\n            break;\n          case 'rc':\n            top = offsetTop - (elHeight - elementHeight) / 2;\n            left = offsetLeft + elementWidth;\n            break;\n          case 'rt':\n            top = offsetTop - boxPadding - ltrt;\n            left = offsetLeft + elementWidth;\n            break;\n          case 'rb':\n            top = offsetTop - boxPadding - lbrb;\n            left = offsetLeft + elementWidth;\n            break;\n          case 'bc':\n            top = offsetTop + elementHeight;\n            left = offsetLeft + (elementWidth - elWidth) / 2;\n            break;\n          case 'bl':\n            top = offsetTop + elementHeight;\n            left = offsetLeft - boxPadding - tlbl;\n            break;\n          case 'br':\n            top = offsetTop + elementHeight;\n            left = offsetLeft - boxPadding - trbr;\n            break;\n        }\n\n        el.css({\n          top: top,\n          left: left\n        });\n\n        // $timeout(function() {\n        if (!hasNew) {\n          checkPositon(e);\n        }\n        if (!el.hasClass('show')) {\n          scope.changeCallback({\n            show: true\n          });\n        }\n        el.addClass('show');\n        // }, 10);\n\n        showMask();\n      }\n\n      function checkPositon(e) {\n        var offsetTop = el.offset().top - (0, _jquery2['default'])(window).scrollTop();\n        var offsetLeft = el.offset().left - (0, _jquery2['default'])(window).scrollLeft();\n        var wh = (0, _jquery2['default'])(window).height();\n        var ww = (0, _jquery2['default'])(window).width();\n        var elHeight = el.outerHeight();\n        var elWidth = el.outerWidth();\n        var elementHeight = (0, _jquery2['default'])(element).outerHeight();\n        var elementWidth = (0, _jquery2['default'])(element).outerWidth();\n\n        // console.log(offsetTop, offsetLeft);\n\n        var newDirectionFirst = direction.split('')[0];\n        var newDirectionSecond = direction.split('')[1];\n        var newDirectionFirstReseted = false;\n        var newDirection = '';\n\n        if (offsetTop < 0) {\n          newDirectionFirst = 'b';\n        } else if (offsetTop + elHeight > wh) {\n          newDirectionFirst = 't';\n        } else if (offsetLeft < 0) {\n          newDirectionFirst = 'r';\n        } else if (offsetLeft + elWidth > ww) {\n          newDirectionFirst = 'l';\n        }\n\n        if (newDirectionFirst == 't' || newDirectionFirst == 'b') {\n          if (offsetLeft < 0) {\n            newDirectionSecond = 'l';\n          } else if (offsetLeft + elWidth > ww) {\n            newDirectionSecond = 'r';\n          } else if (newDirectionSecond === 't' || newDirectionSecond === 'b') {\n            newDirectionSecond = 'c';\n          }\n        }\n\n        if (newDirectionFirst == 'l' || newDirectionFirst == 'r') {\n          if (offsetTop < 0) {\n            newDirectionSecond = 't';\n          } else if (offsetTop + elHeight > wh) {\n            newDirectionSecond = 'b';\n          } else if (newDirectionSecond === 'l' || newDirectionSecond === 'r') {\n            newDirectionSecond = 'c';\n          }\n        }\n\n        newDirection = newDirectionFirst + newDirectionSecond;\n\n        if (newDirection !== direction) {\n          prevDirection = '';\n          showTip(newDirection, e);\n        }\n      }\n\n      function hideTip() {\n        $timeout.cancel(scope.hidePosTimer);\n        $timeout.cancel(scope.hideTimer);\n        if (el.hasClass('show')) {\n          scope.changeCallback({\n            show: false\n          });\n          scope.hidePosTimer = $timeout(function () {\n            el.css({\n              left: 0,\n              top: 0\n            });\n          }, 300);\n          scope.hideTimer = $timeout(function () {\n            el.removeClass('show');\n          }, 10);\n        }\n        hideMask();\n      }\n\n      function stopp(e) {\n        e.stopPropagation();\n      }\n      function showMask() {\n        var ifShowMask = scope.showMask == 'true';\n\n        if (ifShowMask) {\n          (0, _jquery2['default'])('body').append('<div class=\"ma-tooltip-mask id_' + uid + '\"></div>');\n        }\n      }\n      function hideMask() {\n        var ifShowMask = scope.showMask == 'true';\n        if (ifShowMask) {\n          (0, _jquery2['default'])('.ma-tooltip-mask.id_' + uid).remove();\n        }\n      }\n    }\n  };\n}\n\n/***/ }),\n\n/***/ \"wV6C\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = 'meetyou.angular.ui.tooltip';\n\n/***/ })\n\n},[\"VSd5\"]);\n\n\n// WEBPACK FOOTER //\n// tooltip.min.js","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tooltip/index.js","module.exports = \"<div\\n  class=\\\"ma-tooltip\\\"\\n>\\n  <div\\n    class=\\\"ma-tooltip-content\\\"\\n  ></div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tooltip/src/maTooltipTpl.html\n// module id = pSmv\n// module chunks = 21","import moduleName from './name.js';\nimport $ from 'jquery';\nimport debounce from 'debounce';\nimport uuid from 'uuid/v4';\nimport maTooltipTpl from './maTooltipTpl.html';\n\nangular.module(moduleName)\n  .directive('maTooltip', maTooltip);\n\nmaTooltip.$inject = ['$timeout', '$compile'];\n\nfunction maTooltip($timeout, $compile) {\n  return {\n    restrict: 'A',\n    scope: {\n      contentScope: '=maScope',\n      contentWidth: '@maWidth',\n      changeCallback: '&maChangeCallback',\n      showMask: '@maShowMask',\n    },\n    link: function(scope, element, attrs, ctrl) {\n      const uid = uuid();\n      const el = $(maTooltipTpl);\n      const content = el.find('.ma-tooltip-content');\n      const defaultDirection = 'tc';\n\n      let isPopconfirm = false;\n      let direction = defaultDirection;\n      let prevDirection = '';\n      let isClickHide = false;\n\n      // 模拟trigger 触发元素\n      let triggerElement;\n\n      $('body').append(el);\n\n      $(element).hover(d => {\n        updateSize();\n        triggerElement = undefined;\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        showTip();\n      }, () => {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        hideTip();\n      }).on('mousemove', stopp);\n\n      el.hover(d => {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        showTip();\n      }, () => {\n        if (isClickHide) {\n          return;\n        }\n        if (isPopconfirm) {\n          return;\n        }\n        hideTip();\n      }).on('mousemove', stopp);\n\n      $('body').on('mousemove', hideTip);\n\n      attrs.$observe('maTooltip', d => {\n        content.html(d);\n        updateSize();\n        $compile(content.contents())(scope.contentScope || scope);\n      });\n      attrs.$observe('maClickHide', d => {\n        if (d == 'true') {\n          isClickHide = true;\n          // $(element).on('click', stopp);\n          el.on('click', stopp);\n          $('body').off('mousemove', hideTip);\n\n          $('body').on('click', (e, a) => {\n            // a 控制主动trigger 传当前触发元素\n            if (a) {\n              triggerElement = a;\n            }\n            if (!a && !($(e.target).parents('.ma-popconfirm').length && $(e.target).parents(\n                '.ma-popconfirm').get(0) === element[0])) {\n              hideTip(e);\n            }\n          });\n        }\n      });\n      attrs.$observe('maPopconfirm', d => {\n        if (d == 'true') {\n          isPopconfirm = true;\n          el.addClass('ma-popconfirm-tooltip');\n          element.on('click', () => {\n            showTip(undefined, triggerElement);\n\n            triggerElement = undefined;\n          });\n        }\n      });\n      scope.$on('$destroy', d => {\n        el.remove();\n        $('body').off('mousemove', hideTip);\n        $('body').off('click', hideTip);\n      });\n      attrs.$observe('maDirection', setDirection);\n\n      scope.$on('tooltip.hide', hideTip);\n\n      setDirection(defaultDirection);\n\n      function updateSize() {\n        const customWidth = parseInt(scope.contentWidth, 10);\n        el.css({\n          width: '',\n          height: '',\n          maxWidth: '',\n        });\n        $timeout(() => {\n          el.width((customWidth || el.width()) + 1);\n          el.height(el.height() + 1);\n          if (customWidth) {\n            el.css({\n              maxWidth: customWidth,\n            });\n          }\n        }, 50);\n      }\n\n      function setDirection(d) {\n        direction = d || defaultDirection;\n        el.attr('data-direction', d || defaultDirection);\n        content.attr('data-direction', d || defaultDirection);\n        $timeout(() => {\n          el.width(el.width() + 1);\n          el.height(el.height() + 1);\n        });\n      }\n\n      function showTip(newDirection, e) {\n        $timeout.cancel(scope.hideTimer);\n        $timeout.cancel(scope.hidePosTimer);\n\n        const targetElement = e || element;\n\n        const offsetTop = $(targetElement).offset().top;\n        const offsetLeft = $(targetElement).offset().left;\n        const elHeight = el.outerHeight();\n        const elWidth = el.outerWidth();\n        const elementHeight = $(targetElement).outerHeight();\n        const elementWidth = $(targetElement).outerWidth();\n\n        const boxPadding = 10;\n\n        const ltrt = (((elHeight - (boxPadding * 2)) * 0.15) - (elementHeight / 2)) + 5;\n        const lbrb = ((elHeight - (boxPadding * 2)) * 0.85) - (elementHeight / 2) - 5;\n        const tlbl = (((elWidth - (boxPadding * 2)) * 0.15) - (elementWidth / 2)) + 5;\n        const trbr = ((elWidth - (boxPadding * 2)) * 0.85) - (elementWidth / 2) - 5;\n\n        let top = 0;\n        let left = 0;\n        let hasNew = false;\n\n        if (prevDirection) {\n          direction = prevDirection;\n          el.attr('data-direction', direction);\n          content.attr('data-direction', direction);\n        }\n\n        if (newDirection && typeof newDirection === 'string') {\n          prevDirection = direction;\n          direction = newDirection;\n          hasNew = true;\n          el.attr('data-direction', direction);\n          content.attr('data-direction', direction);\n        }\n\n        switch (direction) {\n          case 'tc':\n            top = offsetTop - elHeight;\n            left = offsetLeft + ((elementWidth - elWidth) / 2);\n            break;\n          case 'tl':\n            top = offsetTop - elHeight;\n            left = offsetLeft - boxPadding - tlbl;\n            break;\n          case 'tr':\n            top = offsetTop - elHeight;\n            left = offsetLeft - boxPadding - trbr;\n            break;\n          case 'lc':\n            top = offsetTop - ((elHeight - elementHeight) / 2);\n            left = offsetLeft - elWidth;\n            break;\n          case 'lt':\n            top = offsetTop - boxPadding - ltrt;\n            left = offsetLeft - elWidth;\n            break;\n          case 'lb':\n            top = offsetTop - boxPadding - lbrb;\n            left = offsetLeft - elWidth;\n            break;\n          case 'rc':\n            top = offsetTop - ((elHeight - elementHeight) / 2);\n            left = offsetLeft + elementWidth;\n            break;\n          case 'rt':\n            top = offsetTop - boxPadding - ltrt;\n            left = offsetLeft + elementWidth;\n            break;\n          case 'rb':\n            top = offsetTop - boxPadding - lbrb;\n            left = offsetLeft + elementWidth;\n            break;\n          case 'bc':\n            top = offsetTop + elementHeight;\n            left = offsetLeft + ((elementWidth - elWidth) / 2);\n            break;\n          case 'bl':\n            top = offsetTop + elementHeight;\n            left = offsetLeft - boxPadding - tlbl;\n            break;\n          case 'br':\n            top = offsetTop + elementHeight;\n            left = offsetLeft - boxPadding - trbr;\n            break;\n        }\n\n        el.css({\n          top,\n          left,\n        });\n\n        // $timeout(function() {\n        if (!hasNew) {\n          checkPositon(e);\n        }\n        if (!el.hasClass('show')) {\n          scope.changeCallback({\n            show: true,\n          });\n        }\n        el.addClass('show');\n        // }, 10);\n\n        showMask();\n      }\n\n      function checkPositon(e) {\n        const offsetTop = el.offset().top - $(window).scrollTop();\n        const offsetLeft = el.offset().left - $(window).scrollLeft();\n        const wh = $(window).height();\n        const ww = $(window).width();\n        const elHeight = el.outerHeight();\n        const elWidth = el.outerWidth();\n        const elementHeight = $(element).outerHeight();\n        const elementWidth = $(element).outerWidth();\n\n        // console.log(offsetTop, offsetLeft);\n\n        let newDirectionFirst = direction.split('')[0];\n        let newDirectionSecond = direction.split('')[1];\n        let newDirectionFirstReseted = false;\n        let newDirection = '';\n\n        if (offsetTop < 0) {\n          newDirectionFirst = 'b';\n        } else if (offsetTop + elHeight > wh) {\n          newDirectionFirst = 't';\n        } else if (offsetLeft < 0) {\n          newDirectionFirst = 'r';\n        } else if (offsetLeft + elWidth > ww) {\n          newDirectionFirst = 'l';\n        }\n\n        if (newDirectionFirst == 't' || newDirectionFirst == 'b') {\n          if (offsetLeft < 0) {\n            newDirectionSecond = 'l';\n          } else if (offsetLeft + elWidth > ww) {\n            newDirectionSecond = 'r';\n          } else if (newDirectionSecond === 't' || newDirectionSecond === 'b') {\n            newDirectionSecond = 'c';\n          }\n        }\n\n        if (newDirectionFirst == 'l' || newDirectionFirst == 'r') {\n          if (offsetTop < 0) {\n            newDirectionSecond = 't';\n          } else if (offsetTop + elHeight > wh) {\n            newDirectionSecond = 'b';\n          } else if (newDirectionSecond === 'l' || newDirectionSecond === 'r') {\n            newDirectionSecond = 'c';\n          }\n        }\n\n        newDirection = newDirectionFirst + newDirectionSecond;\n\n        if (newDirection !== direction) {\n          prevDirection = '';\n          showTip(newDirection, e);\n        }\n      }\n\n      function hideTip() {\n        $timeout.cancel(scope.hidePosTimer);\n        $timeout.cancel(scope.hideTimer);\n        if (el.hasClass('show')) {\n          scope.changeCallback({\n            show: false,\n          });\n          scope.hidePosTimer = $timeout(() => {\n            el.css({\n              left: 0,\n              top: 0,\n            });\n          }, 300);\n          scope.hideTimer = $timeout(() => {\n            el.removeClass('show');\n          }, 10);\n        }\n        hideMask();\n      }\n\n      function stopp(e) {\n        e.stopPropagation();\n      }\n      function showMask() {\n        const ifShowMask = scope.showMask == 'true';\n\n        if (ifShowMask) {\n          $('body').append(`<div class=\"ma-tooltip-mask id_${uid}\"></div>`);\n        }\n      }\n      function hideMask() {\n        const ifShowMask = scope.showMask == 'true';\n        if (ifShowMask) {\n          $(`.ma-tooltip-mask.id_${uid}`).remove();\n        }\n      }\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tooltip/src/directive.js","export default 'meetyou.angular.ui.tooltip';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tooltip/src/name.js"],"sourceRoot":""}