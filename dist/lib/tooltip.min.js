webpackJsonp([21],{VSd5:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__("Z3Nl");var _name=__webpack_require__("wV6C"),_name2=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(_name);angular.module(_name2["default"],[]).config(function(){}).run(function(){}),__webpack_require__("wULG"),exports["default"]=_name2["default"]},Z3Nl:function(module,exports){},pSmv:function(module,exports){module.exports='<div\n  class="ma-tooltip"\n>\n  <div\n    class="ma-tooltip-content"\n  ></div>\n</div>\n'},wULG:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function maTooltip($timeout,$compile){return{restrict:"A",scope:{contentScope:"=maScope",changeCallback:"&maChangeCallback"},link:function(scope,element,attrs,ctrl){function setDirection(d){direction=d||defaultDirection,el.attr("data-direction",d||defaultDirection),content.attr("data-direction",d||defaultDirection),$timeout(function(){el.width(el.width()+1),el.height(el.height()+1)})}function showTip(newDirection){$timeout.cancel(scope.hideTimer),$timeout.cancel(scope.hidePosTimer);var offsetTop=(0,_jquery2["default"])(element).offset().top,offsetLeft=(0,_jquery2["default"])(element).offset().left,elHeight=el.outerHeight(),elWidth=el.outerWidth(),elementHeight=(0,_jquery2["default"])(element).outerHeight(),elementWidth=(0,_jquery2["default"])(element).outerWidth(),ltrt=.15*(elHeight-20)-elementHeight/2+5,lbrb=.85*(elHeight-20)-elementHeight/2-5,tlbl=.15*(elWidth-20)-elementWidth/2+5,trbr=.85*(elWidth-20)-elementWidth/2-5,top=0,left=0,hasNew=!1;switch(prevDirection&&(direction=prevDirection,el.attr("data-direction",direction),content.attr("data-direction",direction)),newDirection&&"string"==typeof newDirection&&(prevDirection=direction,direction=newDirection,hasNew=!0,el.attr("data-direction",direction),content.attr("data-direction",direction)),direction){case"tc":top=offsetTop-elHeight,left=offsetLeft+(elementWidth-elWidth)/2;break;case"tl":top=offsetTop-elHeight,left=offsetLeft-10-tlbl;break;case"tr":top=offsetTop-elHeight,left=offsetLeft-10-trbr;break;case"lc":top=offsetTop-(elHeight-elementHeight)/2,left=offsetLeft-elWidth;break;case"lt":top=offsetTop-10-ltrt,left=offsetLeft-elWidth;break;case"lb":top=offsetTop-10-lbrb,left=offsetLeft-elWidth;break;case"rc":top=offsetTop-(elHeight-elementHeight)/2,left=offsetLeft+elementWidth;break;case"rt":top=offsetTop-10-ltrt,left=offsetLeft+elementWidth;break;case"rb":top=offsetTop-10-lbrb,left=offsetLeft+elementWidth;break;case"bc":top=offsetTop+elementHeight,left=offsetLeft+(elementWidth-elWidth)/2;break;case"bl":top=offsetTop+elementHeight,left=offsetLeft-10-tlbl;break;case"br":top=offsetTop+elementHeight,left=offsetLeft-10-trbr}el.css({top:top,left:left}),hasNew||checkPositon(),el.hasClass("show")||scope.changeCallback({show:!0}),el.addClass("show")}function checkPositon(){var offsetTop=el.offset().top-(0,_jquery2["default"])(window).scrollTop(),offsetLeft=el.offset().left-(0,_jquery2["default"])(window).scrollLeft(),wh=(0,_jquery2["default"])(window).height(),ww=(0,_jquery2["default"])(window).width(),elHeight=el.outerHeight(),elWidth=el.outerWidth(),newDirectionFirst=((0,_jquery2["default"])(element).outerHeight(),(0,_jquery2["default"])(element).outerWidth(),direction.split("")[0]),newDirectionSecond=direction.split("")[1],newDirection="";offsetTop<0?newDirectionFirst="b":offsetTop+elHeight>wh?newDirectionFirst="t":offsetLeft<0?newDirectionFirst="r":offsetLeft+elWidth>ww&&(newDirectionFirst="l"),"t"!=newDirectionFirst&&"b"!=newDirectionFirst||(offsetLeft<0?newDirectionSecond="l":offsetLeft+elWidth>ww?newDirectionSecond="r":"t"!==newDirectionSecond&&"b"!==newDirectionSecond||(newDirectionSecond="c")),"l"!=newDirectionFirst&&"r"!=newDirectionFirst||(offsetTop<0?newDirectionSecond="t":offsetTop+elHeight>wh?newDirectionSecond="b":"l"!==newDirectionSecond&&"r"!==newDirectionSecond||(newDirectionSecond="c")),(newDirection=newDirectionFirst+newDirectionSecond)!==direction&&(prevDirection="",showTip(newDirection))}function hideTip(){$timeout.cancel(scope.hidePosTimer),$timeout.cancel(scope.hideTimer),el.hasClass("show")&&(scope.changeCallback({show:!1}),scope.hidePosTimer=$timeout(function(){el.css({left:0,top:0})},300),scope.hideTimer=$timeout(function(){el.removeClass("show")},10))}function stopp(e){e.stopPropagation()}var el=(0,_jquery2["default"])(_maTooltipTpl2["default"]),content=el.find(".ma-tooltip-content"),defaultDirection="tc",isPopconfirm=!1,direction=defaultDirection,prevDirection="",isClickHide=!1;(0,_jquery2["default"])("body").append(el),(0,_jquery2["default"])(element).hover(function(d){isClickHide||isPopconfirm||showTip()},function(){isClickHide||isPopconfirm||hideTip()}).on("mousemove",stopp),el.hover(function(d){isClickHide||isPopconfirm||showTip()},function(){isClickHide||isPopconfirm||hideTip()}).on("mousemove",stopp),(0,_jquery2["default"])("body").on("mousemove",hideTip),attrs.$observe("maTooltip",function(d){content.html(d),el.css({width:"",height:""}),$timeout(function(){el.width(el.width()+1),el.height(el.height()+1)},50),$compile(content.contents())(scope.contentScope||scope)}),attrs.$observe("maClickHide",function(d){"true"==d&&(isClickHide=!0,el.on("click",stopp),(0,_jquery2["default"])("body").off("mousemove",hideTip),(0,_jquery2["default"])("body").on("click",function(e){(0,_jquery2["default"])(e.target).parents(".ma-popconfirm").length&&(0,_jquery2["default"])(e.target).parents(".ma-popconfirm").get(0)===element[0]||hideTip()}))}),attrs.$observe("maPopconfirm",function(d){"true"==d&&(isPopconfirm=!0,el.addClass("ma-popconfirm-tooltip"),element.on("click",function(){showTip()}))}),scope.$on("$destroy",function(d){el.remove(),(0,_jquery2["default"])("body").off("mousemove",hideTip),(0,_jquery2["default"])("body").off("click",hideTip)}),attrs.$observe("maDirection",setDirection),scope.$on("tooltip.hide",hideTip),setDirection(defaultDirection)}}}var _name=__webpack_require__("wV6C"),_name2=_interopRequireDefault(_name),_jquery=__webpack_require__("7t+N"),_jquery2=_interopRequireDefault(_jquery),_debounce=__webpack_require__("HhAh"),_maTooltipTpl=(_interopRequireDefault(_debounce),__webpack_require__("pSmv")),_maTooltipTpl2=_interopRequireDefault(_maTooltipTpl);angular.module(_name2["default"]).directive("maTooltip",maTooltip),maTooltip.$inject=["$timeout","$compile"]},wV6C:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]="meetyou.angular.ui.tooltip"}},["VSd5"]);
//# sourceMappingURL=tooltip.min.js.map