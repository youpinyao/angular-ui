{"version":3,"sources":["webpack:///./src/components/message/src/service.js?fcb6","webpack:///./src/components/message/src/maMessageTpl.html?5b61","webpack:///./src/components/message/src/name.js?1c30","webpack:///./src/components/message/index.js?581d","webpack:///./src/components/message/src/directive.js?7db6"],"names":["angular","module","factory","messageFactory","$inject","$rootScope","$q","$http","$timeout","$compile","weakTipList","messageBox","length","append","$hideMessage","hideMessage","index","msg","hide","setTimeout","remove","danger","text","show","success","warning","type","clearList","hasSame","push","list","forEach","d","has","config","run","require","directive","maMessage","restrict","link","scope","element","attrs","ctrl"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEAA,QAAQC,MAAR,oBACGC,OADH,CACW,UADX,EACuBC,cADvB;;AAGAA,eAAeC,OAAf,GAAyB,CAAC,YAAD,EAAe,IAAf,EAAqB,OAArB,EAA8B,UAA9B,EAA0C,UAA1C,CAAzB;;AAEA,SAASD,cAAT,CAAwBE,UAAxB,EAAoCC,EAApC,EAAwCC,KAAxC,EAA+CC,QAA/C,EAAyDC,QAAzD,EAAmE;AACjEJ,aAAWK,WAAX,GAAyB,EAAzB;;AAEA,MAAIC,aAAa,yBAAE,WAAF,CAAjB;;AAEA,MAAI,CAACA,WAAWC,MAAhB,EAAwB;AACtBD,iBAAa,mDAAb;AACA,6BAAE,MAAF,EAAUE,MAAV,CAAiBF,UAAjB;AACAF,aAASE,UAAT,EAAqBN,UAArB;AACAA,eAAWS,YAAX,GAA0BC,WAA1B;AACD;;AAED,WAASA,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,QAAMC,MAAMZ,WAAWK,WAAX,CAAuBM,KAAvB,CAAZ;;AAEAC,QAAIC,IAAJ,GAAW,IAAX;AACAV;AACAW,eAAW,UAASF,GAAT,EAAc;AACvBA,UAAIG,MAAJ,GAAa,IAAb;AACAZ;AACD,KAHD,EAGG,GAHH,EAGQS,GAHR;AAID;;AAED,SAAO;AACLI,UADK,kBACEC,IADF,EACQ;AACX,WAAKC,IAAL,CAAU,QAAV,EAAoBD,IAApB;AACD,KAHI;AAILE,WAJK,mBAIGF,IAJH,EAIS;AACZ,WAAKC,IAAL,CAAU,SAAV,EAAqBD,IAArB;AACD,KANI;AAOLG,WAPK,mBAOGH,IAPH,EAOS;AACZ,WAAKC,IAAL,CAAU,SAAV,EAAqBD,IAArB;AACD,KATI;AAULC,QAVK,gBAUAG,IAVA,EAUMJ,IAVN,EAUY;AACf,WAAKK,SAAL;AACA,UAAI,KAAKC,OAAL,CAAaF,IAAb,EAAmBJ,IAAnB,CAAJ,EAA8B;AAC5B;AACD;;AAED,UAAIL,MAAM;AACRS,cAAMA,IADE;AAERJ,cAAMA,QAAQ;AAFN,OAAV;AAIAjB,iBAAWK,WAAX,CAAuBmB,IAAvB,CAA4BZ,GAA5B;;AAEAE,iBAAW,UAASF,GAAT,EAAc;AACvBA,YAAIC,IAAJ,GAAW,KAAX;AACAV;AACD,OAHD,EAGG,EAHH,EAGOS,GAHP;;AAKAE,iBAAW,UAASF,GAAT,EAAc;AACvBA,YAAIC,IAAJ,GAAW,IAAX;AACAV;AACAW,mBAAW,UAASF,GAAT,EAAc;AACvBA,cAAIG,MAAJ,GAAa,IAAb;AACAZ;AACD,SAHD,EAGG,GAHH,EAGQS,GAHR;AAID,OAPD,EAOG,IAPH,EAOSA,GAPT;AAQD,KAnCI;AAoCLU,aApCK,uBAoCO;AACV,UAAIG,OAAO,EAAX;AACA9B,cAAQ+B,OAAR,CAAgB1B,WAAWK,WAA3B,EAAwC,aAAK;AAC3C,YAAIsB,EAAEZ,MAAF,KAAa,IAAjB,EAAuB;AACrBU,eAAKD,IAAL,CAAUG,CAAV;AACD;AACF,OAJD;AAKA3B,iBAAWK,WAAX,GAAyBoB,IAAzB;AACD,KA5CI;AA6CLF,WA7CK,mBA6CGF,IA7CH,EA6CSJ,IA7CT,EA6Ce;AAClB,UAAIW,MAAM,KAAV;AACAjC,cAAQ+B,OAAR,CAAgB1B,WAAWK,WAA3B,EAAwC,aAAK;AAC3C,YAAIsB,EAAEV,IAAF,KAAWA,IAAX,IAAmBU,EAAEN,IAAF,KAAWA,IAAlC,EAAwC;AACtCO,gBAAM,IAAN;AACD;AACF,OAJD;;AAMA,aAAOA,GAAP;AACD;AAtDI,GAAP;AAwDD,C;;;;;;;ACxFD,sOAAsO,6JAA6J,kE;;;;;;;;;;;;;qBCApX,4B;;;;;;;;;;;;;;ACAf;;;;;;AAEAjC,QAAQC,MAAR,oBAA2B,EAA3B,EAA+BiC,MAA/B,CAAsC,YAAY,CAAE,CAApD,EAAsDC,GAAtD,CAA0D,YAAY,CAAE,CAAxE;;AAEA,mBAAAC,CAAQ,MAAR;AACA,mBAAAA,CAAQ,MAAR;;;;;;;;;;;;ACLA;;;;;;AAEApC,QAAQC,MAAR,oBACGoC,SADH,CACa,WADb,EAC0BC,SAD1B;;AAGAA,UAAUlC,OAAV,GAAoB,EAApB;;AAEA,SAASkC,SAAT,GAAqB;AACnB,SAAO;AACLC,cAAU,GADL;AAELC,UAAM,cAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,KAA1B,EAAiCC,IAAjC,EAAuC,CAE5C;AAJI,GAAP;AAMD,C","file":"message.js","sourcesContent":["import moduleName from './name.js';\nimport $ from 'jquery';\nimport maMessageTpl from './maMessageTpl.html';\n\nangular.module(moduleName)\n  .factory('$message', messageFactory);\n\nmessageFactory.$inject = ['$rootScope', '$q', '$http', '$timeout', '$compile'];\n\nfunction messageFactory($rootScope, $q, $http, $timeout, $compile) {\n  $rootScope.weakTipList = [];\n\n  let messageBox = $('.weak-tip');\n\n  if (!messageBox.length) {\n    messageBox = $(maMessageTpl);\n    $('body').append(messageBox);\n    $compile(messageBox)($rootScope);\n    $rootScope.$hideMessage = hideMessage;\n  }\n\n  function hideMessage(index) {\n    const msg = $rootScope.weakTipList[index];\n\n    msg.hide = true;\n    $timeout();\n    setTimeout(function(msg) {\n      msg.remove = true;\n      $timeout();\n    }, 800, msg);\n  }\n\n  return {\n    danger(text) {\n      this.show('danger', text);\n    },\n    success(text) {\n      this.show('success', text);\n    },\n    warning(text) {\n      this.show('warning', text);\n    },\n    show(type, text) {\n      this.clearList();\n      if (this.hasSame(type, text)) {\n        return;\n      }\n\n      var msg = {\n        type: type,\n        text: text || 'ç©º'\n      };\n      $rootScope.weakTipList.push(msg);\n\n      setTimeout(function(msg) {\n        msg.hide = false;\n        $timeout();\n      }, 50, msg);\n\n      setTimeout(function(msg) {\n        msg.hide = true;\n        $timeout();\n        setTimeout(function(msg) {\n          msg.remove = true;\n          $timeout();\n        }, 350, msg);\n      }, 2000, msg);\n    },\n    clearList() {\n      let list = [];\n      angular.forEach($rootScope.weakTipList, d => {\n        if (d.remove !== true) {\n          list.push(d);\n        }\n      });\n      $rootScope.weakTipList = list;\n    },\n    hasSame(type, text) {\n      let has = false;\n      angular.forEach($rootScope.weakTipList, d => {\n        if (d.text === text && d.type === type) {\n          has = true;\n        }\n      });\n\n      return has;\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/src/service.js","module.exports = \"<div class=\\\"weak-tip\\\" ng-show=\\\"$root.weakTipList.length\\\">\\n  <div ng-repeat=\\\"tip in $root.weakTipList\\\" ng-if=\\\"tip.remove !== true\\\">\\n    <div\\n    ng-click=\\\"$root.$hideMessage($index)\\\"\\n    ng-class=\\\"{'show-in': tip.hide === false, 'weak-tip-success': tip.type == 'success', 'weak-tip-danger': tip.type == 'danger', 'weak-tip-warning': tip.type == 'warning'}\\\" ng-bind=\\\"tip.text\\\"\\n    ng-cloak></div>\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/message/src/maMessageTpl.html\n// module id = F7JF\n// module chunks = 3 20","export default 'meetyou.angular.ui.message';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/src/name.js","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\nrequire('./src/service.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/index.js","import moduleName from './name.js';\n\nangular.module(moduleName)\n  .directive('maMessage', maMessage);\n\nmaMessage.$inject = [];\n\nfunction maMessage() {\n  return {\n    restrict: 'A',\n    link: function (scope, element, attrs, ctrl) {\n\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/src/directive.js"],"sourceRoot":""}