{"version":3,"sources":["webpack:///pagination.min.js","webpack:///./src/components/pagination/index.js","webpack:///./src/components/pagination/src/maPaginationTpl.html","webpack:///./src/components/pagination/src/directive.js","webpack:///./src/components/pagination/src/name.js"],"names":["webpackJsonp","/6x9","module","exports","__webpack_require__","Object","defineProperty","value","_name","_name2","obj","__esModule","default","angular","config","run","QFx1","t4JU","_interopRequireDefault","maPagination","$timeout","$compile","restrict","replace","template","scope","conf","link","element","attrs","getPagination","newValue","oldValue","currentPage","parseInt","totalItems","itemsPerPage","defaultPerPage","numberOfPages","Math","ceil","perPageOptionsStatus","perPageOptionsLength","perPageOptions","length","i","push","text","selectItem","pageList","pagesLength","offset","floor","$parent","inDocument","document","querySelector","uuid","_v2","defaultPerPageOptions","map","item","prevPage","onChange","nextPage","changeCurrentPage","jumpPageNum","changeItemsPerPage","jumpToPage","num","match","jumpPageKeyUp","e","window","event","keyCode","which","$watch","_maPaginationTpl","_maPaginationTpl2","_jquery","_v","directive","$inject","w0m/"],"mappings":"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","file":"pagination.min.js","sourcesContent":["webpackJsonp([23],{\n\n/***/ \"/6x9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name = __webpack_require__(\"w0m/\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default'], []).config(function () {}).run(function () {});\n\n__webpack_require__(\"t4JU\");\n\nexports['default'] = _name2['default'];\n\n/***/ }),\n\n/***/ \"QFx1\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"ma-pagination\\\" id=\\\"{{uuid}}\\\">\\n  <div class=\\\"pagination-item\\\">\\n    <div class=\\\"page-total\\\">共<strong>{{ conf.totalItems }}</strong>条数据</div>\\n  </div>\\n  <div class=\\\"pagination-item\\\" ng-show=\\\"conf.totalItems > 0\\\">\\n    <ul class=\\\"pagination\\\" ng-show=\\\"conf.totalItems > 0\\\">\\n        <li class=\\\"prev\\\" ng-class=\\\"{disabled: conf.currentPage == 1}\\\" ng-click=\\\"prevPage()\\\"><span>&laquo;</span></li>\\n        <li ng-repeat=\\\"item in pageList track by $index\\\" ng-class=\\\"{active: item == conf.currentPage, separate: item == '...'}\\\" ng-click=\\\"changeCurrentPage(item)\\\"><span>{{ item }}</span></li>\\n        <li class=\\\"next\\\" ng-class=\\\"{disabled: conf.currentPage == conf.numberOfPages}\\\" ng-click=\\\"nextPage()\\\"><span>&raquo;</span></li>\\n      </ul>\\n  </div>\\n\\n  <div class=\\\"pagination-item\\\" ng-show=\\\"conf.totalItems > 0\\\">\\n    <div class=\\\"page-jump\\\">\\n      跳转至第<input class=\\\"jump-page-input\\\"\\n            id=\\\"page\\\"\\n            min=\\\"1\\\"\\n            placeholder=\\\"\\\"\\n            ng-model=\\\"conf.jumpPageNum\\\"\\n            ng-init=\\\"1\\\"\\n            ng-keyup=\\\"jumpPageKeyUp($event)\\\">页\\n    </div>\\n  </div>\\n  <div class=\\\"pagination-item\\\">\\n    <div class=\\\"pagination-select\\\">\\n      <ma-select ng-model=\\\"conf.selectItem\\\" ma-data=\\\"conf.perPageOptions\\\"></ma-select>\\n    </div>\\n  </div>\\n</div>\\n\";\n\n/***/ }),\n\n/***/ \"t4JU\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _name = __webpack_require__(\"w0m/\");\n\nvar _name2 = _interopRequireDefault(_name);\n\nvar _maPaginationTpl = __webpack_require__(\"QFx1\");\n\nvar _maPaginationTpl2 = _interopRequireDefault(_maPaginationTpl);\n\nvar _jquery = __webpack_require__(\"7t+N\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _v = __webpack_require__(\"DtRx\");\n\nvar _v2 = _interopRequireDefault(_v);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nangular.module(_name2['default']).directive('maPagination', maPagination);\n\nmaPagination.$inject = ['$timeout', '$compile'];\n\nfunction maPagination($timeout, $compile) {\n  return {\n    restrict: 'EA',\n    replace: true,\n    template: _maPaginationTpl2['default'],\n    scope: {\n      conf: '=maConfig'\n    },\n    link: function link(scope, element, attrs) {\n      var conf = scope.conf;\n\n      var uuid = 'ma-pagination-' + (0, _v2['default'])();\n\n      // 默认分页长度\n      var defaultPagesLength = 5;\n\n      // 默认分页选项可调整每页显示的条数\n      var defaultPerPageOptions = [10, 15, 20, 30, 50];\n\n      // 默认每页的个数\n      var defaultPerPage = 10;\n\n      scope.uuid = uuid;\n\n      // 获取分页长度\n      if (conf.pagesLength) {\n        // 判断一下分页长度\n        conf.pagesLength = parseInt(conf.pagesLength, 10);\n\n        if (!conf.pagesLength) {\n          conf.pagesLength = defaultPagesLength;\n        }\n\n        // 分页长度必须为奇数，如果传偶数时，自动处理\n        if (conf.pagesLength % 2 === 0) {\n          conf.pagesLength += 1;\n        }\n      } else {\n        conf.pagesLength = defaultPagesLength;\n      }\n\n      // 分页选项可调整每页显示的条数\n      if (!conf.perPageOptions) {\n        conf.perPageOptions = defaultPerPageOptions.map(function (item) {\n          return {\n            text: item + ' 条 / 页',\n            value: item\n          };\n        });\n      } else {\n        conf.perPageOptions = conf.perPageOptions.map(function (item) {\n          return {\n            text: item + ' 条 / 页',\n            value: item\n          };\n        });\n      }\n\n      // pageList数组\n      function getPagination(newValue, oldValue) {\n        // conf.currentPage\n        if (conf.currentPage) {\n          conf.currentPage = parseInt(scope.conf.currentPage, 10);\n        }\n\n        if (!conf.currentPage) {\n          conf.currentPage = 1;\n        }\n\n        // conf.totalItems\n        if (conf.totalItems) {\n          conf.totalItems = parseInt(conf.totalItems, 10);\n        }\n\n        // conf.totalItems\n        if (!conf.totalItems) {\n          conf.totalItems = 0;\n          return;\n        }\n\n        if (!conf.itemsPerPage) {\n          conf.itemsPerPage = defaultPerPage;\n        }\n        // numberOfPages\n        conf.numberOfPages = Math.ceil(conf.totalItems / parseInt(conf.itemsPerPage, 10));\n        // 如果分页总数>0，并且当前页大于分页总数\n        if (scope.conf.numberOfPages > 0 && scope.conf.currentPage > scope.conf.numberOfPages) {\n          scope.conf.currentPage = scope.conf.numberOfPages;\n        }\n\n        // 如果itemsPerPage在不在perPageOptions数组中，就把itemsPerPage加入这个数组中\n        var perPageOptionsLength = scope.conf.perPageOptions.length;\n\n        // 定义状态\n        var perPageOptionsStatus;\n        for (var i = 0; i < perPageOptionsLength; i++) {\n          if (conf.perPageOptions[i].value == conf.itemsPerPage) {\n            perPageOptionsStatus = true;\n          }\n        }\n        // 如果itemsPerPage在不在perPageOptions数组中，就把itemsPerPage加入这个数组中\n        if (!perPageOptionsStatus) {\n          conf.perPageOptions.push({\n            text: conf.itemsPerPage + ' 条 / 页',\n            value: conf.itemsPerPage\n          });\n        }\n\n        // 对选项进行sort\n        // conf.perPageOptions.sort(function(a, b) { return a - b; });\n        if (!conf.selectItem) {\n          conf.selectItem = conf.perPageOptions[0];\n        }\n        // 页码相关\n        scope.pageList = [];\n        if (conf.numberOfPages <= conf.pagesLength) {\n          // 判断总页数如果小于等于分页的长度，若小于则直接显示\n          for (var _i = 1; _i <= conf.numberOfPages; _i++) {\n            scope.pageList.push(_i);\n          }\n        } else {\n          // 总页数大于分页长度（此时分为三种情况：1.左边没有...2.右边没有...3.左右都有...）\n          // 计算中心偏移量\n\n          var offset = (conf.pagesLength + 1) / 2;\n          if (conf.currentPage <= offset) {\n            // 左边没有...\n            for (var _i2 = 1; _i2 <= offset + 1; _i2++) {\n              scope.pageList.push(_i2);\n            }\n            scope.pageList.push('...');\n            scope.pageList.push(conf.numberOfPages);\n          } else if (conf.currentPage > conf.numberOfPages - offset) {\n            scope.pageList.push(1);\n            scope.pageList.push('...');\n            for (var _i3 = offset; _i3 >= 1; _i3--) {\n              scope.pageList.push(conf.numberOfPages - _i3);\n            }\n            scope.pageList.push(conf.numberOfPages);\n          } else {\n            // 最后一种情况，两边都有...\n            scope.pageList.push(1);\n            scope.pageList.push('...');\n            for (var _i4 = Math.floor(offset / 2); _i4 >= 1; _i4--) {\n              scope.pageList.push(conf.currentPage - _i4);\n            }\n            scope.pageList.push(conf.currentPage);\n            for (var _i5 = 1; _i5 <= offset / 2; _i5++) {\n              scope.pageList.push(conf.currentPage + _i5);\n            }\n\n            scope.pageList.push('...');\n            scope.pageList.push(conf.numberOfPages);\n          }\n        }\n\n        scope.$parent.conf = conf;\n      }\n\n      // prevPage\n      scope.prevPage = function () {\n        if (conf.currentPage > 1) {\n          conf.currentPage -= 1;\n          getPagination();\n          if (conf.onChange) {\n            conf.onChange(conf.currentPage, conf.itemsPerPage);\n          }\n        }\n      };\n\n      // nextPage\n      scope.nextPage = function () {\n        if (conf.currentPage < conf.numberOfPages) {\n          conf.currentPage += 1;\n          getPagination();\n          if (conf.onChange) {\n            conf.onChange(conf.currentPage, conf.itemsPerPage);\n          }\n        }\n      };\n\n      // 变更当前页\n      scope.changeCurrentPage = function (item) {\n        if (item !== '...' && item !== conf.currentPage) {\n          conf.currentPage = item;\n          conf.jumpPageNum = conf.currentPage;\n          getPagination();\n          // conf.onChange()函数\n          if (conf.onChange) {\n            conf.onChange(conf.currentPage, conf.itemsPerPage);\n          }\n        }\n      };\n\n      // 修改每页展示的条数\n      scope.changeItemsPerPage = function () {\n        // 一发展示条数变更，当前页将重置为1\n        conf.currentPage = 1;\n        conf.jumpPageNum = 1;\n        getPagination();\n        // conf.onChange()函数\n        if (conf.onChange) {\n          conf.onChange(conf.currentPage, conf.itemsPerPage);\n        }\n      };\n\n      // 跳转页\n      scope.jumpToPage = function () {\n        var num = conf.jumpPageNum;\n        if (num.match(/\\d+/)) {\n          num = parseInt(num, 10);\n          if (num && num != conf.currentPage) {\n            if (num > conf.numberOfPages) {\n              num = conf.numberOfPages;\n            }\n\n            // 跳转\n            conf.currentPage = num;\n            getPagination();\n            // conf.onChange()函数\n            if (conf.onChange) {\n              conf.onChange(conf.currentPage, conf.itemsPerPage);\n            }\n            scope.jumpPageNum = '';\n          }\n        }\n      };\n\n      scope.jumpPageKeyUp = function (e) {\n        var keycode = window.event ? e.keyCode : e.which;\n\n        if (keycode == 13) {\n          scope.jumpToPage();\n        }\n      };\n      scope.$watch('conf.totalItems', function (value, oldValue) {\n        if (!inDocument()) {\n          return;\n        }\n        // if (!value || value == oldValue) {\n        //   if (conf.onChange) {\n        //     conf.onChange();\n        //   }\n        // }\n        getPagination();\n      });\n      scope.$watch('conf.selectItem', function (value, oldValue) {\n        if (!inDocument()) {\n          return;\n        }\n        if (value || value !== oldValue) {\n          conf.itemsPerPage = value.value;\n          scope.changeItemsPerPage();\n        }\n      });\n\n      function inDocument() {\n        if (!document.querySelector('#' + uuid)) {\n          return false;\n        }\n        return true;\n      }\n      // scope.$watch('conf.currentPage', function(value, oldValue) {\n      //   if (value || conf.currentPage !== conf.jumpPageNum) {\n      //     // conf.jumpPageNum = value;\n      //     scope.changeCurrentPage(value);\n      //   }\n      // });\n    }\n  };\n}\n\n/***/ }),\n\n/***/ \"w0m/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = 'meetyou.angular.ui.pagination';\n\n/***/ })\n\n},[\"/6x9\"]);\n\n\n// WEBPACK FOOTER //\n// pagination.min.js","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/pagination/index.js","module.exports = \"<div class=\\\"ma-pagination\\\" id=\\\"{{uuid}}\\\">\\n  <div class=\\\"pagination-item\\\">\\n    <div class=\\\"page-total\\\">共<strong>{{ conf.totalItems }}</strong>条数据</div>\\n  </div>\\n  <div class=\\\"pagination-item\\\" ng-show=\\\"conf.totalItems > 0\\\">\\n    <ul class=\\\"pagination\\\" ng-show=\\\"conf.totalItems > 0\\\">\\n        <li class=\\\"prev\\\" ng-class=\\\"{disabled: conf.currentPage == 1}\\\" ng-click=\\\"prevPage()\\\"><span>&laquo;</span></li>\\n        <li ng-repeat=\\\"item in pageList track by $index\\\" ng-class=\\\"{active: item == conf.currentPage, separate: item == '...'}\\\" ng-click=\\\"changeCurrentPage(item)\\\"><span>{{ item }}</span></li>\\n        <li class=\\\"next\\\" ng-class=\\\"{disabled: conf.currentPage == conf.numberOfPages}\\\" ng-click=\\\"nextPage()\\\"><span>&raquo;</span></li>\\n      </ul>\\n  </div>\\n\\n  <div class=\\\"pagination-item\\\" ng-show=\\\"conf.totalItems > 0\\\">\\n    <div class=\\\"page-jump\\\">\\n      跳转至第<input class=\\\"jump-page-input\\\"\\n            id=\\\"page\\\"\\n            min=\\\"1\\\"\\n            placeholder=\\\"\\\"\\n            ng-model=\\\"conf.jumpPageNum\\\"\\n            ng-init=\\\"1\\\"\\n            ng-keyup=\\\"jumpPageKeyUp($event)\\\">页\\n    </div>\\n  </div>\\n  <div class=\\\"pagination-item\\\">\\n    <div class=\\\"pagination-select\\\">\\n      <ma-select ng-model=\\\"conf.selectItem\\\" ma-data=\\\"conf.perPageOptions\\\"></ma-select>\\n    </div>\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pagination/src/maPaginationTpl.html\n// module id = QFx1\n// module chunks = 23","import moduleName from './name.js';\nimport maPaginationTpl from './maPaginationTpl.html';\nimport $ from 'jquery';\nimport getUuid from 'uuid/v4';\n\nangular.module(moduleName)\n  .directive('maPagination', maPagination);\n\nmaPagination.$inject = ['$timeout', '$compile'];\n\nfunction maPagination($timeout, $compile) {\n  return {\n    restrict: 'EA',\n    replace: true,\n    template: maPaginationTpl,\n    scope: {\n      conf: '=maConfig'\n    },\n    link: function(scope, element, attrs) {\n      var conf = scope.conf;\n\n      var uuid = `ma-pagination-${getUuid()}`;\n\n      // 默认分页长度\n      var defaultPagesLength = 5;\n\n      // 默认分页选项可调整每页显示的条数\n      var defaultPerPageOptions = [10, 15, 20, 30, 50];\n\n      // 默认每页的个数\n      var defaultPerPage = 10;\n\n      scope.uuid = uuid;\n\n      // 获取分页长度\n      if (conf.pagesLength) {\n        // 判断一下分页长度\n        conf.pagesLength = parseInt(conf.pagesLength, 10);\n\n        if (!conf.pagesLength) {\n          conf.pagesLength = defaultPagesLength;\n        }\n\n        // 分页长度必须为奇数，如果传偶数时，自动处理\n        if (conf.pagesLength % 2 === 0) {\n          conf.pagesLength += 1;\n        }\n      } else {\n        conf.pagesLength = defaultPagesLength;\n      }\n\n      // 分页选项可调整每页显示的条数\n      if (!conf.perPageOptions) {\n        conf.perPageOptions = defaultPerPageOptions.map(function(item) {\n          return {\n            text: item + ' 条 / 页',\n            value: item\n          };\n        });\n      } else {\n        conf.perPageOptions = conf.perPageOptions.map(function(item) {\n          return {\n            text: item + ' 条 / 页',\n            value: item\n          };\n        });\n      }\n\n      // pageList数组\n      function getPagination(newValue, oldValue) {\n        // conf.currentPage\n        if (conf.currentPage) {\n          conf.currentPage = parseInt(scope.conf.currentPage, 10);\n        }\n\n        if (!conf.currentPage) {\n          conf.currentPage = 1;\n        }\n\n        // conf.totalItems\n        if (conf.totalItems) {\n          conf.totalItems = parseInt(conf.totalItems, 10);\n        }\n\n        // conf.totalItems\n        if (!conf.totalItems) {\n          conf.totalItems = 0;\n          return;\n        }\n\n        if (!conf.itemsPerPage) {\n          conf.itemsPerPage = defaultPerPage;\n        }\n        // numberOfPages\n        conf.numberOfPages = Math.ceil(conf.totalItems / parseInt(conf.itemsPerPage, 10));\n        // 如果分页总数>0，并且当前页大于分页总数\n        if (scope.conf.numberOfPages > 0 && scope.conf.currentPage > scope.conf.numberOfPages) {\n          scope.conf.currentPage = scope.conf.numberOfPages;\n        }\n\n        // 如果itemsPerPage在不在perPageOptions数组中，就把itemsPerPage加入这个数组中\n        var perPageOptionsLength = scope.conf.perPageOptions.length;\n\n        // 定义状态\n        var perPageOptionsStatus;\n        for (let i = 0; i < perPageOptionsLength; i++) {\n          if (conf.perPageOptions[i].value == conf.itemsPerPage) {\n            perPageOptionsStatus = true;\n          }\n        }\n        // 如果itemsPerPage在不在perPageOptions数组中，就把itemsPerPage加入这个数组中\n        if (!perPageOptionsStatus) {\n          conf.perPageOptions.push({\n            text: conf.itemsPerPage + ' 条 / 页',\n            value: conf.itemsPerPage\n          });\n        }\n\n        // 对选项进行sort\n        // conf.perPageOptions.sort(function(a, b) { return a - b; });\n        if (!conf.selectItem) {\n          conf.selectItem = conf.perPageOptions[0];\n        }\n        // 页码相关\n        scope.pageList = [];\n        if (conf.numberOfPages <= conf.pagesLength) {\n          // 判断总页数如果小于等于分页的长度，若小于则直接显示\n          for (let i = 1; i <= conf.numberOfPages; i++) {\n            scope.pageList.push(i);\n          }\n        } else {\n          // 总页数大于分页长度（此时分为三种情况：1.左边没有...2.右边没有...3.左右都有...）\n          // 计算中心偏移量\n\n          var offset = (conf.pagesLength + 1) / 2;\n          if (conf.currentPage <= offset) {\n            // 左边没有...\n            for (let i = 1; i <= offset + 1; i++) {\n              scope.pageList.push(i);\n            }\n            scope.pageList.push('...');\n            scope.pageList.push(conf.numberOfPages);\n          } else if (conf.currentPage > conf.numberOfPages - offset) {\n            scope.pageList.push(1);\n            scope.pageList.push('...');\n            for (let i = offset; i >= 1; i--) {\n              scope.pageList.push(conf.numberOfPages - i);\n            }\n            scope.pageList.push(conf.numberOfPages);\n          } else {\n            // 最后一种情况，两边都有...\n            scope.pageList.push(1);\n            scope.pageList.push('...');\n            for (let i = Math.floor(offset / 2); i >= 1; i--) {\n              scope.pageList.push(conf.currentPage - i);\n            }\n            scope.pageList.push(conf.currentPage);\n            for (let i = 1; i <= offset / 2; i++) {\n              scope.pageList.push(conf.currentPage + i);\n            }\n\n            scope.pageList.push('...');\n            scope.pageList.push(conf.numberOfPages);\n          }\n        }\n\n        scope.$parent.conf = conf;\n      }\n\n      // prevPage\n      scope.prevPage = function() {\n        if (conf.currentPage > 1) {\n          conf.currentPage -= 1;\n          getPagination();\n          if (conf.onChange) {\n            conf.onChange(conf.currentPage, conf.itemsPerPage);\n          }\n        }\n      };\n\n      // nextPage\n      scope.nextPage = function() {\n        if (conf.currentPage < conf.numberOfPages) {\n          conf.currentPage += 1;\n          getPagination();\n          if (conf.onChange) {\n            conf.onChange(conf.currentPage, conf.itemsPerPage);\n          }\n        }\n      };\n\n      // 变更当前页\n      scope.changeCurrentPage = function(item) {\n        if (item !== '...' && item !== conf.currentPage) {\n          conf.currentPage = item;\n          conf.jumpPageNum = conf.currentPage;\n          getPagination();\n          // conf.onChange()函数\n          if (conf.onChange) {\n            conf.onChange(conf.currentPage, conf.itemsPerPage);\n          }\n        }\n      };\n\n      // 修改每页展示的条数\n      scope.changeItemsPerPage = function() {\n        // 一发展示条数变更，当前页将重置为1\n        conf.currentPage = 1;\n        conf.jumpPageNum = 1;\n        getPagination();\n        // conf.onChange()函数\n        if (conf.onChange) {\n          conf.onChange(conf.currentPage, conf.itemsPerPage);\n        }\n      };\n\n      // 跳转页\n      scope.jumpToPage = function() {\n        let num = conf.jumpPageNum;\n        if (num.match(/\\d+/)) {\n          num = parseInt(num, 10);\n          if (num && num != conf.currentPage) {\n            if (num > conf.numberOfPages) {\n              num = conf.numberOfPages;\n            }\n\n            // 跳转\n            conf.currentPage = num;\n            getPagination();\n            // conf.onChange()函数\n            if (conf.onChange) {\n              conf.onChange(conf.currentPage, conf.itemsPerPage);\n            }\n            scope.jumpPageNum = '';\n          }\n        }\n      };\n\n      scope.jumpPageKeyUp = function(e) {\n        var keycode = window.event ? e.keyCode : e.which;\n\n        if (keycode == 13) {\n          scope.jumpToPage();\n        }\n      };\n      scope.$watch('conf.totalItems', function(value, oldValue) {\n        if (!inDocument()) {\n          return;\n        }\n        // if (!value || value == oldValue) {\n        //   if (conf.onChange) {\n        //     conf.onChange();\n        //   }\n        // }\n        getPagination();\n      });\n      scope.$watch('conf.selectItem', function(value, oldValue) {\n        if (!inDocument()) {\n          return;\n        }\n        if (value || value !== oldValue) {\n          conf.itemsPerPage = value.value;\n          scope.changeItemsPerPage();\n        }\n      });\n\n      function inDocument() {\n        if (!document.querySelector(`#${uuid}`)) {\n          return false;\n        }\n        return true;\n      }\n      // scope.$watch('conf.currentPage', function(value, oldValue) {\n      //   if (value || conf.currentPage !== conf.jumpPageNum) {\n      //     // conf.jumpPageNum = value;\n      //     scope.changeCurrentPage(value);\n      //   }\n      // });\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/pagination/src/directive.js","export default 'meetyou.angular.ui.pagination';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/pagination/src/name.js"],"sourceRoot":""}