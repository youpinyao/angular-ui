{"version":3,"sources":["webpack:///./src/components/checkbox/src/directive.js?151e**","webpack:///./src/components/checkbox/src/name.js?1ee6**","webpack:///./src/components/checkbox/index.js?aa85**"],"names":["angular","module","directive","maCheckbox","$inject","$timeout","restrict","transclude","replace","template","scope","name","value","model","ngChange","disabled","link","element","attrs","ctrl","$watch","isArray","d","each","v","k","String","find","val","checked","change","$model","$checked","$observe","bind","e","preventDefault","$applyAsync","checkboxs","parent","values","length","push","config","run","require"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;AAEAA,QAAQC,MAAR,oBACGC,SADH,CACa,YADb,EAC2BC,UAD3B;;AAGAA,WAAWC,OAAX,GAAqB,CAAC,UAAD,CAArB;;AAEA,SAASD,UAAT,CAAoBE,QAApB,EAA8B;AAC5B,SAAO;AACLC,cAAU,GADL;AAELC,gBAAY,IAFP;AAGLC,aAAS,IAHJ;AAILC,mTAJK;AAeLC,WAAO;AACLC,YAAM,OADD;AAELC,aAAO,QAFF;AAGLC,aAAO,UAHF;AAILC,gBAAU,WAJL;AAKLC,gBAAU;AALL,KAfF;AAsBLC,UAAM,cAASN,KAAT,EAAgBO,OAAhB,EAAyBC,KAAzB,EAAgCC,IAAhC,EAAsC;AAC1CT,YAAMU,MAAN,CAAa,OAAb,EAAsB,aAAK;AACzB,YAAIpB,QAAQqB,OAAR,CAAgBC,CAAhB,CAAJ,EAAwB;AACtBtB,kBAAQuB,IAAR,CAAaD,CAAb,EAAgB,UAACE,CAAD,EAAIC,CAAJ,EAAU;AACxB,gBAAIC,OAAOF,CAAP,MAAcP,QAAQU,IAAR,CAAa,OAAb,EAAsBC,GAAtB,EAAd,IAA6CJ,MAAM,IAAvD,EAA6D;AAC3Dd,oBAAMmB,OAAN,GAAgB,IAAhB;AACD;AACF,WAJD;AAKD,SAND,MAMO,IAAIH,OAAOJ,CAAP,MAAcL,QAAQU,IAAR,CAAa,OAAb,EAAsBC,GAAtB,EAAd,IAA6CN,MAAM,IAAvD,EAA6D;AAClEZ,gBAAMmB,OAAN,GAAgB,IAAhB;AACD,SAFM,MAEA;AACLnB,gBAAMmB,OAAN,GAAgB,KAAhB;AACD;AACF,OAZD;;AAcAnB,YAAMoB,MAAN,GAAe,YAAW;AACxBpB,cAAMI,QAAN,CAAe;AACbiB,kBAAQrB,MAAMG,KADD;AAEbmB,oBAAUtB,MAAMmB;AAFH,SAAf;AAID,OALD;;AAOAX,YAAMe,QAAN,CAAe,SAAf,EAA0B,YAAW;AACnChB,gBAAQiB,IAAR,CAAa,OAAb,EAAsB,UAASC,CAAT,EAAY;AAChCA,YAAEC,cAAF;AACD,SAFD,EAEGT,IAFH,CAEQ,OAFR,EAEiBO,IAFjB,CAEsB,OAFtB,EAE+B,UAASC,CAAT,EAAY;AACzCA,YAAEC,cAAF;AACD,SAJD;AAKD,OAND;;AAQA1B,YAAMU,MAAN,CAAa,SAAb,EAAwB,aAAK;AAC3BV,cAAM2B,WAAN,CAAkB,YAAW;AAC3B,cAAIC,YAAY,yBAAErB,OAAF,EAAWsB,MAAX,GAAoBZ,IAApB,CACd,uCADc,CAAhB;AAEA,cAAIa,SAAS,EAAb;;AAEA,cAAI9B,MAAMC,IAAV,EAAgB;AACd2B,wBAAY,+CAAsB5B,MAAMC,IAA5B,yBAAZ;AACD;;AAED,cAAI,CAAC2B,UAAUG,MAAf,EAAuB;AACrBH,wBAAY,yBAAErB,OAAF,EAAWU,IAAX,CAAgB,OAAhB,CAAZ;AACD;;AAEDW,oBAAUf,IAAV,CAAe,YAAW;AACxB,gBAAI,KAAKM,OAAT,EAAkB;AAChBW,qBAAOE,IAAP,CAAY,KAAK9B,KAAL,IAAc,IAA1B;AACD;AACF,WAJD;AAKA,cAAI0B,UAAUG,MAAV,KAAqB,CAAzB,EAA4B;AAC1B/B,kBAAMG,KAAN,GAAc2B,OAAO,CAAP,KAAa,KAA3B;AACD,WAFD,MAEO;AACL9B,kBAAMG,KAAN,GAAc2B,MAAd;AACD;AACF,SAvBD;AAwBD,OAzBD;AA0BD;AA9EI,GAAP;AAgFD,C;;;;;;;;;;;;;qBCzFc,6B;;;;;;;;;;;;;;ACAf;;;;;;AAEAxC,QAAQC,MAAR,oBAA2B,EAA3B,EAA+B0C,MAA/B,CAAsC,YAAY,CAAE,CAApD,EAAsDC,GAAtD,CAA0D,YAAY,CAAE,CAAxE;;AAEA,mBAAAC,CAAQ,MAAR","file":"checkbox.js","sourcesContent":["import moduleName from './name.js';\nimport $ from 'jquery';\n\nangular.module(moduleName)\n  .directive('maCheckbox', maCheckbox);\n\nmaCheckbox.$inject = ['$timeout'];\n\nfunction maCheckbox($timeout) {\n  return {\n    restrict: 'E',\n    transclude: true,\n    replace: true,\n    template: `<label class=\"ma-checkbox\">\n    <input type=\"checkbox\"\n      value=\"{{value}}\"\n      data-name=\"{{name}}\"\n      ng-disabled=\"disabled\"\n      ng-change=\"change()\"\n      ng-model=\"checked\"\n    />\n    <i class=\"ma-checkbox-appearance\"></i>\n    <span ng-transclude></span>\n    </label>`,\n    scope: {\n      name: '@name',\n      value: '@value',\n      model: '=ngModel',\n      ngChange: '&ngChange',\n      disabled: '=ngDisabled',\n    },\n    link: function(scope, element, attrs, ctrl) {\n      scope.$watch('model', d => {\n        if (angular.isArray(d)) {\n          angular.each(d, (v, k) => {\n            if (String(v) === element.find('input').val() || v === true) {\n              scope.checked = true;\n            }\n          });\n        } else if (String(d) === element.find('input').val() || d === true) {\n          scope.checked = true;\n        } else {\n          scope.checked = false;\n        }\n      });\n\n      scope.change = function() {\n        scope.ngChange({\n          $model: scope.model,\n          $checked: scope.checked,\n        });\n      };\n\n      attrs.$observe('unclick', function() {\n        element.bind('click', function(e) {\n          e.preventDefault();\n        }).find('input').bind('click', function(e) {\n          e.preventDefault();\n        });\n      });\n\n      scope.$watch('checked', d => {\n        scope.$applyAsync(function() {\n          var checkboxs = $(element).parent().find(\n            '> .ma-checkbox input[type=\"checkbox\"]');\n          var values = [];\n\n          if (scope.name) {\n            checkboxs = $(`input[data-name=\"${scope.name}\"][type=\"checkbox\"]`);\n          }\n\n          if (!checkboxs.length) {\n            checkboxs = $(element).find('input');\n          }\n\n          checkboxs.each(function() {\n            if (this.checked) {\n              values.push(this.value || true);\n            }\n          });\n          if (checkboxs.length === 1) {\n            scope.model = values[0] || false;\n          } else {\n            scope.model = values;\n          }\n        });\n      });\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/checkbox/src/directive.js","export default 'meetyou.angular.ui.checkbox';\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/checkbox/src/name.js","import moduleName from './src/name.js';\n\nangular.module(moduleName, []).config(function () {}).run(function () {});\n\nrequire('./src/directive.js');\n\nexport default moduleName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/checkbox/index.js"],"sourceRoot":""}